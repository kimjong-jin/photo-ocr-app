(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function A(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=A(r);fetch(r.href,s)}})();var Li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yg={exports:{}},Ha={},xg={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ei=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),jC=Symbol.for("react.fragment"),ev=Symbol.for("react.strict_mode"),tv=Symbol.for("react.profiler"),Av=Symbol.for("react.provider"),nv=Symbol.for("react.context"),rv=Symbol.for("react.forward_ref"),sv=Symbol.for("react.suspense"),iv=Symbol.for("react.memo"),ov=Symbol.for("react.lazy"),Ud=Symbol.iterator;function av(t){return t===null||typeof t!="object"?null:(t=Ud&&t[Ud]||t["@@iterator"],typeof t=="function"?t:null)}var Eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tg=Object.assign,Ug={};function es(t,e,A){this.props=t,this.context=e,this.refs=Ug,this.updater=A||Eg}es.prototype.isReactComponent={};es.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};es.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fg(){}Fg.prototype=es.prototype;function cf(t,e,A){this.props=t,this.context=e,this.refs=Ug,this.updater=A||Eg}var ff=cf.prototype=new Fg;ff.constructor=cf;Tg(ff,es.prototype);ff.isPureReactComponent=!0;var Fd=Array.isArray,Sg=Object.prototype.hasOwnProperty,df={current:null},Ig={key:!0,ref:!0,__self:!0,__source:!0};function Qg(t,e,A){var n,r={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)Sg.call(e,n)&&!Ig.hasOwnProperty(n)&&(r[n]=e[n]);var o=arguments.length-2;if(o===1)r.children=A;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)r[n]===void 0&&(r[n]=o[n]);return{$$typeof:Ei,type:t,key:s,ref:i,props:r,_owner:df.current}}function lv(t,e){return{$$typeof:Ei,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ei}function uv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(A){return e[A]})}var Sd=/\/+/g;function Tl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uv(""+t.key):e.toString(36)}function No(t,e,A,n,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Ei:case ZC:i=!0}}if(i)return i=t,r=r(i),t=n===""?"."+Tl(i,0):n,Fd(r)?(A="",t!=null&&(A=t.replace(Sd,"$&/")+"/"),No(r,e,A,"",function(c){return c})):r!=null&&(pf(r)&&(r=lv(r,A+(!r.key||i&&i.key===r.key?"":(""+r.key).replace(Sd,"$&/")+"/")+t)),e.push(r)),1;if(i=0,n=n===""?".":n+":",Fd(t))for(var o=0;o<t.length;o++){s=t[o];var u=n+Tl(s,o);i+=No(s,e,A,u,r)}else if(u=av(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=n+Tl(s,o++),i+=No(s,e,A,u,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Ri(t,e,A){if(t==null)return t;var n=[],r=0;return No(t,n,"","",function(s){return e.call(A,s,r++)}),n}function cv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(A){(t._status===0||t._status===-1)&&(t._status=1,t._result=A)},function(A){(t._status===0||t._status===-1)&&(t._status=2,t._result=A)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Mt={current:null},ko={transition:null},fv={ReactCurrentDispatcher:Mt,ReactCurrentBatchConfig:ko,ReactCurrentOwner:df};function _g(){throw Error("act(...) is not supported in production builds of React.")}Ne.Children={map:Ri,forEach:function(t,e,A){Ri(t,function(){e.apply(this,arguments)},A)},count:function(t){var e=0;return Ri(t,function(){e++}),e},toArray:function(t){return Ri(t,function(e){return e})||[]},only:function(t){if(!pf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ne.Component=es;Ne.Fragment=jC;Ne.Profiler=tv;Ne.PureComponent=cf;Ne.StrictMode=ev;Ne.Suspense=sv;Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv;Ne.act=_g;Ne.cloneElement=function(t,e,A){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Tg({},t.props),r=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=df.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)Sg.call(e,u)&&!Ig.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=A;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ei,type:t.type,key:r,ref:s,props:n,_owner:i}};Ne.createContext=function(t){return t={$$typeof:nv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Av,_context:t},t.Consumer=t};Ne.createElement=Qg;Ne.createFactory=function(t){var e=Qg.bind(null,t);return e.type=t,e};Ne.createRef=function(){return{current:null}};Ne.forwardRef=function(t){return{$$typeof:rv,render:t}};Ne.isValidElement=pf;Ne.lazy=function(t){return{$$typeof:ov,_payload:{_status:-1,_result:t},_init:cv}};Ne.memo=function(t,e){return{$$typeof:iv,type:t,compare:e===void 0?null:e}};Ne.startTransition=function(t){var e=ko.transition;ko.transition={};try{t()}finally{ko.transition=e}};Ne.unstable_act=_g;Ne.useCallback=function(t,e){return Mt.current.useCallback(t,e)};Ne.useContext=function(t){return Mt.current.useContext(t)};Ne.useDebugValue=function(){};Ne.useDeferredValue=function(t){return Mt.current.useDeferredValue(t)};Ne.useEffect=function(t,e){return Mt.current.useEffect(t,e)};Ne.useId=function(){return Mt.current.useId()};Ne.useImperativeHandle=function(t,e,A){return Mt.current.useImperativeHandle(t,e,A)};Ne.useInsertionEffect=function(t,e){return Mt.current.useInsertionEffect(t,e)};Ne.useLayoutEffect=function(t,e){return Mt.current.useLayoutEffect(t,e)};Ne.useMemo=function(t,e){return Mt.current.useMemo(t,e)};Ne.useReducer=function(t,e,A){return Mt.current.useReducer(t,e,A)};Ne.useRef=function(t){return Mt.current.useRef(t)};Ne.useState=function(t){return Mt.current.useState(t)};Ne.useSyncExternalStore=function(t,e,A){return Mt.current.useSyncExternalStore(t,e,A)};Ne.useTransition=function(){return Mt.current.useTransition()};Ne.version="18.3.1";xg.exports=Ne;var $=xg.exports;const dv=vg($);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=$,hv=Symbol.for("react.element"),mv=Symbol.for("react.fragment"),gv=Object.prototype.hasOwnProperty,Bv=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wv={key:!0,ref:!0,__self:!0,__source:!0};function Ng(t,e,A){var n,r={},s=null,i=null;A!==void 0&&(s=""+A),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)gv.call(e,n)&&!wv.hasOwnProperty(n)&&(r[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)r[n]===void 0&&(r[n]=e[n]);return{$$typeof:hv,type:t,key:s,ref:i,props:r,_owner:Bv.current}}Ha.Fragment=mv;Ha.jsx=Ng;Ha.jsxs=Ng;yg.exports=Ha;var h=yg.exports,Iu={},kg={exports:{}},tA={},bg={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ee,X){var H=ee.length;ee.push(X);e:for(;0<H;){var O=H-1>>>1,N=ee[O];if(0<r(N,X))ee[O]=X,ee[H]=N,H=O;else break e}}function A(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var X=ee[0],H=ee.pop();if(H!==X){ee[0]=H;e:for(var O=0,N=ee.length,le=N>>>1;O<le;){var ae=2*(O+1)-1,te=ee[ae],me=ae+1,oe=ee[me];if(0>r(te,H))me<N&&0>r(oe,te)?(ee[O]=oe,ee[me]=H,O=me):(ee[O]=te,ee[ae]=H,O=ae);else if(me<N&&0>r(oe,H))ee[O]=oe,ee[me]=H,O=me;else break e}}return X}function r(ee,X){var H=ee.sortIndex-X.sortIndex;return H!==0?H:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();t.unstable_now=function(){return i.now()-o}}var u=[],c=[],f=1,d=null,p=3,g=!1,B=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(ee){for(var X=A(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=ee)n(c),X.sortIndex=X.expirationTime,e(u,X);else break;X=A(c)}}function E(ee){if(m=!1,y(ee),!B)if(A(u)!==null)B=!0,Y(U);else{var X=A(c);X!==null&&J(E,X.startTime-ee)}}function U(ee,X){B=!1,m&&(m=!1,C(M),M=-1),g=!0;var H=p;try{for(y(X),d=A(u);d!==null&&(!(d.expirationTime>X)||ee&&!j());){var O=d.callback;if(typeof O=="function"){d.callback=null,p=d.priorityLevel;var N=O(d.expirationTime<=X);X=t.unstable_now(),typeof N=="function"?d.callback=N:d===A(u)&&n(u),y(X)}else n(u);d=A(u)}if(d!==null)var le=!0;else{var ae=A(c);ae!==null&&J(E,ae.startTime-X),le=!1}return le}finally{d=null,p=H,g=!1}}var T=!1,Q=null,M=-1,D=5,R=-1;function j(){return!(t.unstable_now()-R<D)}function _(){if(Q!==null){var ee=t.unstable_now();R=ee;var X=!0;try{X=Q(!0,ee)}finally{X?G():(T=!1,Q=null)}}else T=!1}var G;if(typeof w=="function")G=function(){w(_)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,q=F.port2;F.port1.onmessage=_,G=function(){q.postMessage(null)}}else G=function(){x(_,0)};function Y(ee){Q=ee,T||(T=!0,G())}function J(ee,X){M=x(function(){ee(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){B||g||(B=!0,Y(U))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return A(u)},t.unstable_next=function(ee){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var H=p;p=X;try{return ee()}finally{p=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var H=p;p=ee;try{return X()}finally{p=H}},t.unstable_scheduleCallback=function(ee,X,H){var O=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?O+H:O):H=O,ee){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=H+N,ee={id:f++,callback:X,priorityLevel:ee,startTime:H,expirationTime:N,sortIndex:-1},H>O?(ee.sortIndex=H,e(c,ee),A(u)===null&&ee===A(c)&&(m?(C(M),M=-1):m=!0,J(E,H-O))):(ee.sortIndex=N,e(u,ee),B||g||(B=!0,Y(U))),ee},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ee){var X=p;return function(){var H=p;p=X;try{return ee.apply(this,arguments)}finally{p=H}}}})(Dg);bg.exports=Dg;var Cv=bg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vv=$,eA=Cv;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,A=1;A<arguments.length;A++)e+="&args[]="+encodeURIComponent(arguments[A]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mg=new Set,Zs={};function Ar(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(Zs[t]=e,t=0;t<e.length;t++)Mg.add(e[t])}var WA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=Object.prototype.hasOwnProperty,yv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Id={},Qd={};function xv(t){return Qu.call(Qd,t)?!0:Qu.call(Id,t)?!1:yv.test(t)?Qd[t]=!0:(Id[t]=!0,!1)}function Ev(t,e,A,n){if(A!==null&&A.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:A!==null?!A.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tv(t,e,A,n){if(e===null||typeof e>"u"||Ev(t,e,A,n))return!0;if(n)return!1;if(A!==null)switch(A.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lt(t,e,A,n,r,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=A,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xt[t]=new Lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xt[e]=new Lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xt[t]=new Lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xt[t]=new Lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xt[t]=new Lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xt[t]=new Lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xt[t]=new Lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xt[t]=new Lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xt[t]=new Lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var hf=/[\-:]([a-z])/g;function mf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(hf,mf);xt[e]=new Lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(hf,mf);xt[e]=new Lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(hf,mf);xt[e]=new Lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xt[t]=new Lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function gf(t,e,A,n){var r=xt.hasOwnProperty(e)?xt[e]:null;(r!==null?r.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tv(e,A,r,n)&&(A=null),n||r===null?xv(e)&&(A===null?t.removeAttribute(e):t.setAttribute(e,""+A)):r.mustUseProperty?t[r.propertyName]=A===null?r.type===3?!1:"":A:(e=r.attributeName,n=r.attributeNamespace,A===null?t.removeAttribute(e):(r=r.type,A=r===3||r===4&&A===!0?"":""+A,n?t.setAttributeNS(n,e,A):t.setAttribute(e,A))))}var jA=vv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pi=Symbol.for("react.element"),mr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),Bf=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Rg=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),Nu=Symbol.for("react.suspense"),ku=Symbol.for("react.suspense_list"),Cf=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),Pg=Symbol.for("react.offscreen"),_d=Symbol.iterator;function cs(t){return t===null||typeof t!="object"?null:(t=_d&&t[_d]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,Ul;function Us(t){if(Ul===void 0)try{throw Error()}catch(A){var e=A.stack.trim().match(/\n( *(at )?)/);Ul=e&&e[1]||""}return`
`+Ul+t}var Fl=!1;function Sl(t,e){if(!t||Fl)return"";Fl=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=n.stack.split(`
`),i=r.length-1,o=s.length-1;1<=i&&0<=o&&r[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(r[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||r[i]!==s[o]){var u=`
`+r[i].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=i&&0<=o);break}}}finally{Fl=!1,Error.prepareStackTrace=A}return(t=t?t.displayName||t.name:"")?Us(t):""}function Uv(t){switch(t.tag){case 5:return Us(t.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return t=Sl(t.type,!1),t;case 11:return t=Sl(t.type.render,!1),t;case 1:return t=Sl(t.type,!0),t;default:return""}}function bu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gr:return"Fragment";case mr:return"Portal";case _u:return"Profiler";case Bf:return"StrictMode";case Nu:return"Suspense";case ku:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rg:return(t.displayName||"Context")+".Consumer";case Lg:return(t._context.displayName||"Context")+".Provider";case wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cf:return e=t.displayName||null,e!==null?e:bu(t.type)||"Memo";case rn:e=t._payload,t=t._init;try{return bu(t(e))}catch{}}return null}function Fv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bu(e);case 8:return e===Bf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sv(t){var e=Hg(t)?"checked":"value",A=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var r=A.get,s=A.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:A.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hi(t){t._valueTracker||(t._valueTracker=Sv(t))}function Kg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var A=e.getValue(),n="";return t&&(n=Hg(t)?t.checked?"true":"false":t.value),t=n,t!==A?(e.setValue(t),!0):!1}function jo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Du(t,e){var A=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:A??t._wrapperState.initialChecked})}function Nd(t,e){var A=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;A=Tn(e.value!=null?e.value:A),t._wrapperState={initialChecked:n,initialValue:A,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Og(t,e){e=e.checked,e!=null&&gf(t,"checked",e,!1)}function Mu(t,e){Og(t,e);var A=Tn(e.value),n=e.type;if(A!=null)n==="number"?(A===0&&t.value===""||t.value!=A)&&(t.value=""+A):t.value!==""+A&&(t.value=""+A);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lu(t,e.type,A):e.hasOwnProperty("defaultValue")&&Lu(t,e.type,Tn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kd(t,e,A){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,A||e===t.value||(t.value=e),t.defaultValue=e}A=t.name,A!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,A!==""&&(t.name=A)}function Lu(t,e,A){(e!=="number"||jo(t.ownerDocument)!==t)&&(A==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+A&&(t.defaultValue=""+A))}var Fs=Array.isArray;function Nr(t,e,A,n){if(t=t.options,e){e={};for(var r=0;r<A.length;r++)e["$"+A[r]]=!0;for(A=0;A<t.length;A++)r=e.hasOwnProperty("$"+t[A].value),t[A].selected!==r&&(t[A].selected=r),r&&n&&(t[A].defaultSelected=!0)}else{for(A=""+Tn(A),e=null,r=0;r<t.length;r++){if(t[r].value===A){t[r].selected=!0,n&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Ru(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bd(t,e){var A=e.value;if(A==null){if(A=e.children,e=e.defaultValue,A!=null){if(e!=null)throw Error(pe(92));if(Fs(A)){if(1<A.length)throw Error(pe(93));A=A[0]}e=A}e==null&&(e=""),A=e}t._wrapperState={initialValue:Tn(A)}}function Vg(t,e){var A=Tn(e.value),n=Tn(e.defaultValue);A!=null&&(A=""+A,A!==t.value&&(t.value=A),e.defaultValue==null&&t.defaultValue!==A&&(t.defaultValue=A)),n!=null&&(t.defaultValue=""+n)}function Dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Gg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Gg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ki,$g=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,A,n,r){MSApp.execUnsafeLocalFunction(function(){return t(e,A,n,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ki=Ki||document.createElement("div"),Ki.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ki.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function js(t,e){if(e){var A=t.firstChild;if(A&&A===t.lastChild&&A.nodeType===3){A.nodeValue=e;return}}t.textContent=e}var Ls={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(Ls).forEach(function(t){Iv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ls[e]=Ls[t]})});function Jg(t,e,A){return e==null||typeof e=="boolean"||e===""?"":A||typeof e!="number"||e===0||Ls.hasOwnProperty(t)&&Ls[t]?(""+e).trim():e+"px"}function zg(t,e){t=t.style;for(var A in e)if(e.hasOwnProperty(A)){var n=A.indexOf("--")===0,r=Jg(A,e[A],n);A==="float"&&(A="cssFloat"),n?t.setProperty(A,r):t[A]=r}}var Qv=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hu(t,e){if(e){if(Qv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Ku(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ou=null;function vf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vu=null,kr=null,br=null;function Md(t){if(t=Fi(t)){if(typeof Vu!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=$a(e),Vu(t.stateNode,t.type,e))}}function Wg(t){kr?br?br.push(t):br=[t]:kr=t}function Yg(){if(kr){var t=kr,e=br;if(br=kr=null,Md(t),e)for(t=0;t<e.length;t++)Md(e[t])}}function qg(t,e){return t(e)}function Xg(){}var Il=!1;function Zg(t,e,A){if(Il)return t(e,A);Il=!0;try{return qg(t,e,A)}finally{Il=!1,(kr!==null||br!==null)&&(Xg(),Yg())}}function ei(t,e){var A=t.stateNode;if(A===null)return null;var n=$a(A);if(n===null)return null;A=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(A&&typeof A!="function")throw Error(pe(231,e,typeof A));return A}var Gu=!1;if(WA)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{Gu=!1}function _v(t,e,A,n,r,s,i,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(A,c)}catch(f){this.onError(f)}}var Rs=!1,ea=null,ta=!1,$u=null,Nv={onError:function(t){Rs=!0,ea=t}};function kv(t,e,A,n,r,s,i,o,u){Rs=!1,ea=null,_v.apply(Nv,arguments)}function bv(t,e,A,n,r,s,i,o,u){if(kv.apply(this,arguments),Rs){if(Rs){var c=ea;Rs=!1,ea=null}else throw Error(pe(198));ta||(ta=!0,$u=c)}}function nr(t){var e=t,A=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(A=e.return),t=e.return;while(t)}return e.tag===3?A:null}function jg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ld(t){if(nr(t)!==t)throw Error(pe(188))}function Dv(t){var e=t.alternate;if(!e){if(e=nr(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var A=t,n=e;;){var r=A.return;if(r===null)break;var s=r.alternate;if(s===null){if(n=r.return,n!==null){A=n;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===A)return Ld(r),t;if(s===n)return Ld(r),e;s=s.sibling}throw Error(pe(188))}if(A.return!==n.return)A=r,n=s;else{for(var i=!1,o=r.child;o;){if(o===A){i=!0,A=r,n=s;break}if(o===n){i=!0,n=r,A=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===A){i=!0,A=s,n=r;break}if(o===n){i=!0,n=s,A=r;break}o=o.sibling}if(!i)throw Error(pe(189))}}if(A.alternate!==n)throw Error(pe(190))}if(A.tag!==3)throw Error(pe(188));return A.stateNode.current===A?t:e}function e0(t){return t=Dv(t),t!==null?t0(t):null}function t0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t0(t);if(e!==null)return e;t=t.sibling}return null}var A0=eA.unstable_scheduleCallback,Rd=eA.unstable_cancelCallback,Mv=eA.unstable_shouldYield,Lv=eA.unstable_requestPaint,at=eA.unstable_now,Rv=eA.unstable_getCurrentPriorityLevel,yf=eA.unstable_ImmediatePriority,n0=eA.unstable_UserBlockingPriority,Aa=eA.unstable_NormalPriority,Pv=eA.unstable_LowPriority,r0=eA.unstable_IdlePriority,Ka=null,QA=null;function Hv(t){if(QA&&typeof QA.onCommitFiberRoot=="function")try{QA.onCommitFiberRoot(Ka,t,void 0,(t.current.flags&128)===128)}catch{}}var wA=Math.clz32?Math.clz32:Vv,Kv=Math.log,Ov=Math.LN2;function Vv(t){return t>>>=0,t===0?32:31-(Kv(t)/Ov|0)|0}var Oi=64,Vi=4194304;function Ss(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function na(t,e){var A=t.pendingLanes;if(A===0)return 0;var n=0,r=t.suspendedLanes,s=t.pingedLanes,i=A&268435455;if(i!==0){var o=i&~r;o!==0?n=Ss(o):(s&=i,s!==0&&(n=Ss(s)))}else i=A&~r,i!==0?n=Ss(i):s!==0&&(n=Ss(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&r)&&(r=n&-n,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(n&4&&(n|=A&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)A=31-wA(e),r=1<<A,n|=t[A],e&=~r;return n}function Gv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $v(t,e){for(var A=t.suspendedLanes,n=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-wA(s),o=1<<i,u=r[i];u===-1?(!(o&A)||o&n)&&(r[i]=Gv(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function Ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s0(){var t=Oi;return Oi<<=1,!(Oi&4194240)&&(Oi=64),t}function Ql(t){for(var e=[],A=0;31>A;A++)e.push(t);return e}function Ti(t,e,A){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wA(e),t[e]=A}function Jv(t,e){var A=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<A;){var r=31-wA(A),s=1<<r;e[r]=0,n[r]=-1,t[r]=-1,A&=~s}}function xf(t,e){var A=t.entangledLanes|=e;for(t=t.entanglements;A;){var n=31-wA(A),r=1<<n;r&e|t[n]&e&&(t[n]|=e),A&=~r}}var Je=0;function i0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var o0,Ef,a0,l0,u0,zu=!1,Gi=[],hn=null,mn=null,gn=null,ti=new Map,Ai=new Map,an=[],zv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pd(t,e){switch(t){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":ti.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ai.delete(e.pointerId)}}function ds(t,e,A,n,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:A,eventSystemFlags:n,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Fi(e),e!==null&&Ef(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Wv(t,e,A,n,r){switch(e){case"focusin":return hn=ds(hn,t,e,A,n,r),!0;case"dragenter":return mn=ds(mn,t,e,A,n,r),!0;case"mouseover":return gn=ds(gn,t,e,A,n,r),!0;case"pointerover":var s=r.pointerId;return ti.set(s,ds(ti.get(s)||null,t,e,A,n,r)),!0;case"gotpointercapture":return s=r.pointerId,Ai.set(s,ds(Ai.get(s)||null,t,e,A,n,r)),!0}return!1}function c0(t){var e=Ln(t.target);if(e!==null){var A=nr(e);if(A!==null){if(e=A.tag,e===13){if(e=jg(A),e!==null){t.blockedOn=e,u0(t.priority,function(){a0(A)});return}}else if(e===3&&A.stateNode.current.memoizedState.isDehydrated){t.blockedOn=A.tag===3?A.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var A=Wu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(A===null){A=t.nativeEvent;var n=new A.constructor(A.type,A);Ou=n,A.target.dispatchEvent(n),Ou=null}else return e=Fi(A),e!==null&&Ef(e),t.blockedOn=A,!1;e.shift()}return!0}function Hd(t,e,A){bo(t)&&A.delete(e)}function Yv(){zu=!1,hn!==null&&bo(hn)&&(hn=null),mn!==null&&bo(mn)&&(mn=null),gn!==null&&bo(gn)&&(gn=null),ti.forEach(Hd),Ai.forEach(Hd)}function ps(t,e){t.blockedOn===e&&(t.blockedOn=null,zu||(zu=!0,eA.unstable_scheduleCallback(eA.unstable_NormalPriority,Yv)))}function ni(t){function e(r){return ps(r,t)}if(0<Gi.length){ps(Gi[0],t);for(var A=1;A<Gi.length;A++){var n=Gi[A];n.blockedOn===t&&(n.blockedOn=null)}}for(hn!==null&&ps(hn,t),mn!==null&&ps(mn,t),gn!==null&&ps(gn,t),ti.forEach(e),Ai.forEach(e),A=0;A<an.length;A++)n=an[A],n.blockedOn===t&&(n.blockedOn=null);for(;0<an.length&&(A=an[0],A.blockedOn===null);)c0(A),A.blockedOn===null&&an.shift()}var Dr=jA.ReactCurrentBatchConfig,ra=!0;function qv(t,e,A,n){var r=Je,s=Dr.transition;Dr.transition=null;try{Je=1,Tf(t,e,A,n)}finally{Je=r,Dr.transition=s}}function Xv(t,e,A,n){var r=Je,s=Dr.transition;Dr.transition=null;try{Je=4,Tf(t,e,A,n)}finally{Je=r,Dr.transition=s}}function Tf(t,e,A,n){if(ra){var r=Wu(t,e,A,n);if(r===null)Hl(t,e,n,sa,A),Pd(t,n);else if(Wv(r,t,e,A,n))n.stopPropagation();else if(Pd(t,n),e&4&&-1<zv.indexOf(t)){for(;r!==null;){var s=Fi(r);if(s!==null&&o0(s),s=Wu(t,e,A,n),s===null&&Hl(t,e,n,sa,A),s===r)break;r=s}r!==null&&n.stopPropagation()}else Hl(t,e,n,null,A)}}var sa=null;function Wu(t,e,A,n){if(sa=null,t=vf(n),t=Ln(t),t!==null)if(e=nr(t),e===null)t=null;else if(A=e.tag,A===13){if(t=jg(e),t!==null)return t;t=null}else if(A===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sa=t,null}function f0(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rv()){case yf:return 1;case n0:return 4;case Aa:case Pv:return 16;case r0:return 536870912;default:return 16}default:return 16}}var un=null,Uf=null,Do=null;function d0(){if(Do)return Do;var t,e=Uf,A=e.length,n,r="value"in un?un.value:un.textContent,s=r.length;for(t=0;t<A&&e[t]===r[t];t++);var i=A-t;for(n=1;n<=i&&e[A-n]===r[s-n];n++);return Do=r.slice(t,1<n?1-n:void 0)}function Mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function Kd(){return!1}function AA(t){function e(A,n,r,s,i){this._reactName=A,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(A=t[o],this[o]=A?A(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$i:Kd,this.isPropagationStopped=Kd,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var A=this.nativeEvent;A&&(A.preventDefault?A.preventDefault():typeof A.returnValue!="unknown"&&(A.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var A=this.nativeEvent;A&&(A.stopPropagation?A.stopPropagation():typeof A.cancelBubble!="unknown"&&(A.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),e}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ff=AA(ts),Ui=rt({},ts,{view:0,detail:0}),Zv=AA(Ui),_l,Nl,hs,Oa=rt({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hs&&(hs&&t.type==="mousemove"?(_l=t.screenX-hs.screenX,Nl=t.screenY-hs.screenY):Nl=_l=0,hs=t),_l)},movementY:function(t){return"movementY"in t?t.movementY:Nl}}),Od=AA(Oa),jv=rt({},Oa,{dataTransfer:0}),ey=AA(jv),ty=rt({},Ui,{relatedTarget:0}),kl=AA(ty),Ay=rt({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),ny=AA(Ay),ry=rt({},ts,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sy=AA(ry),iy=rt({},ts,{data:0}),Vd=AA(iy),oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ay={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ly={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ly[t])?!!e[t]:!1}function Sf(){return uy}var cy=rt({},Ui,{key:function(t){if(t.key){var e=oy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ay[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sf,charCode:function(t){return t.type==="keypress"?Mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fy=AA(cy),dy=rt({},Oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=AA(dy),py=rt({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sf}),hy=AA(py),my=rt({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),gy=AA(my),By=rt({},Oa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wy=AA(By),Cy=[9,13,27,32],If=WA&&"CompositionEvent"in window,Ps=null;WA&&"documentMode"in document&&(Ps=document.documentMode);var vy=WA&&"TextEvent"in window&&!Ps,p0=WA&&(!If||Ps&&8<Ps&&11>=Ps),$d=" ",Jd=!1;function h0(t,e){switch(t){case"keyup":return Cy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function m0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Br=!1;function yy(t,e){switch(t){case"compositionend":return m0(e);case"keypress":return e.which!==32?null:(Jd=!0,$d);case"textInput":return t=e.data,t===$d&&Jd?null:t;default:return null}}function xy(t,e){if(Br)return t==="compositionend"||!If&&h0(t,e)?(t=d0(),Do=Uf=un=null,Br=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p0&&e.locale!=="ko"?null:e.data;default:return null}}var Ey={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ey[t.type]:e==="textarea"}function g0(t,e,A,n){Wg(n),e=ia(e,"onChange"),0<e.length&&(A=new Ff("onChange","change",null,A,n),t.push({event:A,listeners:e}))}var Hs=null,ri=null;function Ty(t){S0(t,0)}function Va(t){var e=vr(t);if(Kg(e))return t}function Uy(t,e){if(t==="change")return e}var B0=!1;if(WA){var bl;if(WA){var Dl="oninput"in document;if(!Dl){var Wd=document.createElement("div");Wd.setAttribute("oninput","return;"),Dl=typeof Wd.oninput=="function"}bl=Dl}else bl=!1;B0=bl&&(!document.documentMode||9<document.documentMode)}function Yd(){Hs&&(Hs.detachEvent("onpropertychange",w0),ri=Hs=null)}function w0(t){if(t.propertyName==="value"&&Va(ri)){var e=[];g0(e,ri,t,vf(t)),Zg(Ty,e)}}function Fy(t,e,A){t==="focusin"?(Yd(),Hs=e,ri=A,Hs.attachEvent("onpropertychange",w0)):t==="focusout"&&Yd()}function Sy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Va(ri)}function Iy(t,e){if(t==="click")return Va(e)}function Qy(t,e){if(t==="input"||t==="change")return Va(e)}function _y(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vA=typeof Object.is=="function"?Object.is:_y;function si(t,e){if(vA(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var A=Object.keys(t),n=Object.keys(e);if(A.length!==n.length)return!1;for(n=0;n<A.length;n++){var r=A[n];if(!Qu.call(e,r)||!vA(t[r],e[r]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xd(t,e){var A=qd(t);t=0;for(var n;A;){if(A.nodeType===3){if(n=t+A.textContent.length,t<=e&&n>=e)return{node:A,offset:e-t};t=n}e:{for(;A;){if(A.nextSibling){A=A.nextSibling;break e}A=A.parentNode}A=void 0}A=qd(A)}}function C0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?C0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function v0(){for(var t=window,e=jo();e instanceof t.HTMLIFrameElement;){try{var A=typeof e.contentWindow.location.href=="string"}catch{A=!1}if(A)t=e.contentWindow;else break;e=jo(t.document)}return e}function Qf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Ny(t){var e=v0(),A=t.focusedElem,n=t.selectionRange;if(e!==A&&A&&A.ownerDocument&&C0(A.ownerDocument.documentElement,A)){if(n!==null&&Qf(A)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in A)A.selectionStart=e,A.selectionEnd=Math.min(t,A.value.length);else if(t=(e=A.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=A.textContent.length,s=Math.min(n.start,r);n=n.end===void 0?s:Math.min(n.end,r),!t.extend&&s>n&&(r=n,n=s,s=r),r=Xd(A,s);var i=Xd(A,n);r&&i&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=A;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<e.length;A++)t=e[A],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ky=WA&&"documentMode"in document&&11>=document.documentMode,wr=null,Yu=null,Ks=null,qu=!1;function Zd(t,e,A){var n=A.window===A?A.document:A.nodeType===9?A:A.ownerDocument;qu||wr==null||wr!==jo(n)||(n=wr,"selectionStart"in n&&Qf(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ks&&si(Ks,n)||(Ks=n,n=ia(Yu,"onSelect"),0<n.length&&(e=new Ff("onSelect","select",null,e,A),t.push({event:e,listeners:n}),e.target=wr)))}function Ji(t,e){var A={};return A[t.toLowerCase()]=e.toLowerCase(),A["Webkit"+t]="webkit"+e,A["Moz"+t]="moz"+e,A}var Cr={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Ml={},y0={};WA&&(y0=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Ga(t){if(Ml[t])return Ml[t];if(!Cr[t])return t;var e=Cr[t],A;for(A in e)if(e.hasOwnProperty(A)&&A in y0)return Ml[t]=e[A];return t}var x0=Ga("animationend"),E0=Ga("animationiteration"),T0=Ga("animationstart"),U0=Ga("transitionend"),F0=new Map,jd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(t,e){F0.set(t,e),Ar(e,[t])}for(var Ll=0;Ll<jd.length;Ll++){var Rl=jd[Ll],by=Rl.toLowerCase(),Dy=Rl[0].toUpperCase()+Rl.slice(1);Sn(by,"on"+Dy)}Sn(x0,"onAnimationEnd");Sn(E0,"onAnimationIteration");Sn(T0,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(U0,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);Ar("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ar("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ar("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ar("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ar("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),My=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function ep(t,e,A){var n=t.type||"unknown-event";t.currentTarget=A,bv(n,e,void 0,t),t.currentTarget=null}function S0(t,e){e=(e&4)!==0;for(var A=0;A<t.length;A++){var n=t[A],r=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var o=n[i],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&r.isPropagationStopped())break e;ep(r,o,c),s=u}else for(i=0;i<n.length;i++){if(o=n[i],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&r.isPropagationStopped())break e;ep(r,o,c),s=u}}}if(ta)throw t=$u,ta=!1,$u=null,t}function Xe(t,e){var A=e[tc];A===void 0&&(A=e[tc]=new Set);var n=t+"__bubble";A.has(n)||(I0(e,t,2,!1),A.add(n))}function Pl(t,e,A){var n=0;e&&(n|=4),I0(A,t,n,e)}var zi="_reactListening"+Math.random().toString(36).slice(2);function ii(t){if(!t[zi]){t[zi]=!0,Mg.forEach(function(A){A!=="selectionchange"&&(My.has(A)||Pl(A,!1,t),Pl(A,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zi]||(e[zi]=!0,Pl("selectionchange",!1,e))}}function I0(t,e,A,n){switch(f0(e)){case 1:var r=qv;break;case 4:r=Xv;break;default:r=Tf}A=r.bind(null,e,A,t),r=void 0,!Gu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),n?r!==void 0?t.addEventListener(e,A,{capture:!0,passive:r}):t.addEventListener(e,A,!0):r!==void 0?t.addEventListener(e,A,{passive:r}):t.addEventListener(e,A,!1)}function Hl(t,e,A,n,r){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&(u=i.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;i=i.return}for(;o!==null;){if(i=Ln(o),i===null)return;if(u=i.tag,u===5||u===6){n=s=i;continue e}o=o.parentNode}}n=n.return}Zg(function(){var c=s,f=vf(A),d=[];e:{var p=F0.get(t);if(p!==void 0){var g=Ff,B=t;switch(t){case"keypress":if(Mo(A)===0)break e;case"keydown":case"keyup":g=fy;break;case"focusin":B="focus",g=kl;break;case"focusout":B="blur",g=kl;break;case"beforeblur":case"afterblur":g=kl;break;case"click":if(A.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=hy;break;case x0:case E0:case T0:g=ny;break;case U0:g=gy;break;case"scroll":g=Zv;break;case"wheel":g=wy;break;case"copy":case"cut":case"paste":g=sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gd}var m=(e&4)!==0,x=!m&&t==="scroll",C=m?p!==null?p+"Capture":null:p;m=[];for(var w=c,y;w!==null;){y=w;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,C!==null&&(E=ei(w,C),E!=null&&m.push(oi(w,E,y)))),x)break;w=w.return}0<m.length&&(p=new g(p,B,null,A,f),d.push({event:p,listeners:m}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&A!==Ou&&(B=A.relatedTarget||A.fromElement)&&(Ln(B)||B[YA]))break e;if((g||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,g?(B=A.relatedTarget||A.toElement,g=c,B=B?Ln(B):null,B!==null&&(x=nr(B),B!==x||B.tag!==5&&B.tag!==6)&&(B=null)):(g=null,B=c),g!==B)){if(m=Od,E="onMouseLeave",C="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(m=Gd,E="onPointerLeave",C="onPointerEnter",w="pointer"),x=g==null?p:vr(g),y=B==null?p:vr(B),p=new m(E,w+"leave",g,A,f),p.target=x,p.relatedTarget=y,E=null,Ln(f)===c&&(m=new m(C,w+"enter",B,A,f),m.target=y,m.relatedTarget=x,E=m),x=E,g&&B)t:{for(m=g,C=B,w=0,y=m;y;y=ir(y))w++;for(y=0,E=C;E;E=ir(E))y++;for(;0<w-y;)m=ir(m),w--;for(;0<y-w;)C=ir(C),y--;for(;w--;){if(m===C||C!==null&&m===C.alternate)break t;m=ir(m),C=ir(C)}m=null}else m=null;g!==null&&tp(d,p,g,m,!1),B!==null&&x!==null&&tp(d,x,B,m,!0)}}e:{if(p=c?vr(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var U=Uy;else if(zd(p))if(B0)U=Qy;else{U=Sy;var T=Fy}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(U=Iy);if(U&&(U=U(t,c))){g0(d,U,A,f);break e}T&&T(t,p,c),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&Lu(p,"number",p.value)}switch(T=c?vr(c):window,t){case"focusin":(zd(T)||T.contentEditable==="true")&&(wr=T,Yu=c,Ks=null);break;case"focusout":Ks=Yu=wr=null;break;case"mousedown":qu=!0;break;case"contextmenu":case"mouseup":case"dragend":qu=!1,Zd(d,A,f);break;case"selectionchange":if(ky)break;case"keydown":case"keyup":Zd(d,A,f)}var Q;if(If)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Br?h0(t,A)&&(M="onCompositionEnd"):t==="keydown"&&A.keyCode===229&&(M="onCompositionStart");M&&(p0&&A.locale!=="ko"&&(Br||M!=="onCompositionStart"?M==="onCompositionEnd"&&Br&&(Q=d0()):(un=f,Uf="value"in un?un.value:un.textContent,Br=!0)),T=ia(c,M),0<T.length&&(M=new Vd(M,t,null,A,f),d.push({event:M,listeners:T}),Q?M.data=Q:(Q=m0(A),Q!==null&&(M.data=Q)))),(Q=vy?yy(t,A):xy(t,A))&&(c=ia(c,"onBeforeInput"),0<c.length&&(f=new Vd("onBeforeInput","beforeinput",null,A,f),d.push({event:f,listeners:c}),f.data=Q))}S0(d,e)})}function oi(t,e,A){return{instance:t,listener:e,currentTarget:A}}function ia(t,e){for(var A=e+"Capture",n=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=ei(t,A),s!=null&&n.unshift(oi(t,s,r)),s=ei(t,e),s!=null&&n.push(oi(t,s,r))),t=t.return}return n}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function tp(t,e,A,n,r){for(var s=e._reactName,i=[];A!==null&&A!==n;){var o=A,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,r?(u=ei(A,s),u!=null&&i.unshift(oi(A,u,o))):r||(u=ei(A,s),u!=null&&i.push(oi(A,u,o)))),A=A.return}i.length!==0&&t.push({event:e,listeners:i})}var Ly=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(Ly,`
`).replace(Ry,"")}function Wi(t,e,A){if(e=Ap(e),Ap(t)!==e&&A)throw Error(pe(425))}function oa(){}var Xu=null,Zu=null;function ju(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ec=typeof setTimeout=="function"?setTimeout:void 0,Py=typeof clearTimeout=="function"?clearTimeout:void 0,np=typeof Promise=="function"?Promise:void 0,Hy=typeof queueMicrotask=="function"?queueMicrotask:typeof np<"u"?function(t){return np.resolve(null).then(t).catch(Ky)}:ec;function Ky(t){setTimeout(function(){throw t})}function Kl(t,e){var A=e,n=0;do{var r=A.nextSibling;if(t.removeChild(A),r&&r.nodeType===8)if(A=r.data,A==="/$"){if(n===0){t.removeChild(r),ni(e);return}n--}else A!=="$"&&A!=="$?"&&A!=="$!"||n++;A=r}while(A);ni(e)}function Bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var A=t.data;if(A==="$"||A==="$!"||A==="$?"){if(e===0)return t;e--}else A==="/$"&&e++}t=t.previousSibling}return null}var As=Math.random().toString(36).slice(2),SA="__reactFiber$"+As,ai="__reactProps$"+As,YA="__reactContainer$"+As,tc="__reactEvents$"+As,Oy="__reactListeners$"+As,Vy="__reactHandles$"+As;function Ln(t){var e=t[SA];if(e)return e;for(var A=t.parentNode;A;){if(e=A[YA]||A[SA]){if(A=e.alternate,e.child!==null||A!==null&&A.child!==null)for(t=rp(t);t!==null;){if(A=t[SA])return A;t=rp(t)}return e}t=A,A=t.parentNode}return null}function Fi(t){return t=t[SA]||t[YA],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function $a(t){return t[ai]||null}var Ac=[],yr=-1;function In(t){return{current:t}}function je(t){0>yr||(t.current=Ac[yr],Ac[yr]=null,yr--)}function qe(t,e){yr++,Ac[yr]=t.current,t.current=e}var Un={},_t=In(Un),Vt=In(!1),Yn=Un;function Vr(t,e){var A=t.type.contextTypes;if(!A)return Un;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in A)r[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Gt(t){return t=t.childContextTypes,t!=null}function aa(){je(Vt),je(_t)}function sp(t,e,A){if(_t.current!==Un)throw Error(pe(168));qe(_t,e),qe(Vt,A)}function Q0(t,e,A){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return A;n=n.getChildContext();for(var r in n)if(!(r in e))throw Error(pe(108,Fv(t)||"Unknown",r));return rt({},A,n)}function la(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Un,Yn=_t.current,qe(_t,t),qe(Vt,Vt.current),!0}function ip(t,e,A){var n=t.stateNode;if(!n)throw Error(pe(169));A?(t=Q0(t,e,Yn),n.__reactInternalMemoizedMergedChildContext=t,je(Vt),je(_t),qe(_t,t)):je(Vt),qe(Vt,A)}var VA=null,Ja=!1,Ol=!1;function _0(t){VA===null?VA=[t]:VA.push(t)}function Gy(t){Ja=!0,_0(t)}function Qn(){if(!Ol&&VA!==null){Ol=!0;var t=0,e=Je;try{var A=VA;for(Je=1;t<A.length;t++){var n=A[t];do n=n(!0);while(n!==null)}VA=null,Ja=!1}catch(r){throw VA!==null&&(VA=VA.slice(t+1)),A0(yf,Qn),r}finally{Je=e,Ol=!1}}return null}var xr=[],Er=0,ua=null,ca=0,rA=[],sA=0,qn=null,GA=1,$A="";function bn(t,e){xr[Er++]=ca,xr[Er++]=ua,ua=t,ca=e}function N0(t,e,A){rA[sA++]=GA,rA[sA++]=$A,rA[sA++]=qn,qn=t;var n=GA;t=$A;var r=32-wA(n)-1;n&=~(1<<r),A+=1;var s=32-wA(e)+r;if(30<s){var i=r-r%5;s=(n&(1<<i)-1).toString(32),n>>=i,r-=i,GA=1<<32-wA(e)+r|A<<r|n,$A=s+t}else GA=1<<s|A<<r|n,$A=t}function _f(t){t.return!==null&&(bn(t,1),N0(t,1,0))}function Nf(t){for(;t===ua;)ua=xr[--Er],xr[Er]=null,ca=xr[--Er],xr[Er]=null;for(;t===qn;)qn=rA[--sA],rA[sA]=null,$A=rA[--sA],rA[sA]=null,GA=rA[--sA],rA[sA]=null}var Zt=null,Xt=null,tt=!1,BA=null;function k0(t,e){var A=oA(5,null,null,0);A.elementType="DELETED",A.stateNode=e,A.return=t,e=t.deletions,e===null?(t.deletions=[A],t.flags|=16):e.push(A)}function op(t,e){switch(t.tag){case 5:var A=t.type;return e=e.nodeType!==1||A.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=Bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Zt=t,Xt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(A=qn!==null?{id:GA,overflow:$A}:null,t.memoizedState={dehydrated:e,treeContext:A,retryLane:1073741824},A=oA(18,null,null,0),A.stateNode=e,A.return=t,t.child=A,Zt=t,Xt=null,!0):!1;default:return!1}}function nc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rc(t){if(tt){var e=Xt;if(e){var A=e;if(!op(t,e)){if(nc(t))throw Error(pe(418));e=Bn(A.nextSibling);var n=Zt;e&&op(t,e)?k0(n,A):(t.flags=t.flags&-4097|2,tt=!1,Zt=t)}}else{if(nc(t))throw Error(pe(418));t.flags=t.flags&-4097|2,tt=!1,Zt=t}}}function ap(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Yi(t){if(t!==Zt)return!1;if(!tt)return ap(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ju(t.type,t.memoizedProps)),e&&(e=Xt)){if(nc(t))throw b0(),Error(pe(418));for(;e;)k0(t,e),e=Bn(e.nextSibling)}if(ap(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var A=t.data;if(A==="/$"){if(e===0){Xt=Bn(t.nextSibling);break e}e--}else A!=="$"&&A!=="$!"&&A!=="$?"||e++}t=t.nextSibling}Xt=null}}else Xt=Zt?Bn(t.stateNode.nextSibling):null;return!0}function b0(){for(var t=Xt;t;)t=Bn(t.nextSibling)}function Gr(){Xt=Zt=null,tt=!1}function kf(t){BA===null?BA=[t]:BA.push(t)}var $y=jA.ReactCurrentBatchConfig;function ms(t,e,A){if(t=A.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(A._owner){if(A=A._owner,A){if(A.tag!==1)throw Error(pe(309));var n=A.stateNode}if(!n)throw Error(pe(147,t));var r=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var o=r.refs;i===null?delete o[s]:o[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error(pe(284));if(!A._owner)throw Error(pe(290,t))}return t}function qi(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lp(t){var e=t._init;return e(t._payload)}function D0(t){function e(C,w){if(t){var y=C.deletions;y===null?(C.deletions=[w],C.flags|=16):y.push(w)}}function A(C,w){if(!t)return null;for(;w!==null;)e(C,w),w=w.sibling;return null}function n(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function r(C,w){return C=yn(C,w),C.index=0,C.sibling=null,C}function s(C,w,y){return C.index=y,t?(y=C.alternate,y!==null?(y=y.index,y<w?(C.flags|=2,w):y):(C.flags|=2,w)):(C.flags|=1048576,w)}function i(C){return t&&C.alternate===null&&(C.flags|=2),C}function o(C,w,y,E){return w===null||w.tag!==6?(w=Yl(y,C.mode,E),w.return=C,w):(w=r(w,y),w.return=C,w)}function u(C,w,y,E){var U=y.type;return U===gr?f(C,w,y.props.children,E,y.key):w!==null&&(w.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===rn&&lp(U)===w.type)?(E=r(w,y.props),E.ref=ms(C,w,y),E.return=C,E):(E=Vo(y.type,y.key,y.props,null,C.mode,E),E.ref=ms(C,w,y),E.return=C,E)}function c(C,w,y,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=ql(y,C.mode,E),w.return=C,w):(w=r(w,y.children||[]),w.return=C,w)}function f(C,w,y,E,U){return w===null||w.tag!==7?(w=Gn(y,C.mode,E,U),w.return=C,w):(w=r(w,y),w.return=C,w)}function d(C,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Yl(""+w,C.mode,y),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Pi:return y=Vo(w.type,w.key,w.props,null,C.mode,y),y.ref=ms(C,null,w),y.return=C,y;case mr:return w=ql(w,C.mode,y),w.return=C,w;case rn:var E=w._init;return d(C,E(w._payload),y)}if(Fs(w)||cs(w))return w=Gn(w,C.mode,y,null),w.return=C,w;qi(C,w)}return null}function p(C,w,y,E){var U=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return U!==null?null:o(C,w,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:return y.key===U?u(C,w,y,E):null;case mr:return y.key===U?c(C,w,y,E):null;case rn:return U=y._init,p(C,w,U(y._payload),E)}if(Fs(y)||cs(y))return U!==null?null:f(C,w,y,E,null);qi(C,y)}return null}function g(C,w,y,E,U){if(typeof E=="string"&&E!==""||typeof E=="number")return C=C.get(y)||null,o(w,C,""+E,U);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Pi:return C=C.get(E.key===null?y:E.key)||null,u(w,C,E,U);case mr:return C=C.get(E.key===null?y:E.key)||null,c(w,C,E,U);case rn:var T=E._init;return g(C,w,y,T(E._payload),U)}if(Fs(E)||cs(E))return C=C.get(y)||null,f(w,C,E,U,null);qi(w,E)}return null}function B(C,w,y,E){for(var U=null,T=null,Q=w,M=w=0,D=null;Q!==null&&M<y.length;M++){Q.index>M?(D=Q,Q=null):D=Q.sibling;var R=p(C,Q,y[M],E);if(R===null){Q===null&&(Q=D);break}t&&Q&&R.alternate===null&&e(C,Q),w=s(R,w,M),T===null?U=R:T.sibling=R,T=R,Q=D}if(M===y.length)return A(C,Q),tt&&bn(C,M),U;if(Q===null){for(;M<y.length;M++)Q=d(C,y[M],E),Q!==null&&(w=s(Q,w,M),T===null?U=Q:T.sibling=Q,T=Q);return tt&&bn(C,M),U}for(Q=n(C,Q);M<y.length;M++)D=g(Q,C,M,y[M],E),D!==null&&(t&&D.alternate!==null&&Q.delete(D.key===null?M:D.key),w=s(D,w,M),T===null?U=D:T.sibling=D,T=D);return t&&Q.forEach(function(j){return e(C,j)}),tt&&bn(C,M),U}function m(C,w,y,E){var U=cs(y);if(typeof U!="function")throw Error(pe(150));if(y=U.call(y),y==null)throw Error(pe(151));for(var T=U=null,Q=w,M=w=0,D=null,R=y.next();Q!==null&&!R.done;M++,R=y.next()){Q.index>M?(D=Q,Q=null):D=Q.sibling;var j=p(C,Q,R.value,E);if(j===null){Q===null&&(Q=D);break}t&&Q&&j.alternate===null&&e(C,Q),w=s(j,w,M),T===null?U=j:T.sibling=j,T=j,Q=D}if(R.done)return A(C,Q),tt&&bn(C,M),U;if(Q===null){for(;!R.done;M++,R=y.next())R=d(C,R.value,E),R!==null&&(w=s(R,w,M),T===null?U=R:T.sibling=R,T=R);return tt&&bn(C,M),U}for(Q=n(C,Q);!R.done;M++,R=y.next())R=g(Q,C,M,R.value,E),R!==null&&(t&&R.alternate!==null&&Q.delete(R.key===null?M:R.key),w=s(R,w,M),T===null?U=R:T.sibling=R,T=R);return t&&Q.forEach(function(_){return e(C,_)}),tt&&bn(C,M),U}function x(C,w,y,E){if(typeof y=="object"&&y!==null&&y.type===gr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Pi:e:{for(var U=y.key,T=w;T!==null;){if(T.key===U){if(U=y.type,U===gr){if(T.tag===7){A(C,T.sibling),w=r(T,y.props.children),w.return=C,C=w;break e}}else if(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===rn&&lp(U)===T.type){A(C,T.sibling),w=r(T,y.props),w.ref=ms(C,T,y),w.return=C,C=w;break e}A(C,T);break}else e(C,T);T=T.sibling}y.type===gr?(w=Gn(y.props.children,C.mode,E,y.key),w.return=C,C=w):(E=Vo(y.type,y.key,y.props,null,C.mode,E),E.ref=ms(C,w,y),E.return=C,C=E)}return i(C);case mr:e:{for(T=y.key;w!==null;){if(w.key===T)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){A(C,w.sibling),w=r(w,y.children||[]),w.return=C,C=w;break e}else{A(C,w);break}else e(C,w);w=w.sibling}w=ql(y,C.mode,E),w.return=C,C=w}return i(C);case rn:return T=y._init,x(C,w,T(y._payload),E)}if(Fs(y))return B(C,w,y,E);if(cs(y))return m(C,w,y,E);qi(C,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(A(C,w.sibling),w=r(w,y),w.return=C,C=w):(A(C,w),w=Yl(y,C.mode,E),w.return=C,C=w),i(C)):A(C,w)}return x}var $r=D0(!0),M0=D0(!1),fa=In(null),da=null,Tr=null,bf=null;function Df(){bf=Tr=da=null}function Mf(t){var e=fa.current;je(fa),t._currentValue=e}function sc(t,e,A){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===A)break;t=t.return}}function Mr(t,e){da=t,bf=Tr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kt=!0),t.firstContext=null)}function fA(t){var e=t._currentValue;if(bf!==t)if(t={context:t,memoizedValue:e,next:null},Tr===null){if(da===null)throw Error(pe(308));Tr=t,da.dependencies={lanes:0,firstContext:t}}else Tr=Tr.next=t;return e}var Rn=null;function Lf(t){Rn===null?Rn=[t]:Rn.push(t)}function L0(t,e,A,n){var r=e.interleaved;return r===null?(A.next=A,Lf(e)):(A.next=r.next,r.next=A),e.interleaved=A,qA(t,n)}function qA(t,e){t.lanes|=e;var A=t.alternate;for(A!==null&&(A.lanes|=e),A=t,t=t.return;t!==null;)t.childLanes|=e,A=t.alternate,A!==null&&(A.childLanes|=e),A=t,t=t.return;return A.tag===3?A.stateNode:null}var sn=!1;function Rf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function JA(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wn(t,e,A){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Re&2){var r=n.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e,qA(t,A)}return r=n.interleaved,r===null?(e.next=e,Lf(n)):(e.next=r.next,r.next=e),n.interleaved=e,qA(t,A)}function Lo(t,e,A){if(e=e.updateQueue,e!==null&&(e=e.shared,(A&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,A|=n,e.lanes=A,xf(t,A)}}function up(t,e){var A=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,A===n)){var r=null,s=null;if(A=A.firstBaseUpdate,A!==null){do{var i={eventTime:A.eventTime,lane:A.lane,tag:A.tag,payload:A.payload,callback:A.callback,next:null};s===null?r=s=i:s=s.next=i,A=A.next}while(A!==null);s===null?r=s=e:s=s.next=e}else r=s=e;A={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=A;return}t=A.lastBaseUpdate,t===null?A.firstBaseUpdate=e:t.next=e,A.lastBaseUpdate=e}function pa(t,e,A,n){var r=t.updateQueue;sn=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var u=o,c=u.next;u.next=null,i===null?s=c:i.next=c,i=u;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==i&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(s!==null){var d=r.baseState;i=0,f=c=u=null,o=s;do{var p=o.lane,g=o.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:g,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var B=t,m=o;switch(p=e,g=A,m.tag){case 1:if(B=m.payload,typeof B=="function"){d=B.call(g,d,p);break e}d=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=m.payload,p=typeof B=="function"?B.call(g,d,p):B,p==null)break e;d=rt({},d,p);break e;case 2:sn=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,p=r.effects,p===null?r.effects=[o]:p.push(o))}else g={eventTime:g,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=g,u=d):f=f.next=g,i|=p;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;p=o,o=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(!0);if(f===null&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,e=r.shared.interleaved,e!==null){r=e;do i|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Zn|=i,t.lanes=i,t.memoizedState=d}}function cp(t,e,A){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],r=n.callback;if(r!==null){if(n.callback=null,n=A,typeof r!="function")throw Error(pe(191,r));r.call(n)}}}var Si={},_A=In(Si),li=In(Si),ui=In(Si);function Pn(t){if(t===Si)throw Error(pe(174));return t}function Pf(t,e){switch(qe(ui,e),qe(li,t),qe(_A,Si),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pu(e,t)}je(_A),qe(_A,e)}function Jr(){je(_A),je(li),je(ui)}function P0(t){Pn(ui.current);var e=Pn(_A.current),A=Pu(e,t.type);e!==A&&(qe(li,t),qe(_A,A))}function Hf(t){li.current===t&&(je(_A),je(li))}var At=In(0);function ha(t){for(var e=t;e!==null;){if(e.tag===13){var A=e.memoizedState;if(A!==null&&(A=A.dehydrated,A===null||A.data==="$?"||A.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vl=[];function Kf(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var Ro=jA.ReactCurrentDispatcher,Gl=jA.ReactCurrentBatchConfig,Xn=0,nt=null,dt=null,gt=null,ma=!1,Os=!1,ci=0,Jy=0;function Et(){throw Error(pe(321))}function Of(t,e){if(e===null)return!1;for(var A=0;A<e.length&&A<t.length;A++)if(!vA(t[A],e[A]))return!1;return!0}function Vf(t,e,A,n,r,s){if(Xn=s,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ro.current=t===null||t.memoizedState===null?qy:Xy,t=A(n,r),Os){s=0;do{if(Os=!1,ci=0,25<=s)throw Error(pe(301));s+=1,gt=dt=null,e.updateQueue=null,Ro.current=Zy,t=A(n,r)}while(Os)}if(Ro.current=ga,e=dt!==null&&dt.next!==null,Xn=0,gt=dt=nt=null,ma=!1,e)throw Error(pe(300));return t}function Gf(){var t=ci!==0;return ci=0,t}function FA(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?nt.memoizedState=gt=t:gt=gt.next=t,gt}function dA(){if(dt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=dt.next;var e=gt===null?nt.memoizedState:gt.next;if(e!==null)gt=e,dt=t;else{if(t===null)throw Error(pe(310));dt=t,t={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},gt===null?nt.memoizedState=gt=t:gt=gt.next=t}return gt}function fi(t,e){return typeof e=="function"?e(t):e}function $l(t){var e=dA(),A=e.queue;if(A===null)throw Error(pe(311));A.lastRenderedReducer=t;var n=dt,r=n.baseQueue,s=A.pending;if(s!==null){if(r!==null){var i=r.next;r.next=s.next,s.next=i}n.baseQueue=r=s,A.pending=null}if(r!==null){s=r.next,n=n.baseState;var o=i=null,u=null,c=s;do{var f=c.lane;if((Xn&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=d,i=n):u=u.next=d,nt.lanes|=f,Zn|=f}c=c.next}while(c!==null&&c!==s);u===null?i=n:u.next=o,vA(n,e.memoizedState)||(Kt=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=u,A.lastRenderedState=n}if(t=A.interleaved,t!==null){r=t;do s=r.lane,nt.lanes|=s,Zn|=s,r=r.next;while(r!==t)}else r===null&&(A.lanes=0);return[e.memoizedState,A.dispatch]}function Jl(t){var e=dA(),A=e.queue;if(A===null)throw Error(pe(311));A.lastRenderedReducer=t;var n=A.dispatch,r=A.pending,s=e.memoizedState;if(r!==null){A.pending=null;var i=r=r.next;do s=t(s,i.action),i=i.next;while(i!==r);vA(s,e.memoizedState)||(Kt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),A.lastRenderedState=s}return[s,n]}function H0(){}function K0(t,e){var A=nt,n=dA(),r=e(),s=!vA(n.memoizedState,r);if(s&&(n.memoizedState=r,Kt=!0),n=n.queue,$f(G0.bind(null,A,n,t),[t]),n.getSnapshot!==e||s||gt!==null&&gt.memoizedState.tag&1){if(A.flags|=2048,di(9,V0.bind(null,A,n,r,e),void 0,null),Bt===null)throw Error(pe(349));Xn&30||O0(A,e,r)}return r}function O0(t,e,A){t.flags|=16384,t={getSnapshot:e,value:A},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(A=e.stores,A===null?e.stores=[t]:A.push(t))}function V0(t,e,A,n){e.value=A,e.getSnapshot=n,$0(e)&&J0(t)}function G0(t,e,A){return A(function(){$0(e)&&J0(t)})}function $0(t){var e=t.getSnapshot;t=t.value;try{var A=e();return!vA(t,A)}catch{return!0}}function J0(t){var e=qA(t,1);e!==null&&CA(e,t,1,-1)}function fp(t){var e=FA();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fi,lastRenderedState:t},e.queue=t,t=t.dispatch=Yy.bind(null,nt,t),[e.memoizedState,t]}function di(t,e,A,n){return t={tag:t,create:e,destroy:A,deps:n,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(A=e.lastEffect,A===null?e.lastEffect=t.next=t:(n=A.next,A.next=t,t.next=n,e.lastEffect=t)),t}function z0(){return dA().memoizedState}function Po(t,e,A,n){var r=FA();nt.flags|=t,r.memoizedState=di(1|e,A,void 0,n===void 0?null:n)}function za(t,e,A,n){var r=dA();n=n===void 0?null:n;var s=void 0;if(dt!==null){var i=dt.memoizedState;if(s=i.destroy,n!==null&&Of(n,i.deps)){r.memoizedState=di(e,A,s,n);return}}nt.flags|=t,r.memoizedState=di(1|e,A,s,n)}function dp(t,e){return Po(8390656,8,t,e)}function $f(t,e){return za(2048,8,t,e)}function W0(t,e){return za(4,2,t,e)}function Y0(t,e){return za(4,4,t,e)}function q0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X0(t,e,A){return A=A!=null?A.concat([t]):null,za(4,4,q0.bind(null,e,t),A)}function Jf(){}function Z0(t,e){var A=dA();e=e===void 0?null:e;var n=A.memoizedState;return n!==null&&e!==null&&Of(e,n[1])?n[0]:(A.memoizedState=[t,e],t)}function j0(t,e){var A=dA();e=e===void 0?null:e;var n=A.memoizedState;return n!==null&&e!==null&&Of(e,n[1])?n[0]:(t=t(),A.memoizedState=[t,e],t)}function eB(t,e,A){return Xn&21?(vA(A,e)||(A=s0(),nt.lanes|=A,Zn|=A,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kt=!0),t.memoizedState=A)}function zy(t,e){var A=Je;Je=A!==0&&4>A?A:4,t(!0);var n=Gl.transition;Gl.transition={};try{t(!1),e()}finally{Je=A,Gl.transition=n}}function tB(){return dA().memoizedState}function Wy(t,e,A){var n=vn(t);if(A={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null},AB(t))nB(e,A);else if(A=L0(t,e,A,n),A!==null){var r=Dt();CA(A,t,n,r),rB(A,e,n)}}function Yy(t,e,A){var n=vn(t),r={lane:n,action:A,hasEagerState:!1,eagerState:null,next:null};if(AB(t))nB(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,o=s(i,A);if(r.hasEagerState=!0,r.eagerState=o,vA(o,i)){var u=e.interleaved;u===null?(r.next=r,Lf(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}A=L0(t,e,r,n),A!==null&&(r=Dt(),CA(A,t,n,r),rB(A,e,n))}}function AB(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function nB(t,e){Os=ma=!0;var A=t.pending;A===null?e.next=e:(e.next=A.next,A.next=e),t.pending=e}function rB(t,e,A){if(A&4194240){var n=e.lanes;n&=t.pendingLanes,A|=n,e.lanes=A,xf(t,A)}}var ga={readContext:fA,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},qy={readContext:fA,useCallback:function(t,e){return FA().memoizedState=[t,e===void 0?null:e],t},useContext:fA,useEffect:dp,useImperativeHandle:function(t,e,A){return A=A!=null?A.concat([t]):null,Po(4194308,4,q0.bind(null,e,t),A)},useLayoutEffect:function(t,e){return Po(4194308,4,t,e)},useInsertionEffect:function(t,e){return Po(4,2,t,e)},useMemo:function(t,e){var A=FA();return e=e===void 0?null:e,t=t(),A.memoizedState=[t,e],t},useReducer:function(t,e,A){var n=FA();return e=A!==void 0?A(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Wy.bind(null,nt,t),[n.memoizedState,t]},useRef:function(t){var e=FA();return t={current:t},e.memoizedState=t},useState:fp,useDebugValue:Jf,useDeferredValue:function(t){return FA().memoizedState=t},useTransition:function(){var t=fp(!1),e=t[0];return t=zy.bind(null,t[1]),FA().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,A){var n=nt,r=FA();if(tt){if(A===void 0)throw Error(pe(407));A=A()}else{if(A=e(),Bt===null)throw Error(pe(349));Xn&30||O0(n,e,A)}r.memoizedState=A;var s={value:A,getSnapshot:e};return r.queue=s,dp(G0.bind(null,n,s,t),[t]),n.flags|=2048,di(9,V0.bind(null,n,s,A,e),void 0,null),A},useId:function(){var t=FA(),e=Bt.identifierPrefix;if(tt){var A=$A,n=GA;A=(n&~(1<<32-wA(n)-1)).toString(32)+A,e=":"+e+"R"+A,A=ci++,0<A&&(e+="H"+A.toString(32)),e+=":"}else A=Jy++,e=":"+e+"r"+A.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Xy={readContext:fA,useCallback:Z0,useContext:fA,useEffect:$f,useImperativeHandle:X0,useInsertionEffect:W0,useLayoutEffect:Y0,useMemo:j0,useReducer:$l,useRef:z0,useState:function(){return $l(fi)},useDebugValue:Jf,useDeferredValue:function(t){var e=dA();return eB(e,dt.memoizedState,t)},useTransition:function(){var t=$l(fi)[0],e=dA().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:K0,useId:tB,unstable_isNewReconciler:!1},Zy={readContext:fA,useCallback:Z0,useContext:fA,useEffect:$f,useImperativeHandle:X0,useInsertionEffect:W0,useLayoutEffect:Y0,useMemo:j0,useReducer:Jl,useRef:z0,useState:function(){return Jl(fi)},useDebugValue:Jf,useDeferredValue:function(t){var e=dA();return dt===null?e.memoizedState=t:eB(e,dt.memoizedState,t)},useTransition:function(){var t=Jl(fi)[0],e=dA().memoizedState;return[t,e]},useMutableSource:H0,useSyncExternalStore:K0,useId:tB,unstable_isNewReconciler:!1};function mA(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var A in t)e[A]===void 0&&(e[A]=t[A]);return e}return e}function ic(t,e,A,n){e=t.memoizedState,A=A(n,e),A=A==null?e:rt({},e,A),t.memoizedState=A,t.lanes===0&&(t.updateQueue.baseState=A)}var Wa={isMounted:function(t){return(t=t._reactInternals)?nr(t)===t:!1},enqueueSetState:function(t,e,A){t=t._reactInternals;var n=Dt(),r=vn(t),s=JA(n,r);s.payload=e,A!=null&&(s.callback=A),e=wn(t,s,r),e!==null&&(CA(e,t,r,n),Lo(e,t,r))},enqueueReplaceState:function(t,e,A){t=t._reactInternals;var n=Dt(),r=vn(t),s=JA(n,r);s.tag=1,s.payload=e,A!=null&&(s.callback=A),e=wn(t,s,r),e!==null&&(CA(e,t,r,n),Lo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var A=Dt(),n=vn(t),r=JA(A,n);r.tag=2,e!=null&&(r.callback=e),e=wn(t,r,n),e!==null&&(CA(e,t,n,A),Lo(e,t,n))}};function pp(t,e,A,n,r,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!si(A,n)||!si(r,s):!0}function sB(t,e,A){var n=!1,r=Un,s=e.contextType;return typeof s=="object"&&s!==null?s=fA(s):(r=Gt(e)?Yn:_t.current,n=e.contextTypes,s=(n=n!=null)?Vr(t,r):Un),e=new e(A,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wa,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function hp(t,e,A,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(A,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(A,n),e.state!==t&&Wa.enqueueReplaceState(e,e.state,null)}function oc(t,e,A,n){var r=t.stateNode;r.props=A,r.state=t.memoizedState,r.refs={},Rf(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fA(s):(s=Gt(e)?Yn:_t.current,r.context=Vr(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ic(t,e,s,A),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Wa.enqueueReplaceState(r,r.state,null),pa(t,A,r,n),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var A="",n=e;do A+=Uv(n),n=n.return;while(n);var r=A}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function zl(t,e,A){return{value:t,source:null,stack:A??null,digest:e??null}}function ac(t,e){try{console.error(e.value)}catch(A){setTimeout(function(){throw A})}}var jy=typeof WeakMap=="function"?WeakMap:Map;function iB(t,e,A){A=JA(-1,A),A.tag=3,A.payload={element:null};var n=e.value;return A.callback=function(){wa||(wa=!0,Bc=n),ac(t,e)},A}function oB(t,e,A){A=JA(-1,A),A.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var r=e.value;A.payload=function(){return n(r)},A.callback=function(){ac(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(A.callback=function(){ac(t,e),typeof n!="function"&&(Cn===null?Cn=new Set([this]):Cn.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),A}function mp(t,e,A){var n=t.pingCache;if(n===null){n=t.pingCache=new jy;var r=new Set;n.set(e,r)}else r=n.get(e),r===void 0&&(r=new Set,n.set(e,r));r.has(A)||(r.add(A),t=dx.bind(null,t,e,A),e.then(t,t))}function gp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Bp(t,e,A,n,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,A.flags|=131072,A.flags&=-52805,A.tag===1&&(A.alternate===null?A.tag=17:(e=JA(-1,1),e.tag=2,wn(A,e,1))),A.lanes|=1),t)}var ex=jA.ReactCurrentOwner,Kt=!1;function bt(t,e,A,n){e.child=t===null?M0(e,null,A,n):$r(e,t.child,A,n)}function wp(t,e,A,n,r){A=A.render;var s=e.ref;return Mr(e,r),n=Vf(t,e,A,n,s,r),A=Gf(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,XA(t,e,r)):(tt&&A&&_f(e),e.flags|=1,bt(t,e,n,r),e.child)}function Cp(t,e,A,n,r){if(t===null){var s=A.type;return typeof s=="function"&&!ed(s)&&s.defaultProps===void 0&&A.compare===null&&A.defaultProps===void 0?(e.tag=15,e.type=s,aB(t,e,s,n,r)):(t=Vo(A.type,null,n,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var i=s.memoizedProps;if(A=A.compare,A=A!==null?A:si,A(i,n)&&t.ref===e.ref)return XA(t,e,r)}return e.flags|=1,t=yn(s,n),t.ref=e.ref,t.return=e,e.child=t}function aB(t,e,A,n,r){if(t!==null){var s=t.memoizedProps;if(si(s,n)&&t.ref===e.ref)if(Kt=!1,e.pendingProps=n=s,(t.lanes&r)!==0)t.flags&131072&&(Kt=!0);else return e.lanes=t.lanes,XA(t,e,r)}return lc(t,e,A,n,r)}function lB(t,e,A){var n=e.pendingProps,r=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Fr,qt),qt|=A;else{if(!(A&1073741824))return t=s!==null?s.baseLanes|A:A,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Fr,qt),qt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:A,qe(Fr,qt),qt|=n}else s!==null?(n=s.baseLanes|A,e.memoizedState=null):n=A,qe(Fr,qt),qt|=n;return bt(t,e,r,A),e.child}function uB(t,e){var A=e.ref;(t===null&&A!==null||t!==null&&t.ref!==A)&&(e.flags|=512,e.flags|=2097152)}function lc(t,e,A,n,r){var s=Gt(A)?Yn:_t.current;return s=Vr(e,s),Mr(e,r),A=Vf(t,e,A,n,s,r),n=Gf(),t!==null&&!Kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,XA(t,e,r)):(tt&&n&&_f(e),e.flags|=1,bt(t,e,A,r),e.child)}function vp(t,e,A,n,r){if(Gt(A)){var s=!0;la(e)}else s=!1;if(Mr(e,r),e.stateNode===null)Ho(t,e),sB(e,A,n),oc(e,A,n,r),n=!0;else if(t===null){var i=e.stateNode,o=e.memoizedProps;i.props=o;var u=i.context,c=A.contextType;typeof c=="object"&&c!==null?c=fA(c):(c=Gt(A)?Yn:_t.current,c=Vr(e,c));var f=A.getDerivedStateFromProps,d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||u!==c)&&hp(e,i,n,c),sn=!1;var p=e.memoizedState;i.state=p,pa(e,n,i,r),u=e.memoizedState,o!==n||p!==u||Vt.current||sn?(typeof f=="function"&&(ic(e,A,f,n),u=e.memoizedState),(o=sn||pp(e,A,o,n,p,u,c))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),i.props=n,i.state=u,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,R0(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:mA(e.type,o),i.props=c,d=e.pendingProps,p=i.context,u=A.contextType,typeof u=="object"&&u!==null?u=fA(u):(u=Gt(A)?Yn:_t.current,u=Vr(e,u));var g=A.getDerivedStateFromProps;(f=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==d||p!==u)&&hp(e,i,n,u),sn=!1,p=e.memoizedState,i.state=p,pa(e,n,i,r);var B=e.memoizedState;o!==d||p!==B||Vt.current||sn?(typeof g=="function"&&(ic(e,A,g,n),B=e.memoizedState),(c=sn||pp(e,A,c,n,p,B,u)||!1)?(f||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,B,u),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,B,u)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=B),i.props=n,i.state=B,i.context=u,n=c):(typeof i.componentDidUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return uc(t,e,A,n,s,r)}function uc(t,e,A,n,r,s){uB(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return r&&ip(e,A,!1),XA(t,e,s);n=e.stateNode,ex.current=e;var o=i&&typeof A.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=$r(e,t.child,null,s),e.child=$r(e,null,o,s)):bt(t,e,o,s),e.memoizedState=n.state,r&&ip(e,A,!0),e.child}function cB(t){var e=t.stateNode;e.pendingContext?sp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sp(t,e.context,!1),Pf(t,e.containerInfo)}function yp(t,e,A,n,r){return Gr(),kf(r),e.flags|=256,bt(t,e,A,n),e.child}var cc={dehydrated:null,treeContext:null,retryLane:0};function fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function fB(t,e,A){var n=e.pendingProps,r=At.current,s=!1,i=(e.flags&128)!==0,o;if((o=i)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),qe(At,r&1),t===null)return rc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Xa(i,n,0,null),t=Gn(t,n,A,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fc(A),e.memoizedState=cc,t):zf(e,i));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return tx(t,e,i,n,o,r,A);if(s){s=n.fallback,i=e.mode,r=t.child,o=r.sibling;var u={mode:"hidden",children:n.children};return!(i&1)&&e.child!==r?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=yn(r,u),n.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=yn(o,s):(s=Gn(s,i,A,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?fc(A):{baseLanes:i.baseLanes|A,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~A,e.memoizedState=cc,n}return s=t.child,t=s.sibling,n=yn(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=A),n.return=e,n.sibling=null,t!==null&&(A=e.deletions,A===null?(e.deletions=[t],e.flags|=16):A.push(t)),e.child=n,e.memoizedState=null,n}function zf(t,e){return e=Xa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xi(t,e,A,n){return n!==null&&kf(n),$r(e,t.child,null,A),t=zf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tx(t,e,A,n,r,s,i){if(A)return e.flags&256?(e.flags&=-257,n=zl(Error(pe(422))),Xi(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,r=e.mode,n=Xa({mode:"visible",children:n.children},r,0,null),s=Gn(s,r,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&$r(e,t.child,null,i),e.child.memoizedState=fc(i),e.memoizedState=cc,s);if(!(e.mode&1))return Xi(t,e,i,null);if(r.data==="$!"){if(n=r.nextSibling&&r.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(pe(419)),n=zl(s,n,void 0),Xi(t,e,i,n)}if(o=(i&t.childLanes)!==0,Kt||o){if(n=Bt,n!==null){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(n.suspendedLanes|i)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,qA(t,r),CA(n,t,r,-1))}return jf(),n=zl(Error(pe(421))),Xi(t,e,i,n)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=px.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Xt=Bn(r.nextSibling),Zt=e,tt=!0,BA=null,t!==null&&(rA[sA++]=GA,rA[sA++]=$A,rA[sA++]=qn,GA=t.id,$A=t.overflow,qn=e),e=zf(e,n.children),e.flags|=4096,e)}function xp(t,e,A){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),sc(t.return,e,A)}function Wl(t,e,A,n,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:A,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=A,s.tailMode=r)}function dB(t,e,A){var n=e.pendingProps,r=n.revealOrder,s=n.tail;if(bt(t,e,n.children,A),n=At.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xp(t,A,e);else if(t.tag===19)xp(t,A,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(qe(At,n),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(A=e.child,r=null;A!==null;)t=A.alternate,t!==null&&ha(t)===null&&(r=A),A=A.sibling;A=r,A===null?(r=e.child,e.child=null):(r=A.sibling,A.sibling=null),Wl(e,!1,r,A,s);break;case"backwards":for(A=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&ha(t)===null){e.child=r;break}t=r.sibling,r.sibling=A,A=r,r=t}Wl(e,!0,A,null,s);break;case"together":Wl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function XA(t,e,A){if(t!==null&&(e.dependencies=t.dependencies),Zn|=e.lanes,!(A&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,A=yn(t,t.pendingProps),e.child=A,A.return=e;t.sibling!==null;)t=t.sibling,A=A.sibling=yn(t,t.pendingProps),A.return=e;A.sibling=null}return e.child}function Ax(t,e,A){switch(e.tag){case 3:cB(e),Gr();break;case 5:P0(e);break;case 1:Gt(e.type)&&la(e);break;case 4:Pf(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,r=e.memoizedProps.value;qe(fa,n._currentValue),n._currentValue=r;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(qe(At,At.current&1),e.flags|=128,null):A&e.child.childLanes?fB(t,e,A):(qe(At,At.current&1),t=XA(t,e,A),t!==null?t.sibling:null);qe(At,At.current&1);break;case 19:if(n=(A&e.childLanes)!==0,t.flags&128){if(n)return dB(t,e,A);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),qe(At,At.current),n)break;return null;case 22:case 23:return e.lanes=0,lB(t,e,A)}return XA(t,e,A)}var pB,dc,hB,mB;pB=function(t,e){for(var A=e.child;A!==null;){if(A.tag===5||A.tag===6)t.appendChild(A.stateNode);else if(A.tag!==4&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===e)break;for(;A.sibling===null;){if(A.return===null||A.return===e)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};dc=function(){};hB=function(t,e,A,n){var r=t.memoizedProps;if(r!==n){t=e.stateNode,Pn(_A.current);var s=null;switch(A){case"input":r=Du(t,r),n=Du(t,n),s=[];break;case"select":r=rt({},r,{value:void 0}),n=rt({},n,{value:void 0}),s=[];break;case"textarea":r=Ru(t,r),n=Ru(t,n),s=[];break;default:typeof r.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=oa)}Hu(A,n);var i;A=null;for(c in r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(i in o)o.hasOwnProperty(i)&&(A||(A={}),A[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zs.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(o=r!=null?r[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(A||(A={}),A[i]="");for(i in u)u.hasOwnProperty(i)&&o[i]!==u[i]&&(A||(A={}),A[i]=u[i])}else A||(s||(s=[]),s.push(c,A)),A=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Xe("scroll",t),s||o===u||(s=[])):(s=s||[]).push(c,u))}A&&(s=s||[]).push("style",A);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};mB=function(t,e,A,n){A!==n&&(e.flags|=4)};function gs(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var A=null;e!==null;)e.alternate!==null&&(A=e),e=e.sibling;A===null?t.tail=null:A.sibling=null;break;case"collapsed":A=t.tail;for(var n=null;A!==null;)A.alternate!==null&&(n=A),A=A.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,A=0,n=0;if(e)for(var r=t.child;r!==null;)A|=r.lanes|r.childLanes,n|=r.subtreeFlags&14680064,n|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)A|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=n,t.childLanes=A,e}function nx(t,e,A){var n=e.pendingProps;switch(Nf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(e),null;case 1:return Gt(e.type)&&aa(),Tt(e),null;case 3:return n=e.stateNode,Jr(),je(Vt),je(_t),Kf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Yi(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,BA!==null&&(vc(BA),BA=null))),dc(t,e),Tt(e),null;case 5:Hf(e);var r=Pn(ui.current);if(A=e.type,t!==null&&e.stateNode!=null)hB(t,e,A,n,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Tt(e),null}if(t=Pn(_A.current),Yi(e)){n=e.stateNode,A=e.type;var s=e.memoizedProps;switch(n[SA]=e,n[ai]=s,t=(e.mode&1)!==0,A){case"dialog":Xe("cancel",n),Xe("close",n);break;case"iframe":case"object":case"embed":Xe("load",n);break;case"video":case"audio":for(r=0;r<Is.length;r++)Xe(Is[r],n);break;case"source":Xe("error",n);break;case"img":case"image":case"link":Xe("error",n),Xe("load",n);break;case"details":Xe("toggle",n);break;case"input":Nd(n,s),Xe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",n);break;case"textarea":bd(n,s),Xe("invalid",n)}Hu(A,s),r=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Wi(n.textContent,o,t),r=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Wi(n.textContent,o,t),r=["children",""+o]):Zs.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Xe("scroll",n)}switch(A){case"input":Hi(n),kd(n,s,!0);break;case"textarea":Hi(n),Dd(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=oa)}n=r,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Gg(A)),t==="http://www.w3.org/1999/xhtml"?A==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(A,{is:n.is}):(t=i.createElement(A),A==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,A),t[SA]=e,t[ai]=n,pB(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ku(A,n),A){case"dialog":Xe("cancel",t),Xe("close",t),r=n;break;case"iframe":case"object":case"embed":Xe("load",t),r=n;break;case"video":case"audio":for(r=0;r<Is.length;r++)Xe(Is[r],t);r=n;break;case"source":Xe("error",t),r=n;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),r=n;break;case"details":Xe("toggle",t),r=n;break;case"input":Nd(t,n),r=Du(t,n),Xe("invalid",t);break;case"option":r=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},r=rt({},n,{value:void 0}),Xe("invalid",t);break;case"textarea":bd(t,n),r=Ru(t,n),Xe("invalid",t);break;default:r=n}Hu(A,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?zg(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&$g(t,u)):s==="children"?typeof u=="string"?(A!=="textarea"||u!=="")&&js(t,u):typeof u=="number"&&js(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zs.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Xe("scroll",t):u!=null&&gf(t,s,u,i))}switch(A){case"input":Hi(t),kd(t,n,!1);break;case"textarea":Hi(t),Dd(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Tn(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Nr(t,!!n.multiple,s,!1):n.defaultValue!=null&&Nr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=oa)}switch(A){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tt(e),null;case 6:if(t&&e.stateNode!=null)mB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(A=Pn(ui.current),Pn(_A.current),Yi(e)){if(n=e.stateNode,A=e.memoizedProps,n[SA]=e,(s=n.nodeValue!==A)&&(t=Zt,t!==null))switch(t.tag){case 3:Wi(n.nodeValue,A,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,A,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(A.nodeType===9?A:A.ownerDocument).createTextNode(n),n[SA]=e,e.stateNode=n}return Tt(e),null;case 13:if(je(At),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Xt!==null&&e.mode&1&&!(e.flags&128))b0(),Gr(),e.flags|=98560,s=!1;else if(s=Yi(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[SA]=e}else Gr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Tt(e),s=!1}else BA!==null&&(vc(BA),BA=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=A,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?ht===0&&(ht=3):jf())),e.updateQueue!==null&&(e.flags|=4),Tt(e),null);case 4:return Jr(),dc(t,e),t===null&&ii(e.stateNode.containerInfo),Tt(e),null;case 10:return Mf(e.type._context),Tt(e),null;case 17:return Gt(e.type)&&aa(),Tt(e),null;case 19:if(je(At),s=e.memoizedState,s===null)return Tt(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)gs(s,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=ha(t),i!==null){for(e.flags|=128,gs(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=A,A=e.child;A!==null;)s=A,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),A=A.sibling;return qe(At,At.current&1|2),e.child}t=t.sibling}s.tail!==null&&at()>Wr&&(e.flags|=128,n=!0,gs(s,!1),e.lanes=4194304)}else{if(!n)if(t=ha(i),t!==null){if(e.flags|=128,n=!0,A=t.updateQueue,A!==null&&(e.updateQueue=A,e.flags|=4),gs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!tt)return Tt(e),null}else 2*at()-s.renderingStartTime>Wr&&A!==1073741824&&(e.flags|=128,n=!0,gs(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(A=s.last,A!==null?A.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=at(),e.sibling=null,A=At.current,qe(At,n?A&1|2:A&1),e):(Tt(e),null);case 22:case 23:return Zf(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qt&1073741824&&(Tt(e),e.subtreeFlags&6&&(e.flags|=8192)):Tt(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function rx(t,e){switch(Nf(e),e.tag){case 1:return Gt(e.type)&&aa(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(),je(Vt),je(_t),Kf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hf(e),null;case 13:if(je(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Gr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return je(At),null;case 4:return Jr(),null;case 10:return Mf(e.type._context),null;case 22:case 23:return Zf(),null;case 24:return null;default:return null}}var Zi=!1,St=!1,sx=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Ur(t,e){var A=t.ref;if(A!==null)if(typeof A=="function")try{A(null)}catch(n){st(t,e,n)}else A.current=null}function pc(t,e,A){try{A()}catch(n){st(t,e,n)}}var Ep=!1;function ix(t,e){if(Xu=ra,t=v0(),Qf(t)){if("selectionStart"in t)var A={start:t.selectionStart,end:t.selectionEnd};else e:{A=(A=t.ownerDocument)&&A.defaultView||window;var n=A.getSelection&&A.getSelection();if(n&&n.rangeCount!==0){A=n.anchorNode;var r=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{A.nodeType,s.nodeType}catch{A=null;break e}var i=0,o=-1,u=-1,c=0,f=0,d=t,p=null;t:for(;;){for(var g;d!==A||r!==0&&d.nodeType!==3||(o=i+r),d!==s||n!==0&&d.nodeType!==3||(u=i+n),d.nodeType===3&&(i+=d.nodeValue.length),(g=d.firstChild)!==null;)p=d,d=g;for(;;){if(d===t)break t;if(p===A&&++c===r&&(o=i),p===s&&++f===n&&(u=i),(g=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=g}A=o===-1||u===-1?null:{start:o,end:u}}else A=null}A=A||{start:0,end:0}}else A=null;for(Zu={focusedElem:t,selectionRange:A},ra=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var B=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var m=B.memoizedProps,x=B.memoizedState,C=e.stateNode,w=C.getSnapshotBeforeUpdate(e.elementType===e.type?m:mA(e.type,m),x);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(E){st(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return B=Ep,Ep=!1,B}function Vs(t,e,A){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&pc(e,A,s)}r=r.next}while(r!==n)}}function Ya(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var A=e=e.next;do{if((A.tag&t)===t){var n=A.create;A.destroy=n()}A=A.next}while(A!==e)}}function hc(t){var e=t.ref;if(e!==null){var A=t.stateNode;switch(t.tag){case 5:t=A;break;default:t=A}typeof e=="function"?e(t):e.current=t}}function gB(t){var e=t.alternate;e!==null&&(t.alternate=null,gB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[SA],delete e[ai],delete e[tc],delete e[Oy],delete e[Vy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BB(t){return t.tag===5||t.tag===3||t.tag===4}function Tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mc(t,e,A){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?A.nodeType===8?A.parentNode.insertBefore(t,e):A.insertBefore(t,e):(A.nodeType===8?(e=A.parentNode,e.insertBefore(t,A)):(e=A,e.appendChild(t)),A=A._reactRootContainer,A!=null||e.onclick!==null||(e.onclick=oa));else if(n!==4&&(t=t.child,t!==null))for(mc(t,e,A),t=t.sibling;t!==null;)mc(t,e,A),t=t.sibling}function gc(t,e,A){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?A.insertBefore(t,e):A.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gc(t,e,A),t=t.sibling;t!==null;)gc(t,e,A),t=t.sibling}var wt=null,gA=!1;function tn(t,e,A){for(A=A.child;A!==null;)wB(t,e,A),A=A.sibling}function wB(t,e,A){if(QA&&typeof QA.onCommitFiberUnmount=="function")try{QA.onCommitFiberUnmount(Ka,A)}catch{}switch(A.tag){case 5:St||Ur(A,e);case 6:var n=wt,r=gA;wt=null,tn(t,e,A),wt=n,gA=r,wt!==null&&(gA?(t=wt,A=A.stateNode,t.nodeType===8?t.parentNode.removeChild(A):t.removeChild(A)):wt.removeChild(A.stateNode));break;case 18:wt!==null&&(gA?(t=wt,A=A.stateNode,t.nodeType===8?Kl(t.parentNode,A):t.nodeType===1&&Kl(t,A),ni(t)):Kl(wt,A.stateNode));break;case 4:n=wt,r=gA,wt=A.stateNode.containerInfo,gA=!0,tn(t,e,A),wt=n,gA=r;break;case 0:case 11:case 14:case 15:if(!St&&(n=A.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){r=n=n.next;do{var s=r,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&pc(A,e,i),r=r.next}while(r!==n)}tn(t,e,A);break;case 1:if(!St&&(Ur(A,e),n=A.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=A.memoizedProps,n.state=A.memoizedState,n.componentWillUnmount()}catch(o){st(A,e,o)}tn(t,e,A);break;case 21:tn(t,e,A);break;case 22:A.mode&1?(St=(n=St)||A.memoizedState!==null,tn(t,e,A),St=n):tn(t,e,A);break;default:tn(t,e,A)}}function Up(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var A=t.stateNode;A===null&&(A=t.stateNode=new sx),e.forEach(function(n){var r=hx.bind(null,t,n);A.has(n)||(A.add(n),n.then(r,r))})}}function pA(t,e){var A=e.deletions;if(A!==null)for(var n=0;n<A.length;n++){var r=A[n];try{var s=t,i=e,o=i;e:for(;o!==null;){switch(o.tag){case 5:wt=o.stateNode,gA=!1;break e;case 3:wt=o.stateNode.containerInfo,gA=!0;break e;case 4:wt=o.stateNode.containerInfo,gA=!0;break e}o=o.return}if(wt===null)throw Error(pe(160));wB(s,i,r),wt=null,gA=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){st(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CB(e,t),e=e.sibling}function CB(t,e){var A=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(pA(e,t),EA(t),n&4){try{Vs(3,t,t.return),Ya(3,t)}catch(m){st(t,t.return,m)}try{Vs(5,t,t.return)}catch(m){st(t,t.return,m)}}break;case 1:pA(e,t),EA(t),n&512&&A!==null&&Ur(A,A.return);break;case 5:if(pA(e,t),EA(t),n&512&&A!==null&&Ur(A,A.return),t.flags&32){var r=t.stateNode;try{js(r,"")}catch(m){st(t,t.return,m)}}if(n&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,i=A!==null?A.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Og(r,s),Ku(o,i);var c=Ku(o,s);for(i=0;i<u.length;i+=2){var f=u[i],d=u[i+1];f==="style"?zg(r,d):f==="dangerouslySetInnerHTML"?$g(r,d):f==="children"?js(r,d):gf(r,f,d,c)}switch(o){case"input":Mu(r,s);break;case"textarea":Vg(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Nr(r,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?Nr(r,!!s.multiple,s.defaultValue,!0):Nr(r,!!s.multiple,s.multiple?[]:"",!1))}r[ai]=s}catch(m){st(t,t.return,m)}}break;case 6:if(pA(e,t),EA(t),n&4){if(t.stateNode===null)throw Error(pe(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){st(t,t.return,m)}}break;case 3:if(pA(e,t),EA(t),n&4&&A!==null&&A.memoizedState.isDehydrated)try{ni(e.containerInfo)}catch(m){st(t,t.return,m)}break;case 4:pA(e,t),EA(t);break;case 13:pA(e,t),EA(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(qf=at())),n&4&&Up(t);break;case 22:if(f=A!==null&&A.memoizedState!==null,t.mode&1?(St=(c=St)||f,pA(e,t),St=c):pA(e,t),EA(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ye=t,f=t.child;f!==null;){for(d=ye=f;ye!==null;){switch(p=ye,g=p.child,p.tag){case 0:case 11:case 14:case 15:Vs(4,p,p.return);break;case 1:Ur(p,p.return);var B=p.stateNode;if(typeof B.componentWillUnmount=="function"){n=p,A=p.return;try{e=n,B.props=e.memoizedProps,B.state=e.memoizedState,B.componentWillUnmount()}catch(m){st(n,A,m)}}break;case 5:Ur(p,p.return);break;case 22:if(p.memoizedState!==null){Sp(d);continue}}g!==null?(g.return=p,ye=g):Sp(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,u=d.memoizedProps.style,i=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Jg("display",i))}catch(m){st(t,t.return,m)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){st(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pA(e,t),EA(t),n&4&&Up(t);break;case 21:break;default:pA(e,t),EA(t)}}function EA(t){var e=t.flags;if(e&2){try{e:{for(var A=t.return;A!==null;){if(BB(A)){var n=A;break e}A=A.return}throw Error(pe(160))}switch(n.tag){case 5:var r=n.stateNode;n.flags&32&&(js(r,""),n.flags&=-33);var s=Tp(t);gc(t,s,r);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Tp(t);mc(t,o,i);break;default:throw Error(pe(161))}}catch(u){st(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ox(t,e,A){ye=t,vB(t)}function vB(t,e,A){for(var n=(t.mode&1)!==0;ye!==null;){var r=ye,s=r.child;if(r.tag===22&&n){var i=r.memoizedState!==null||Zi;if(!i){var o=r.alternate,u=o!==null&&o.memoizedState!==null||St;o=Zi;var c=St;if(Zi=i,(St=u)&&!c)for(ye=r;ye!==null;)i=ye,u=i.child,i.tag===22&&i.memoizedState!==null?Ip(r):u!==null?(u.return=i,ye=u):Ip(r);for(;s!==null;)ye=s,vB(s),s=s.sibling;ye=r,Zi=o,St=c}Fp(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,ye=s):Fp(t)}}function Fp(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var A=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||Ya(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!St)if(A===null)n.componentDidMount();else{var r=e.elementType===e.type?A.memoizedProps:mA(e.type,A.memoizedProps);n.componentDidUpdate(r,A.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cp(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(A=null,e.child!==null)switch(e.child.tag){case 5:A=e.child.stateNode;break;case 1:A=e.child.stateNode}cp(e,i,A)}break;case 5:var o=e.stateNode;if(A===null&&e.flags&4){A=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&A.focus();break;case"img":u.src&&(A.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ni(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}St||e.flags&512&&hc(e)}catch(p){st(e,e.return,p)}}if(e===t){ye=null;break}if(A=e.sibling,A!==null){A.return=e.return,ye=A;break}ye=e.return}}function Sp(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var A=e.sibling;if(A!==null){A.return=e.return,ye=A;break}ye=e.return}}function Ip(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var A=e.return;try{Ya(4,e)}catch(u){st(e,A,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var r=e.return;try{n.componentDidMount()}catch(u){st(e,r,u)}}var s=e.return;try{hc(e)}catch(u){st(e,s,u)}break;case 5:var i=e.return;try{hc(e)}catch(u){st(e,i,u)}}}catch(u){st(e,e.return,u)}if(e===t){ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ye=o;break}ye=e.return}}var ax=Math.ceil,Ba=jA.ReactCurrentDispatcher,Wf=jA.ReactCurrentOwner,uA=jA.ReactCurrentBatchConfig,Re=0,Bt=null,ct=null,yt=0,qt=0,Fr=In(0),ht=0,pi=null,Zn=0,qa=0,Yf=0,Gs=null,Ht=null,qf=0,Wr=1/0,OA=null,wa=!1,Bc=null,Cn=null,ji=!1,cn=null,Ca=0,$s=0,wc=null,Ko=-1,Oo=0;function Dt(){return Re&6?at():Ko!==-1?Ko:Ko=at()}function vn(t){return t.mode&1?Re&2&&yt!==0?yt&-yt:$y.transition!==null?(Oo===0&&(Oo=s0()),Oo):(t=Je,t!==0||(t=window.event,t=t===void 0?16:f0(t.type)),t):1}function CA(t,e,A,n){if(50<$s)throw $s=0,wc=null,Error(pe(185));Ti(t,A,n),(!(Re&2)||t!==Bt)&&(t===Bt&&(!(Re&2)&&(qa|=A),ht===4&&ln(t,yt)),$t(t,n),A===1&&Re===0&&!(e.mode&1)&&(Wr=at()+500,Ja&&Qn()))}function $t(t,e){var A=t.callbackNode;$v(t,e);var n=na(t,t===Bt?yt:0);if(n===0)A!==null&&Rd(A),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(A!=null&&Rd(A),e===1)t.tag===0?Gy(Qp.bind(null,t)):_0(Qp.bind(null,t)),Hy(function(){!(Re&6)&&Qn()}),A=null;else{switch(i0(n)){case 1:A=yf;break;case 4:A=n0;break;case 16:A=Aa;break;case 536870912:A=r0;break;default:A=Aa}A=IB(A,yB.bind(null,t))}t.callbackPriority=e,t.callbackNode=A}}function yB(t,e){if(Ko=-1,Oo=0,Re&6)throw Error(pe(327));var A=t.callbackNode;if(Lr()&&t.callbackNode!==A)return null;var n=na(t,t===Bt?yt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=va(t,n);else{e=n;var r=Re;Re|=2;var s=EB();(Bt!==t||yt!==e)&&(OA=null,Wr=at()+500,Vn(t,e));do try{cx();break}catch(o){xB(t,o)}while(!0);Df(),Ba.current=s,Re=r,ct!==null?e=0:(Bt=null,yt=0,e=ht)}if(e!==0){if(e===2&&(r=Ju(t),r!==0&&(n=r,e=Cc(t,r))),e===1)throw A=pi,Vn(t,0),ln(t,n),$t(t,at()),A;if(e===6)ln(t,n);else{if(r=t.current.alternate,!(n&30)&&!lx(r)&&(e=va(t,n),e===2&&(s=Ju(t),s!==0&&(n=s,e=Cc(t,s))),e===1))throw A=pi,Vn(t,0),ln(t,n),$t(t,at()),A;switch(t.finishedWork=r,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:Dn(t,Ht,OA);break;case 3:if(ln(t,n),(n&130023424)===n&&(e=qf+500-at(),10<e)){if(na(t,0)!==0)break;if(r=t.suspendedLanes,(r&n)!==n){Dt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=ec(Dn.bind(null,t,Ht,OA),e);break}Dn(t,Ht,OA);break;case 4:if(ln(t,n),(n&4194240)===n)break;for(e=t.eventTimes,r=-1;0<n;){var i=31-wA(n);s=1<<i,i=e[i],i>r&&(r=i),n&=~s}if(n=r,n=at()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ax(n/1960))-n,10<n){t.timeoutHandle=ec(Dn.bind(null,t,Ht,OA),n);break}Dn(t,Ht,OA);break;case 5:Dn(t,Ht,OA);break;default:throw Error(pe(329))}}}return $t(t,at()),t.callbackNode===A?yB.bind(null,t):null}function Cc(t,e){var A=Gs;return t.current.memoizedState.isDehydrated&&(Vn(t,e).flags|=256),t=va(t,e),t!==2&&(e=Ht,Ht=A,e!==null&&vc(e)),t}function vc(t){Ht===null?Ht=t:Ht.push.apply(Ht,t)}function lx(t){for(var e=t;;){if(e.flags&16384){var A=e.updateQueue;if(A!==null&&(A=A.stores,A!==null))for(var n=0;n<A.length;n++){var r=A[n],s=r.getSnapshot;r=r.value;try{if(!vA(s(),r))return!1}catch{return!1}}}if(A=e.child,e.subtreeFlags&16384&&A!==null)A.return=e,e=A;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ln(t,e){for(e&=~Yf,e&=~qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var A=31-wA(e),n=1<<A;t[A]=-1,e&=~n}}function Qp(t){if(Re&6)throw Error(pe(327));Lr();var e=na(t,0);if(!(e&1))return $t(t,at()),null;var A=va(t,e);if(t.tag!==0&&A===2){var n=Ju(t);n!==0&&(e=n,A=Cc(t,n))}if(A===1)throw A=pi,Vn(t,0),ln(t,e),$t(t,at()),A;if(A===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Dn(t,Ht,OA),$t(t,at()),null}function Xf(t,e){var A=Re;Re|=1;try{return t(e)}finally{Re=A,Re===0&&(Wr=at()+500,Ja&&Qn())}}function jn(t){cn!==null&&cn.tag===0&&!(Re&6)&&Lr();var e=Re;Re|=1;var A=uA.transition,n=Je;try{if(uA.transition=null,Je=1,t)return t()}finally{Je=n,uA.transition=A,Re=e,!(Re&6)&&Qn()}}function Zf(){qt=Fr.current,je(Fr)}function Vn(t,e){t.finishedWork=null,t.finishedLanes=0;var A=t.timeoutHandle;if(A!==-1&&(t.timeoutHandle=-1,Py(A)),ct!==null)for(A=ct.return;A!==null;){var n=A;switch(Nf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&aa();break;case 3:Jr(),je(Vt),je(_t),Kf();break;case 5:Hf(n);break;case 4:Jr();break;case 13:je(At);break;case 19:je(At);break;case 10:Mf(n.type._context);break;case 22:case 23:Zf()}A=A.return}if(Bt=t,ct=t=yn(t.current,null),yt=qt=e,ht=0,pi=null,Yf=qa=Zn=0,Ht=Gs=null,Rn!==null){for(e=0;e<Rn.length;e++)if(A=Rn[e],n=A.interleaved,n!==null){A.interleaved=null;var r=n.next,s=A.pending;if(s!==null){var i=s.next;s.next=r,n.next=i}A.pending=n}Rn=null}return t}function xB(t,e){do{var A=ct;try{if(Df(),Ro.current=ga,ma){for(var n=nt.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}ma=!1}if(Xn=0,gt=dt=nt=null,Os=!1,ci=0,Wf.current=null,A===null||A.return===null){ht=1,pi=e,ct=null;break}e:{var s=t,i=A.return,o=A,u=e;if(e=yt,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=gp(i);if(g!==null){g.flags&=-257,Bp(g,i,o,s,e),g.mode&1&&mp(s,c,e),e=g,u=c;var B=e.updateQueue;if(B===null){var m=new Set;m.add(u),e.updateQueue=m}else B.add(u);break e}else{if(!(e&1)){mp(s,c,e),jf();break e}u=Error(pe(426))}}else if(tt&&o.mode&1){var x=gp(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bp(x,i,o,s,e),kf(zr(u,o));break e}}s=u=zr(u,o),ht!==4&&(ht=2),Gs===null?Gs=[s]:Gs.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=iB(s,u,e);up(s,C);break e;case 1:o=u;var w=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Cn===null||!Cn.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=oB(s,o,e);up(s,E);break e}}s=s.return}while(s!==null)}UB(A)}catch(U){e=U,ct===A&&A!==null&&(ct=A=A.return);continue}break}while(!0)}function EB(){var t=Ba.current;return Ba.current=ga,t===null?ga:t}function jf(){(ht===0||ht===3||ht===2)&&(ht=4),Bt===null||!(Zn&268435455)&&!(qa&268435455)||ln(Bt,yt)}function va(t,e){var A=Re;Re|=2;var n=EB();(Bt!==t||yt!==e)&&(OA=null,Vn(t,e));do try{ux();break}catch(r){xB(t,r)}while(!0);if(Df(),Re=A,Ba.current=n,ct!==null)throw Error(pe(261));return Bt=null,yt=0,ht}function ux(){for(;ct!==null;)TB(ct)}function cx(){for(;ct!==null&&!Mv();)TB(ct)}function TB(t){var e=SB(t.alternate,t,qt);t.memoizedProps=t.pendingProps,e===null?UB(t):ct=e,Wf.current=null}function UB(t){var e=t;do{var A=e.alternate;if(t=e.return,e.flags&32768){if(A=rx(A,e),A!==null){A.flags&=32767,ct=A;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ht=6,ct=null;return}}else if(A=nx(A,e,qt),A!==null){ct=A;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);ht===0&&(ht=5)}function Dn(t,e,A){var n=Je,r=uA.transition;try{uA.transition=null,Je=1,fx(t,e,A,n)}finally{uA.transition=r,Je=n}return null}function fx(t,e,A,n){do Lr();while(cn!==null);if(Re&6)throw Error(pe(327));A=t.finishedWork;var r=t.finishedLanes;if(A===null)return null;if(t.finishedWork=null,t.finishedLanes=0,A===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var s=A.lanes|A.childLanes;if(Jv(t,s),t===Bt&&(ct=Bt=null,yt=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||ji||(ji=!0,IB(Aa,function(){return Lr(),null})),s=(A.flags&15990)!==0,A.subtreeFlags&15990||s){s=uA.transition,uA.transition=null;var i=Je;Je=1;var o=Re;Re|=4,Wf.current=null,ix(t,A),CB(A,t),Ny(Zu),ra=!!Xu,Zu=Xu=null,t.current=A,ox(A),Lv(),Re=o,Je=i,uA.transition=s}else t.current=A;if(ji&&(ji=!1,cn=t,Ca=r),s=t.pendingLanes,s===0&&(Cn=null),Hv(A.stateNode),$t(t,at()),e!==null)for(n=t.onRecoverableError,A=0;A<e.length;A++)r=e[A],n(r.value,{componentStack:r.stack,digest:r.digest});if(wa)throw wa=!1,t=Bc,Bc=null,t;return Ca&1&&t.tag!==0&&Lr(),s=t.pendingLanes,s&1?t===wc?$s++:($s=0,wc=t):$s=0,Qn(),null}function Lr(){if(cn!==null){var t=i0(Ca),e=uA.transition,A=Je;try{if(uA.transition=null,Je=16>t?16:t,cn===null)var n=!1;else{if(t=cn,cn=null,Ca=0,Re&6)throw Error(pe(331));var r=Re;for(Re|=4,ye=t.current;ye!==null;){var s=ye,i=s.child;if(ye.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(ye=c;ye!==null;){var f=ye;switch(f.tag){case 0:case 11:case 15:Vs(8,f,s)}var d=f.child;if(d!==null)d.return=f,ye=d;else for(;ye!==null;){f=ye;var p=f.sibling,g=f.return;if(gB(f),f===c){ye=null;break}if(p!==null){p.return=g,ye=p;break}ye=g}}}var B=s.alternate;if(B!==null){var m=B.child;if(m!==null){B.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}ye=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,ye=i;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vs(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,ye=C;break e}ye=s.return}}var w=t.current;for(ye=w;ye!==null;){i=ye;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,ye=y;else e:for(i=w;ye!==null;){if(o=ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ya(9,o)}}catch(U){st(o,o.return,U)}if(o===i){ye=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,ye=E;break e}ye=o.return}}if(Re=r,Qn(),QA&&typeof QA.onPostCommitFiberRoot=="function")try{QA.onPostCommitFiberRoot(Ka,t)}catch{}n=!0}return n}finally{Je=A,uA.transition=e}}return!1}function _p(t,e,A){e=zr(A,e),e=iB(t,e,1),t=wn(t,e,1),e=Dt(),t!==null&&(Ti(t,1,e),$t(t,e))}function st(t,e,A){if(t.tag===3)_p(t,t,A);else for(;e!==null;){if(e.tag===3){_p(e,t,A);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Cn===null||!Cn.has(n))){t=zr(A,t),t=oB(e,t,1),e=wn(e,t,1),t=Dt(),e!==null&&(Ti(e,1,t),$t(e,t));break}}e=e.return}}function dx(t,e,A){var n=t.pingCache;n!==null&&n.delete(e),e=Dt(),t.pingedLanes|=t.suspendedLanes&A,Bt===t&&(yt&A)===A&&(ht===4||ht===3&&(yt&130023424)===yt&&500>at()-qf?Vn(t,0):Yf|=A),$t(t,e)}function FB(t,e){e===0&&(t.mode&1?(e=Vi,Vi<<=1,!(Vi&130023424)&&(Vi=4194304)):e=1);var A=Dt();t=qA(t,e),t!==null&&(Ti(t,e,A),$t(t,A))}function px(t){var e=t.memoizedState,A=0;e!==null&&(A=e.retryLane),FB(t,A)}function hx(t,e){var A=0;switch(t.tag){case 13:var n=t.stateNode,r=t.memoizedState;r!==null&&(A=r.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),FB(t,A)}var SB;SB=function(t,e,A){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vt.current)Kt=!0;else{if(!(t.lanes&A)&&!(e.flags&128))return Kt=!1,Ax(t,e,A);Kt=!!(t.flags&131072)}else Kt=!1,tt&&e.flags&1048576&&N0(e,ca,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ho(t,e),t=e.pendingProps;var r=Vr(e,_t.current);Mr(e,A),r=Vf(null,e,n,t,r,A);var s=Gf();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gt(n)?(s=!0,la(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Rf(e),r.updater=Wa,e.stateNode=r,r._reactInternals=e,oc(e,n,t,A),e=uc(null,e,n,!0,s,A)):(e.tag=0,tt&&s&&_f(e),bt(null,e,r,A),e=e.child),e;case 16:n=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,r=n._init,n=r(n._payload),e.type=n,r=e.tag=gx(n),t=mA(n,t),r){case 0:e=lc(null,e,n,t,A);break e;case 1:e=vp(null,e,n,t,A);break e;case 11:e=wp(null,e,n,t,A);break e;case 14:e=Cp(null,e,n,mA(n.type,t),A);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:mA(n,r),lc(t,e,n,r,A);case 1:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:mA(n,r),vp(t,e,n,r,A);case 3:e:{if(cB(e),t===null)throw Error(pe(387));n=e.pendingProps,s=e.memoizedState,r=s.element,R0(t,e),pa(e,n,null,A);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=zr(Error(pe(423)),e),e=yp(t,e,n,A,r);break e}else if(n!==r){r=zr(Error(pe(424)),e),e=yp(t,e,n,A,r);break e}else for(Xt=Bn(e.stateNode.containerInfo.firstChild),Zt=e,tt=!0,BA=null,A=M0(e,null,n,A),e.child=A;A;)A.flags=A.flags&-3|4096,A=A.sibling;else{if(Gr(),n===r){e=XA(t,e,A);break e}bt(t,e,n,A)}e=e.child}return e;case 5:return P0(e),t===null&&rc(e),n=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,i=r.children,ju(n,r)?i=null:s!==null&&ju(n,s)&&(e.flags|=32),uB(t,e),bt(t,e,i,A),e.child;case 6:return t===null&&rc(e),null;case 13:return fB(t,e,A);case 4:return Pf(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=$r(e,null,n,A):bt(t,e,n,A),e.child;case 11:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:mA(n,r),wp(t,e,n,r,A);case 7:return bt(t,e,e.pendingProps,A),e.child;case 8:return bt(t,e,e.pendingProps.children,A),e.child;case 12:return bt(t,e,e.pendingProps.children,A),e.child;case 10:e:{if(n=e.type._context,r=e.pendingProps,s=e.memoizedProps,i=r.value,qe(fa,n._currentValue),n._currentValue=i,s!==null)if(vA(s.value,i)){if(s.children===r.children&&!Vt.current){e=XA(t,e,A);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=JA(-1,A&-A),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}s.lanes|=A,u=s.alternate,u!==null&&(u.lanes|=A),sc(s.return,A,e),o.lanes|=A;break}u=u.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(pe(341));i.lanes|=A,o=i.alternate,o!==null&&(o.lanes|=A),sc(i,A,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}bt(t,e,r.children,A),e=e.child}return e;case 9:return r=e.type,n=e.pendingProps.children,Mr(e,A),r=fA(r),n=n(r),e.flags|=1,bt(t,e,n,A),e.child;case 14:return n=e.type,r=mA(n,e.pendingProps),r=mA(n.type,r),Cp(t,e,n,r,A);case 15:return aB(t,e,e.type,e.pendingProps,A);case 17:return n=e.type,r=e.pendingProps,r=e.elementType===n?r:mA(n,r),Ho(t,e),e.tag=1,Gt(n)?(t=!0,la(e)):t=!1,Mr(e,A),sB(e,n,r),oc(e,n,r,A),uc(null,e,n,!0,t,A);case 19:return dB(t,e,A);case 22:return lB(t,e,A)}throw Error(pe(156,e.tag))};function IB(t,e){return A0(t,e)}function mx(t,e,A,n){this.tag=t,this.key=A,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oA(t,e,A,n){return new mx(t,e,A,n)}function ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gx(t){if(typeof t=="function")return ed(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wf)return 11;if(t===Cf)return 14}return 2}function yn(t,e){var A=t.alternate;return A===null?(A=oA(t.tag,e,t.key,t.mode),A.elementType=t.elementType,A.type=t.type,A.stateNode=t.stateNode,A.alternate=t,t.alternate=A):(A.pendingProps=e,A.type=t.type,A.flags=0,A.subtreeFlags=0,A.deletions=null),A.flags=t.flags&14680064,A.childLanes=t.childLanes,A.lanes=t.lanes,A.child=t.child,A.memoizedProps=t.memoizedProps,A.memoizedState=t.memoizedState,A.updateQueue=t.updateQueue,e=t.dependencies,A.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},A.sibling=t.sibling,A.index=t.index,A.ref=t.ref,A}function Vo(t,e,A,n,r,s){var i=2;if(n=t,typeof t=="function")ed(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case gr:return Gn(A.children,r,s,e);case Bf:i=8,r|=8;break;case _u:return t=oA(12,A,e,r|2),t.elementType=_u,t.lanes=s,t;case Nu:return t=oA(13,A,e,r),t.elementType=Nu,t.lanes=s,t;case ku:return t=oA(19,A,e,r),t.elementType=ku,t.lanes=s,t;case Pg:return Xa(A,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Lg:i=10;break e;case Rg:i=9;break e;case wf:i=11;break e;case Cf:i=14;break e;case rn:i=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=oA(i,A,e,r),e.elementType=t,e.type=n,e.lanes=s,e}function Gn(t,e,A,n){return t=oA(7,t,n,e),t.lanes=A,t}function Xa(t,e,A,n){return t=oA(22,t,n,e),t.elementType=Pg,t.lanes=A,t.stateNode={isHidden:!1},t}function Yl(t,e,A){return t=oA(6,t,null,e),t.lanes=A,t}function ql(t,e,A){return e=oA(4,t.children!==null?t.children:[],t.key,e),e.lanes=A,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bx(t,e,A,n,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function td(t,e,A,n,r,s,i,o,u){return t=new Bx(t,e,A,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=oA(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:A,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rf(s),t}function wx(t,e,A){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:A}}function QB(t){if(!t)return Un;t=t._reactInternals;e:{if(nr(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var A=t.type;if(Gt(A))return Q0(t,A,e)}return e}function _B(t,e,A,n,r,s,i,o,u){return t=td(A,n,!0,t,r,s,i,o,u),t.context=QB(null),A=t.current,n=Dt(),r=vn(A),s=JA(n,r),s.callback=e??null,wn(A,s,r),t.current.lanes=r,Ti(t,r,n),$t(t,n),t}function Za(t,e,A,n){var r=e.current,s=Dt(),i=vn(r);return A=QB(A),e.context===null?e.context=A:e.pendingContext=A,e=JA(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wn(r,e,i),t!==null&&(CA(t,r,i,s),Lo(t,r,i)),i}function ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Np(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var A=t.retryLane;t.retryLane=A!==0&&A<e?A:e}}function Ad(t,e){Np(t,e),(t=t.alternate)&&Np(t,e)}function Cx(){return null}var NB=typeof reportError=="function"?reportError:function(t){console.error(t)};function nd(t){this._internalRoot=t}ja.prototype.render=nd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Za(t,e,null,null)};ja.prototype.unmount=nd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jn(function(){Za(null,t,null,null)}),e[YA]=null}};function ja(t){this._internalRoot=t}ja.prototype.unstable_scheduleHydration=function(t){if(t){var e=l0();t={blockedOn:null,target:t,priority:e};for(var A=0;A<an.length&&e!==0&&e<an[A].priority;A++);an.splice(A,0,t),A===0&&c0(t)}};function rd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function el(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kp(){}function vx(t,e,A,n,r){if(r){if(typeof n=="function"){var s=n;n=function(){var c=ya(i);s.call(c)}}var i=_B(e,n,t,0,null,!1,!1,"",kp);return t._reactRootContainer=i,t[YA]=i.current,ii(t.nodeType===8?t.parentNode:t),jn(),i}for(;r=t.lastChild;)t.removeChild(r);if(typeof n=="function"){var o=n;n=function(){var c=ya(u);o.call(c)}}var u=td(t,0,!1,null,null,!1,!1,"",kp);return t._reactRootContainer=u,t[YA]=u.current,ii(t.nodeType===8?t.parentNode:t),jn(function(){Za(e,u,A,n)}),u}function tl(t,e,A,n,r){var s=A._reactRootContainer;if(s){var i=s;if(typeof r=="function"){var o=r;r=function(){var u=ya(i);o.call(u)}}Za(e,i,t,r)}else i=vx(A,e,t,r,n);return ya(i)}o0=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var A=Ss(e.pendingLanes);A!==0&&(xf(e,A|1),$t(e,at()),!(Re&6)&&(Wr=at()+500,Qn()))}break;case 13:jn(function(){var n=qA(t,1);if(n!==null){var r=Dt();CA(n,t,1,r)}}),Ad(t,1)}};Ef=function(t){if(t.tag===13){var e=qA(t,134217728);if(e!==null){var A=Dt();CA(e,t,134217728,A)}Ad(t,134217728)}};a0=function(t){if(t.tag===13){var e=vn(t),A=qA(t,e);if(A!==null){var n=Dt();CA(A,t,e,n)}Ad(t,e)}};l0=function(){return Je};u0=function(t,e){var A=Je;try{return Je=t,e()}finally{Je=A}};Vu=function(t,e,A){switch(e){case"input":if(Mu(t,A),e=A.name,A.type==="radio"&&e!=null){for(A=t;A.parentNode;)A=A.parentNode;for(A=A.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<A.length;e++){var n=A[e];if(n!==t&&n.form===t.form){var r=$a(n);if(!r)throw Error(pe(90));Kg(n),Mu(n,r)}}}break;case"textarea":Vg(t,A);break;case"select":e=A.value,e!=null&&Nr(t,!!A.multiple,e,!1)}};qg=Xf;Xg=jn;var yx={usingClientEntryPoint:!1,Events:[Fi,vr,$a,Wg,Yg,Xf]},Bs={findFiberByHostInstance:Ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xx={bundleType:Bs.bundleType,version:Bs.version,rendererPackageName:Bs.rendererPackageName,rendererConfig:Bs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e0(t),t===null?null:t.stateNode},findFiberByHostInstance:Bs.findFiberByHostInstance||Cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Ka=eo.inject(xx),QA=eo}catch{}}tA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yx;tA.createPortal=function(t,e){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rd(e))throw Error(pe(200));return wx(t,e,null,A)};tA.createRoot=function(t,e){if(!rd(t))throw Error(pe(299));var A=!1,n="",r=NB;return e!=null&&(e.unstable_strictMode===!0&&(A=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=td(t,1,!1,null,null,A,!1,n,r),t[YA]=e.current,ii(t.nodeType===8?t.parentNode:t),new nd(e)};tA.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=e0(e),t=t===null?null:t.stateNode,t};tA.flushSync=function(t){return jn(t)};tA.hydrate=function(t,e,A){if(!el(e))throw Error(pe(200));return tl(null,t,e,!0,A)};tA.hydrateRoot=function(t,e,A){if(!rd(t))throw Error(pe(405));var n=A!=null&&A.hydratedSources||null,r=!1,s="",i=NB;if(A!=null&&(A.unstable_strictMode===!0&&(r=!0),A.identifierPrefix!==void 0&&(s=A.identifierPrefix),A.onRecoverableError!==void 0&&(i=A.onRecoverableError)),e=_B(e,null,t,1,A??null,r,!1,s,i),t[YA]=e.current,ii(t),n)for(t=0;t<n.length;t++)A=n[t],r=A._getVersion,r=r(A._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[A,r]:e.mutableSourceEagerHydrationData.push(A,r);return new ja(e)};tA.render=function(t,e,A){if(!el(e))throw Error(pe(200));return tl(null,t,e,!1,A)};tA.unmountComponentAtNode=function(t){if(!el(t))throw Error(pe(40));return t._reactRootContainer?(jn(function(){tl(null,null,t,!1,function(){t._reactRootContainer=null,t[YA]=null})}),!0):!1};tA.unstable_batchedUpdates=Xf;tA.unstable_renderSubtreeIntoContainer=function(t,e,A,n){if(!el(A))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return tl(t,e,A,!1,n)};tA.version="18.3.1-next-f1338f8080-20240426";function kB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kB)}catch(t){console.error(t)}}kB(),kg.exports=tA;var Ex=kg.exports,bp=Ex;Iu.createRoot=bp.createRoot,Iu.hydrateRoot=bp.hydrateRoot;const Tx={},Dp=t=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",className:"w-16 h-16 mb-4 text-red-500",...t,children:[h.jsx("path",{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z",fill:"currentColor"}),h.jsx("line",{x1:"12",y1:"9",x2:"12",y2:"13",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("line",{x1:"12",y1:"17",x2:"12.01",y2:"17",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),Mp=Tx,Ux=({children:t})=>{if(!Mp)return h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-slate-300 p-8",children:[h.jsx(Dp,{}),h.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-400",children:"빌드 환경 오류"}),h.jsxs("p",{className:"text-center max-w-md",children:[h.jsx("code",{children:"import.meta.env"}),"가 정의되지 않았습니다. 이 앱은 Vite와 같은 빌드 도구를 사용하여 빌드해야 합니다."]}),h.jsx("p",{className:"text-sm mt-4 text-slate-500",children:"이 오류는 앱을 빌드하면 해결됩니다."})]});const e=Mp.VITE_API_KEY;return!e||!e.trim()?h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-slate-900 text-slate-300 p-8",children:[h.jsx(Dp,{}),h.jsx("h2",{className:"text-2xl font-bold mb-2 text-red-400",children:"API 키 누락"}),h.jsxs("p",{className:"text-center max-w-md",children:["Google Gemini API 키가 구성되지 않았습니다. 실행 환경에 ",h.jsx("code",{children:"VITE_API_KEY"})," 환경 변수가 설정되어 있는지 확인하세요."]}),h.jsx("p",{className:"text-sm mt-4 text-slate-500",children:"이 애플리케이션은 API 키 없이 작동할 수 없습니다."})]}):h.jsx(h.Fragment,{children:t})},He=({children:t,variant:e="primary",icon:A,fullWidth:n=!1,isAnalyzed:r,className:s,...i})=>{const o="font-semibold py-2.5 px-5 rounded-lg transition-all duration-150 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 flex items-center justify-center space-x-2 disabled:opacity-60 disabled:cursor-not-allowed";let u="";switch(e){case"primary":u="bg-sky-500 hover:bg-sky-600 text-white focus:ring-sky-500";break;case"secondary":u="bg-slate-600 hover:bg-slate-500 text-slate-100 focus:ring-slate-500";break;case"danger":u="bg-red-500 hover:bg-red-600 text-white focus:ring-red-500";break}const c=n?"w-full":"";return h.jsxs("button",{className:`${o} ${u} ${c} ${s||""}`,...i,children:[A&&h.jsx("span",{children:A}),h.jsx("span",{children:t}),r&&h.jsxs("span",{className:"ml-1.5",children:[" ",h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-4 h-4 text-green-400",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})})]})]})},Fx=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),Ii=$.forwardRef(({onImagesSet:t,onOpenCamera:e,isLoading:A,selectedImageCount:n},r)=>{const s=$.useCallback(async o=>{const u=o.target.files;if(u&&u.length>0){const c=Array.from(u).map(f=>new Promise((d,p)=>{const g=new FileReader;g.onloadend=()=>{const m=g.result.split(",");if(m.length<2){console.error(`Invalid file format for base64 conversion: ${f.name}`),p(new Error(`Invalid file format for ${f.name}`));return}const x=m[1];d({file:f,base64:x,mimeType:f.type||"application/octet-stream"})},g.onerror=B=>{console.error(`Error reading file ${f.name}:`,B),p(new Error(`Failed to read file ${f.name}`))},g.readAsDataURL(f)}));try{const f=await Promise.all(c);t(f)}catch(f){console.error("Error processing one or more files:",f),alert("일부 파일 처리 중 오류가 발생했습니다. 다시 시도해주세요."),t([])}}else t([]);o.target&&(o.target.value="")},[t]),i=n&&n>0;return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"file-upload",className:"block text-sm font-medium text-slate-300 mb-1",children:i?"사진 파일로 추가":"이미지 업로드"}),h.jsx("input",{id:"file-upload",name:"file-upload",type:"file",ref:r,multiple:!0,className:"block w-full text-sm text-slate-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-sky-500 file:text-white hover:file:bg-sky-600 disabled:opacity-50",accept:"image/png, image/jpeg, image/webp, image/gif",onChange:s,disabled:A}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"PNG, JPG, GIF, WEBP (파일당 최대 10MB)."}),n&&n>0&&h.jsxs("p",{className:"mt-1 text-xs text-sky-400",children:[n,"개 이미지 선택됨."]})]}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center","aria-hidden":"true",children:h.jsx("div",{className:"w-full border-t border-slate-600"})}),h.jsx("div",{className:"relative flex justify-center",children:h.jsx("span",{className:"bg-slate-800 px-2 text-sm text-slate-400",children:"또는"})})]}),h.jsx(He,{onClick:e,disabled:A,icon:h.jsx(Fx,{}),fullWidth:!0,children:i?"카메라로 추가":"카메라 사용"})]})});Ii.displayName="ImageInput";const jt=({size:t="md",color:e="text-sky-400"})=>{let A="w-8 h-8";return t==="sm"&&(A="w-5 h-5"),t==="lg"&&(A="w-12 h-12"),h.jsxs("svg",{className:`animate-spin ${A} ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})},Sx=()=>h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})]}),Ix=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),Qx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})}),Al=({onCapture:t,onClose:e})=>{const A=$.useRef(null),n=$.useRef(null),[r,s]=$.useState(null),[i,o]=$.useState(!0),[u,c]=$.useState([]),[f,d]=$.useState(void 0),[p,g]=$.useState(!1),[B,m]=$.useState(!1),x=$.useCallback(()=>{n.current&&(n.current.getTracks().forEach(E=>E.stop()),n.current=null)},[]),C=$.useCallback(async E=>{var T;if(!((T=navigator.mediaDevices)!=null&&T.getUserMedia))throw new Error("이 브라우저에서는 카메라 API를 사용할 수 없습니다.");x();const U=await navigator.mediaDevices.getUserMedia(E);if(A.current){A.current.srcObject=U,n.current=U,A.current.onloadedmetadata=()=>{var j;(j=A.current)==null||j.play().catch(_=>{console.error("[CameraView] Video play failed:",_),s("비디오 재생에 실패했습니다. 페이지를 새로고침하거나 브라우저 설정을 확인해주세요.")})};const M=(await navigator.mediaDevices.enumerateDevices()).filter(j=>j.kind==="videoinput");c(M);const R=U.getVideoTracks()[0].getSettings();if(d(R.deviceId),R.facingMode)g(R.facingMode==="user");else{const j=M.find(_=>_.deviceId===R.deviceId);g(!!(j!=null&&j.label.toLowerCase().includes("front")))}}},[x]);$.useEffect(()=>{let E=!0;return(async()=>{o(!0),s(null);try{await C({video:{facingMode:{ideal:"environment"}}})}catch(T){console.warn("[CameraView] Ideal 'environment' camera failed, trying any video device.",T);try{await C({video:!0})}catch(Q){if(!E)return;console.error("[CameraView] All camera attempts failed:",Q);let M="카메라를 시작할 수 없습니다.";Q.name==="NotAllowedError"?M="카메라 접근 권한이 거부되었습니다. 브라우저 설정에서 권한을 허용해주세요.":Q.name==="NotFoundError"?M="사용 가능한 카메라를 찾을 수 없습니다.":M=`카메라 오류: ${Q.message}`,s(M)}}})(),()=>{E=!1,x()}},[C,x]);const w=$.useCallback(async()=>{if(u.length<=1||i)return;o(!0),s(null);const U=(u.findIndex(Q=>Q.deviceId===f)+1)%u.length,T=u[U].deviceId;try{await C({video:{deviceId:{exact:T}}})}catch(Q){console.error(`[CameraView] Error switching to device ${T}:`,Q),s("카메라 전환에 실패했습니다.")}finally{o(!1)}},[u,f,i,C]),y=$.useCallback(()=>{if(!A.current||!B){s("카메라가 준비되지 않았습니다. 캡처할 수 없습니다.");return}const E=A.current,U=document.createElement("canvas");if(U.width=E.videoWidth,U.height=E.videoHeight,U.width===0||U.height===0){s("캡처 실패: 비디오 크기가 0입니다.");return}const T=U.getContext("2d");if(!T){s("캡처를 위한 캔버스 컨텍스트를 가져올 수 없습니다.");return}p&&(T.translate(U.width,0),T.scale(-1,1)),T.drawImage(E,0,0,U.width,U.height);const M=U.toDataURL("image/png").split(",")[1];U.toBlob(D=>{if(D){const R=new File([D],`capture-${Date.now()}.png`,{type:"image/png"});t(R,M,"image/png")}else s("캔버스에서 이미지 Blob 생성에 실패했습니다.")},"image/png")},[t,p,B]);return h.jsxs("div",{className:"space-y-4 flex flex-col items-center",children:[i&&!r&&h.jsxs("div",{className:"w-full aspect-video bg-slate-700 rounded-lg flex items-center justify-center",children:[h.jsx(jt,{})," ",h.jsx("span",{className:"ml-2 text-slate-300",children:"카메라 시작 중..."})]}),r&&h.jsxs("div",{className:"w-full p-4 bg-red-700/30 border border-red-500 text-red-300 rounded-lg text-center",children:[h.jsx("p",{className:"font-semibold",children:"카메라 오류:"}),h.jsx("p",{className:"text-sm mt-1 whitespace-pre-wrap",children:r})]}),h.jsx("video",{ref:A,className:`w-full aspect-video bg-slate-900 rounded-lg shadow-md ${i||r?"hidden":"block"} ${p?"transform scale-x-[-1]":""}`,playsInline:!0,muted:!0,autoPlay:!0,onPlaying:()=>{m(!0),o(!1)},onPause:()=>m(!1)}),!i&&!r&&h.jsxs("div",{className:"grid grid-cols-1 gap-3 w-full sm:grid-cols-2",children:[h.jsx(He,{onClick:y,icon:h.jsx(Sx,{}),fullWidth:!0,disabled:!B,children:"촬영"}),u.length>1&&h.jsx(He,{onClick:w,icon:h.jsx(Qx,{}),variant:"secondary",fullWidth:!0,children:"카메라 전환"})]}),h.jsx(He,{onClick:e,variant:"secondary",icon:h.jsx(Ix,{}),fullWidth:!0,className:!i&&!r&&u.length>1?"sm:col-span-2":"",children:i||r?"뒤로":"취소"})]})},_x=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),nl=({imageBase64:t,fileName:e,mimeType:A,receiptNumber:n,siteLocation:r,item:s,comment:i,showOverlay:o,totalSelectedImages:u,currentImageIndex:c,onDelete:f})=>{if(!t)return null;const d=`data:${A};base64,${t}`;return h.jsxs("div",{className:"mt-6",children:[h.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"이미지 미리보기:"}),h.jsxs("div",{className:"relative bg-slate-700 p-3 rounded-lg shadow",children:[f&&h.jsx(He,{onClick:f,variant:"danger",className:"absolute top-2 left-2 !p-2 z-10","aria-label":"현재 이미지 삭제",children:h.jsx(_x,{})}),h.jsx("img",{src:d,alt:e||"미리보기",className:"max-w-full max-h-96 mx-auto rounded-md object-contain"}),o&&h.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 text-white text-xs p-2 rounded-md shadow-lg",children:[n&&h.jsxs("p",{children:[h.jsx("strong",{children:"접수번호:"})," ",n]}),r&&h.jsxs("p",{children:[h.jsx("strong",{children:"현장:"})," ",r]}),s&&h.jsxs("p",{children:[h.jsx("strong",{children:"항목:"})," ",s]}),i&&h.jsxs("p",{className:"text-yellow-300",children:[h.jsx("strong",{children:"코멘트:"})," ",i]})]}),h.jsxs("div",{className:"text-center mt-2",children:[e&&h.jsx("p",{className:"text-xs text-slate-400 truncate",children:e}),typeof u=="number"&&u>1&&typeof c=="number"&&c!==-1&&h.jsxs("p",{className:"text-xs text-sky-400",children:["이미지 ",c+1," / ",u]}),typeof u=="number"&&u>1&&(typeof c!="number"||c===-1)&&h.jsxs("p",{className:"text-xs text-sky-400",children:[u,"개 이미지 선택됨"]})]})]})]})},Nx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.188l-1.25.813a4.5 4.5 0 01-3.09-3.09L11.25 9l1.25-2.846a4.5 4.5 0 013.09-3.09L17 2.25l1.25.813a4.5 4.5 0 013.09 3.09L22.75 9l-1.25 2.846a4.5 4.5 0 01-3.09 3.09L18.25 12z"})}),kx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),bx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),Dx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),Mx=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 9.75L17 11.938l-1.25.813a4.5 4.5 0 01-3.09-3.09L11.25 6.75l1.25-2.846a4.5 4.5 0 013.09-3.09L17 0l1.25.813a4.5 4.5 0 013.09 3.09L22.75 6.75l-1.25 2.846a4.5 4.5 0 01-3.09 3.09L18.25 9.75zM12 15.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0v-2.25a.75.75 0 01.75-.75zM12 3.75a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V4.5a.75.75 0 01.75-.75zM5.25 12a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H6a.75.75 0 01-.75-.75zm10.5 0a.75.75 0 01.75-.75h2.25a.75.75 0 010 1.5H16.5a.75.75 0 01-.75-.75z"})}),sd=({onExtract:t,onClear:e,isExtractDisabled:A,isClearDisabled:n,onDownloadStampedImages:r,isDownloadStampedDisabled:s,isDownloadingStamped:i,onInitiateSendToKtl:o,isClaydoxDisabled:u,isSendingToClaydox:c,ktlApiCallStatus:f="idle",onAutoAssignIdentifiers:d,isAutoAssignDisabled:p})=>h.jsxs("div",{className:"space-y-4 pt-2",children:[t&&h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsx(He,{onClick:t,disabled:A,icon:h.jsx(Nx,{}),fullWidth:!0,"aria-label":"입력된 정보를 바탕으로 선택된 모든 이미지에서 데이터 추출",children:"텍스트 추출"}),r&&h.jsx(He,{onClick:r,disabled:s,icon:i?h.jsx(jt,{size:"sm"}):h.jsx(bx,{}),fullWidth:!0,variant:"secondary","aria-label":"입력 정보가 스탬프된 이미지 다운로드",children:i?"다운로드 중...":"스탬프 이미지 다운로드"})]}),d&&h.jsx(He,{onClick:d,disabled:p,icon:h.jsx(Mx,{}),fullWidth:!0,variant:"secondary",className:"bg-purple-600 hover:bg-purple-500 focus:ring-purple-500","aria-label":"접수번호 패턴 및 값 농도에 따라 식별자 자동 할당",children:"자동 식별자 할당"}),o&&h.jsxs("div",{className:"space-y-1",children:[h.jsx(He,{onClick:o,disabled:u,icon:c?h.jsx(jt,{size:"sm"}):h.jsx(Dx,{}),fullWidth:!0,variant:"secondary",className:"bg-teal-600 hover:bg-teal-500 focus:ring-teal-500","aria-label":"데이터 및 이미지를 KTL API로 전송 전 확인",children:c?"KTL로 전송 중...":"KTL로 전송"}),!c&&f==="success"&&h.jsx("p",{className:"text-xs text-center text-green-400",role:"status",children:"✅ KTL 전송 완료"}),!c&&f==="error"&&h.jsx("p",{className:"text-xs text-center text-red-400",role:"alert",children:"❌ KTL 전송 실패. 상세 오류는 메시지를 확인하세요."})]}),h.jsx(He,{onClick:e,disabled:n,variant:"danger",icon:h.jsx(kx,{}),fullWidth:!0,"aria-label":"선택된 모든 이미지 및 추출된 데이터 지우기. 입력 정보는 유지됩니다.",children:"모두 지우기"})]}),Xl=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})}),Lx=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125z"})}),Rx=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Px=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),Hx=new Set(["Z1","Z2","S1","S2","Z3","Z4","S3","S4","Z5","S5","M","응답"]),Kx=new Set(["Z 2시간 시작 - 종료","드리프트 완료","반복성 완료"]),Lp=t=>t===void 0?"":String(t),Zl=(t,e,A,n)=>{const r=e==="primary"?t.value:t.valueTP;let s=["","",""];try{if(r&&r.trim().startsWith("[")){const u=JSON.parse(r);Array.isArray(u)&&u.length<=3&&(s=[String(u[0]||""),String(u[1]||""),String(u[2]||"")])}}catch{}const i=(u,c)=>{const f=[...s];f[u]=c;const d=f.some(p=>p.trim()!=="");A(t.id,d?JSON.stringify(f):"")},o="w-full bg-slate-700 border border-slate-600 rounded-md p-1.5 text-xs focus:ring-sky-500 focus:border-sky-500 placeholder-slate-400 text-slate-200 text-center";return h.jsxs("div",{className:"flex items-start gap-1.5",children:[h.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[h.jsx("input",{type:"text",value:s[0],onChange:u=>i(0,u.target.value),onBlur:()=>n==null?void 0:n(t.id,e),className:o,placeholder:"."}),h.jsx("label",{className:"text-xs text-slate-400 whitespace-nowrap",children:"초"})]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[h.jsx("input",{type:"text",value:s[1],onChange:u=>i(1,u.target.value),onBlur:()=>n==null?void 0:n(t.id,e),className:o,placeholder:".."}),h.jsx("label",{className:"text-xs text-slate-400 whitespace-nowrap",children:"분"})]}),h.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[h.jsx("input",{type:"text",value:s[2],onChange:u=>i(2,u.target.value),onBlur:()=>n==null?void 0:n(t.id,e),className:o,placeholder:"---"}),h.jsx("label",{className:"text-xs text-slate-400 whitespace-nowrap",children:"mm"})]})]})},id=({ocrData:t,error:e,isLoading:A,contextProvided:n,hasImage:r,selectedItem:s,onEntryIdentifierChange:i,onEntryIdentifierTPChange:o,onEntryTimeChange:u,onEntryPrimaryValueChange:c,onEntryValueTPChange:f,onEntryValueBlur:d,onAddEntry:p,onReorderRows:g,availableIdentifiers:B,tnIdentifiers:m,tpIdentifiers:x,rawJsonForCopy:C,ktlJsonToPreview:w,draftJsonToPreview:y,isManualEntryMode:E=!1,timeColumnHeader:U})=>{const[T,Q]=$.useState(""),[M,D]=$.useState(""),R=$.useCallback(()=>{if(!T.trim()){alert("'이동할 행 No.'를 입력해주세요.");return}g(T,M)},[T,M,g]);if(A)return h.jsxs("div",{className:"mt-6 p-6 bg-slate-700/50 rounded-lg shadow flex flex-col items-center justify-center min-h-[10rem]",children:[h.jsx(jt,{size:"lg"}),h.jsx("p",{className:"text-slate-300 mt-3",children:E?"데이터 로딩 중...":"선택된 모든 이미지를 처리 중입니다..."})]});if(e)return h.jsxs("div",{className:"mt-6 p-4 bg-red-800/30 border border-red-600/50 text-red-300 rounded-lg shadow text-center",role:"alert",children:[h.jsx("h4",{className:"font-semibold text-lg mb-1",children:"오류 발생"}),h.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e})]});if(!n)return h.jsxs("div",{className:"mt-6 p-6 bg-slate-700/50 rounded-lg shadow text-center",children:[h.jsx(Xl,{className:"w-12 h-12 text-sky-500 mx-auto mb-3"}),h.jsx("h4",{className:"text-lg font-semibold text-slate-200 mb-1",children:"정보 필요"}),h.jsx("p",{className:"text-sm text-slate-400",children:"분석을 시작하려면 먼저 위의 필수 입력 정보를 모두 채워주세요."})]});if(!r&&!E)return h.jsxs("div",{className:"mt-6 p-6 bg-slate-700/50 rounded-lg shadow text-center",children:[h.jsx(Xl,{className:"w-12 h-12 text-sky-500 mx-auto mb-3"}),h.jsx("h4",{className:"text-lg font-semibold text-slate-200 mb-1",children:"이미지 필요"}),h.jsx("p",{className:"text-sm text-slate-400",children:"분석할 이미지를 먼저 선택하거나 카메라로 촬영해주세요."})]});const j=async(Y,J)=>{if(!Y){alert(`${J} 내용이 없습니다.`);return}try{await navigator.clipboard.writeText(Y),alert(`${J} 복사 완료!`)}catch(ee){console.error(`클립보드에 ${J} 복사 실패:`,ee),alert(`${J} 복사에 실패했습니다. 콘솔을 확인해주세요.`)}},_=s==="TN/TP",F=_||s==="TU/CL",q="w-full bg-slate-700 p-2 border border-slate-600 rounded-md text-sm focus:ring-sky-500 focus:border-sky-500 placeholder-slate-400 text-slate-200";return t!==null?h.jsxs("div",{className:"mt-6 space-y-4",children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("h3",{className:"text-xl font-semibold text-sky-400 flex items-center",children:[h.jsx(Lx,{className:"w-6 h-6 mr-2"})," ",E?"데이터 입력":"추출된 데이터"]}),C&&!E&&h.jsx(He,{onClick:()=>j(C,"JSON 데이터"),variant:"secondary",disabled:!C||t.length===0,"aria-label":"추출된 원시 JSON 데이터 클립보드에 복사",children:"JSON 복사"})]}),!E&&t.length>0&&h.jsxs("div",{className:"p-3 bg-slate-700/30 rounded-md border border-slate-600/50 space-y-3",children:[h.jsx("h4",{className:"text-md font-semibold text-slate-200 mb-1",children:"행 순서 변경"}),h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{htmlFor:"row-to-move",className:"block text-xs font-medium text-slate-300 mb-0.5",children:"이동할 행 No.:"}),h.jsx("input",{type:"text",id:"row-to-move",value:T,onChange:Y=>Q(Y.target.value),placeholder:"예: 5 또는 1-3",className:q,"aria-label":"이동할 행의 현재 번호 또는 범위 (예: 5 또는 1-3)"})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{htmlFor:"new-position",className:"block text-xs font-medium text-slate-300 mb-0.5",children:"새 위치 No.:"}),h.jsx("input",{type:"number",id:"new-position",value:M,onChange:Y=>D(Y.target.value),placeholder:"목표 No. (비우면 맨 뒤로)",className:q,"aria-label":"행을 이동시킬 새로운 위치 번호 (비우면 맨 뒤로)"})]}),h.jsx(He,{onClick:R,variant:"secondary",icon:h.jsx(Px,{}),disabled:A||!T.trim()||t.length<2,className:"sm:w-auto h-fit","aria-label":"지정한 번호 또는 범위로 행 순서 변경",children:"순서 변경"})]})]}),t.length===0&&!A&&h.jsxs("div",{className:"p-4 bg-slate-700/30 border border-slate-600/50 rounded-lg shadow text-center",children:[h.jsx(Xl,{className:"w-10 h-10 text-sky-400 mx-auto mb-2"}),h.jsx("p",{className:"text-sm text-slate-300",children:E?"데이터가 없습니다. 아래 '행 추가' 버튼을 사용하거나 '불러오기'를 통해 데이터를 가져오세요.":"추출된 데이터가 없습니다. 이미지를 다시 확인하거나, 아래 '행 추가' 버튼을 사용하여 수동으로 데이터를 입력할 수 있습니다."}),C&&C!=="[]"&&!E&&h.jsxs("details",{className:"mt-3 text-left text-xs",children:[h.jsx("summary",{className:"cursor-pointer text-slate-500 hover:text-slate-400",children:"(참고: 원본 AI 응답 보기)"}),h.jsx("pre",{className:"mt-1 text-slate-400 bg-slate-800 p-2 rounded overflow-x-auto max-h-32",children:C})]})]}),t.length>0&&h.jsx("div",{className:"overflow-x-auto bg-slate-800 p-1 rounded-lg shadow-md border border-slate-700",children:h.jsxs("table",{className:"min-w-full divide-y divide-slate-700 table-fixed",children:[h.jsx("thead",{className:"bg-slate-700/50",children:h.jsxs("tr",{children:[h.jsx("th",{scope:"col",className:"px-2 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider w-12",children:"No."}),h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:U||"최종 저장 시간"}),F?h.jsxs(h.Fragment,{children:[h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:_?"TN 값":"TU 값"}),h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:_?"TP 값":"Cl 값"})]}):h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:"값"}),h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:E?"구분":_?"TN 식별자":"식별자"}),_&&!E&&h.jsx("th",{scope:"col",className:"px-3 py-3 text-center text-xs font-medium text-slate-300 uppercase tracking-wider",children:"TP 식별자"})]})}),h.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-700",children:t.map((Y,J)=>{const ee="w-full bg-slate-700 p-2 border border-slate-600 rounded-md text-sm focus:ring-sky-500 focus:border-sky-500",X=le=>`${ee} ${le?"text-red-400 font-bold":"text-slate-200"}`,H=E&&!!Y.identifier&&Kx.has(Y.identifier),O=E&&!!Y.identifier&&Hx.has(Y.identifier),N=E&&Y.identifier==="응답";if(H){const le=3+(F?2:1);return h.jsx("tr",{children:h.jsx("td",{colSpan:le,className:"py-3 px-2",children:h.jsxs("div",{className:"flex items-center text-slate-500",children:[h.jsx("div",{className:"flex-grow border-t border-slate-600"}),h.jsx("span",{className:"px-4 text-xs font-semibold tracking-wider whitespace-nowrap",children:Y.identifier}),h.jsx("div",{className:"flex-grow border-t border-slate-600"})]})})},Y.id)}return h.jsxs("tr",{className:`${O?"bg-slate-900":"hover:bg-slate-700/30"} transition-colors duration-100`,children:[h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap text-sm text-slate-400 text-center align-top",children:J+1}),h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap align-top",children:h.jsx("input",{type:"text",value:Y.time,onChange:le=>u(Y.id,le.target.value),className:`${ee} text-slate-200 disabled:bg-slate-800/50 disabled:text-slate-400`,"aria-label":`시간 입력 필드 ${J+1}`,disabled:H||E})}),N&&E?F?h.jsxs(h.Fragment,{children:[h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap align-top",children:Zl(Y,"primary",c,d)}),h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap align-top",children:Zl(Y,"tp",f,d)})]}):h.jsx("td",{colSpan:1,className:"px-2 py-2.5 whitespace-nowrap align-top",children:Zl(Y,"primary",c,d)}):h.jsxs(h.Fragment,{children:[h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap align-top",children:h.jsx("input",{type:"text",value:Lp(Y.value),onChange:le=>c(Y.id,le.target.value),onBlur:()=>d==null?void 0:d(Y.id,"primary"),className:`${ee} text-slate-200`,"aria-label":`${F?_?"TN 값":"TU 값":"값"} 입력 필드 ${J+1}`,disabled:H})}),F&&h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap align-top",children:h.jsx("input",{type:"text",value:Lp(Y.valueTP),onChange:le=>f(Y.id,le.target.value),onBlur:()=>d==null?void 0:d(Y.id,"tp"),className:`${ee} text-slate-200`,"aria-label":`${_?"TP 값":"Cl 값"} 입력 필드 ${J+1}`,disabled:H})})]}),E?h.jsx("td",{className:`px-2 py-2.5 whitespace-nowrap text-sm text-center align-top ${O?"text-red-400 font-semibold":"text-slate-300"}`,children:Y.identifier==="응답"?"응답시간":Y.identifier}):h.jsxs(h.Fragment,{children:[h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap text-sm align-top",children:h.jsxs("select",{value:Y.identifier||"",onChange:le=>i(Y.id,le.target.value),className:X(Y.identifier),"aria-label":`${_?"TN":""} 식별자 선택 ${J+1}`,children:[h.jsx("option",{value:"",className:"text-slate-400",children:"지정 안함"}),(_?m:B).map(le=>h.jsx("option",{value:le,className:Y.identifier===le?"text-red-400 font-bold":"text-slate-200",children:le},le))]})}),_&&h.jsx("td",{className:"px-2 py-2.5 whitespace-nowrap text-sm align-top",children:h.jsxs("select",{value:Y.identifierTP||"",onChange:le=>o(Y.id,le.target.value),className:X(Y.identifierTP),"aria-label":`TP 식별자 선택 ${J+1}`,children:[h.jsx("option",{value:"",className:"text-slate-400",children:"지정 안함"}),x.map(le=>h.jsx("option",{value:le,className:Y.identifierTP===le?"text-red-400 font-bold":"text-slate-200",children:le},le))]})})]})]},Y.id)})})]})}),!E&&h.jsx("div",{className:"mt-4 flex justify-end",children:h.jsx(He,{onClick:p,variant:"primary",icon:h.jsx(Rx,{}),"aria-label":"추출된 데이터 테이블에 새 행 추가",disabled:A,children:"행 추가"})}),h.jsx("div",{className:"no-capture mt-4",children:(y||w)&&h.jsxs("details",{className:"bg-slate-700/30 p-3 rounded-md border border-slate-600/50",children:[h.jsx("summary",{className:"cursor-pointer list-none",children:h.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[y&&h.jsx("h4",{className:"text-sm font-medium text-amber-400",children:"임시 저장용"}),y&&w&&h.jsx("span",{className:"text-slate-600",children:"|"}),w&&h.jsx("h4",{className:"text-sm font-medium text-sky-400",children:"KTL 전송용"}),h.jsx("span",{className:"text-xs text-slate-500",children:"(JSON 미리보기)"})]})}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4 pt-4 border-t border-slate-600",children:[y&&h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx("pre",{className:"text-xs text-slate-300 bg-slate-800 p-3 rounded-md overflow-x-auto max-h-60 border border-slate-700",children:y})}),w&&h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("pre",{className:"text-xs text-slate-300 bg-slate-800 p-3 rounded-md overflow-x-auto max-h-60 border border-slate-700",children:w}),h.jsx(He,{onClick:()=>j(w,"KTL JSON"),variant:"secondary",className:"text-xs mt-2",disabled:!w,"aria-label":"KTL JSON 데이터 클립보드에 복사",children:"KTL JSON 복사"})]})]})]})})]}):h.jsx("div",{className:"mt-6 p-6 bg-slate-700/50 rounded-lg shadow text-center",children:h.jsx("p",{className:"text-slate-400",children:E?"위 '새 작업 추가'를 통해 작업을 시작하세요.":"위의 '텍스트 추출' 버튼을 눌러 이미지 분석을 시작하세요."})})},Ox=({results:t})=>{if(!t)return null;const e=n=>n===null||isNaN(n)?"N/A":n.toFixed(3),A=(n,r)=>{const s=r?"text-sky-400":"text-slate-500";let i;return r?i=`${e(r.diff)} (최소: ${e(r.min)}, 최대: ${e(r.max)})`:i="N/A",h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:"text-slate-300",children:[n,":"]}),h.jsx("span",{className:`font-medium ${s} text-right`,children:i})]})};return h.jsxs("div",{className:"mt-6 p-4 bg-slate-700/40 rounded-lg border border-slate-600/50 shadow-sm",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-3 border-b border-slate-600 pb-2",children:"농도 범위별 값 차이 분석 (Value Difference Analysis by Concentration Range)"}),h.jsxs("div",{className:"space-y-2 text-sm",children:[A("저농도 범위 최대-최소 차이",t.low),A("중간농도 범위 최대-최소 차이",t.medium),A("고농도 범위 최대-최소 차이",t.high)]}),h.jsx("p",{className:"mt-3 text-xs text-slate-500",children:'"N/A"는 해당 농도 범위(자동으로 결정됨)에 데이터가 2개 미만이거나, 전체 데이터가 3개 미만으로 의미있는 그룹핑이 어려움을 의미합니다.'})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Vx,Gx;function $x(){return{geminiUrl:Vx,vertexUrl:Gx}}function Jx(t,e,A,n){var r,s;if(!(t!=null&&t.baseUrl)){const i=$x();return e?(r=i.vertexUrl)!==null&&r!==void 0?r:A:(s=i.geminiUrl)!==null&&s!==void 0?s:n}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr{}function Te(t,e){const A=/\{([^}]+)\}/g;return t.replace(A,(n,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const s=e[r];return s!=null?String(s):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function l(t,e,A){for(let s=0;s<e.length-1;s++){const i=e[s];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in t))if(Array.isArray(A))t[o]=Array.from({length:A.length},()=>({}));else throw new Error(`Value must be a list given an array path ${i}`);if(Array.isArray(t[o])){const u=t[o];if(Array.isArray(A))for(let c=0;c<u.length;c++){const f=u[c];l(f,e.slice(s+1),A[c])}else for(const c of u)l(c,e.slice(s+1),A)}return}else if(i.endsWith("[0]")){const o=i.slice(0,-3);o in t||(t[o]=[{}]);const u=t[o];l(u[0],e.slice(s+1),A);return}(!t[i]||typeof t[i]!="object")&&(t[i]={}),t=t[i]}const n=e[e.length-1],r=t[n];if(r!==void 0){if(!A||typeof A=="object"&&Object.keys(A).length===0||A===r)return;if(typeof r=="object"&&typeof A=="object"&&r!==null&&A!==null)Object.assign(r,A);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else t[n]=A}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let A=0;A<e.length;A++){if(typeof t!="object"||t===null)return;const n=e[A];if(n.endsWith("[]")){const r=n.slice(0,-2);if(r in t){const s=t[r];return Array.isArray(s)?s.map(i=>a(i,e.slice(A+1))):void 0}else return}else t=t[n]}return t}catch(A){if(A instanceof TypeError)return;throw A}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yc(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rp||(Rp={}));var Pp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Pp||(Pp={}));var Ie;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ie||(Ie={}));var Hp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Hp||(Hp={}));var Kp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Kp||(Kp={}));var Op;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Op||(Op={}));var Vp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Vp||(Vp={}));var Gp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Gp||(Gp={}));var $p;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})($p||($p={}));var Jp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Jp||(Jp={}));var zp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(zp||(zp={}));var Wp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Wp||(Wp={}));var Yp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Yp||(Yp={}));var qp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(qp||(qp={}));var Xp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xp||(Xp={}));var xa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(xa||(xa={}));var Zp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Zp||(Zp={}));var xc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xc||(xc={}));var jp;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(jp||(jp={}));var eh;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(eh||(eh={}));var th;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(th||(th={}));var Ah;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ah||(Ah={}));var nh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nh||(nh={}));var rh;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(rh||(rh={}));var sh;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(sh||(sh={}));var ih;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(ih||(ih={}));var oh;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(oh||(oh={}));var ah;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ah||(ah={}));var lh;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lh||(lh={}));var uh;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(uh||(uh={}));var ch;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ch||(ch={}));var fh;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(fh||(fh={}));var dh;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(dh||(dh={}));var ph;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ph||(ph={}));var hh;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(hh||(hh={}));var mh;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mh||(mh={}));var gh;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gh||(gh={}));var Bh;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Bh||(Bh={}));var wh;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(wh||(wh={}));var Ch;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ch||(Ch={}));var vh;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vh||(vh={}));var yh;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(yh||(yh={}));var xh;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(xh||(xh={}));var Sr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Sr||(Sr={}));class Ec{constructor(e){const A={};for(const n of e.headers.entries())A[n[0]]=n[1];this.headers=A,this.responseInternal=e}json(){return this.responseInternal.json()}}class ws{get text(){var e,A,n,r,s,i,o,u;if(((r=(n=(A=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||A===void 0?void 0:A.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const d=[];for(const p of(u=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[g,B]of Object.entries(p))g!=="text"&&g!=="thought"&&(B!==null||B!==void 0)&&d.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,c+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var e,A,n,r,s,i,o,u;if(((r=(n=(A=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||A===void 0?void 0:A.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const d of(u=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)!==null&&u!==void 0?u:[]){for(const[p,g]of Object.entries(d))p!=="inlineData"&&(g!==null||g!==void 0)&&f.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(c+=atob(d.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var e,A,n,r,s,i,o,u;if(((r=(n=(A=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||A===void 0?void 0:A.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(u=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var e,A,n,r,s,i,o,u,c;if(((r=(n=(A=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||A===void 0?void 0:A.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(u=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(d=>d.executableCode).map(d=>d.executableCode).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var e,A,n,r,s,i,o,u,c;if(((r=(n=(A=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||A===void 0?void 0:A.content)===null||n===void 0?void 0:n.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(u=(o=(i=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||u===void 0?void 0:u.filter(d=>d.codeExecutionResult).map(d=>d.codeExecutionResult).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class Eh{}class Th{}class zx{}class Wx{}class Yx{}class Uh{}class Fh{}class Sh{}class qx{}class Ih{}class Qh{}class _h{}class Nh{}class Xx{}class Zx{}class jx{}class kh{}class eE{get text(){var e,A,n;let r="",s=!1;const i=[];for(const o of(n=(A=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||A===void 0?void 0:A.parts)!==null&&n!==void 0?n:[]){for(const[u,c]of Object.entries(o))u!=="text"&&u!=="thought"&&c!==null&&i.push(u);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;s=!0,r+=o.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?r:void 0}get data(){var e,A,n;let r="";const s=[];for(const i of(n=(A=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||A===void 0?void 0:A.parts)!==null&&n!==void 0?n:[]){for(const[o,u]of Object.entries(i))o!=="inlineData"&&u!==null&&s.push(o);i.inlineData&&typeof i.inlineData.data=="string"&&(r+=atob(i.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Ea{_fromAPIResponse({apiResponse:e,isVertexAI:A}){const n=new Ea;if(n.name=e.name,n.metadata=e.metadata,n.done=e.done,n.error=e.error,A){const r=e.response;if(r){const s=new Ih,i=r.videos;s.generatedVideos=i==null?void 0:i.map(o=>({video:{uri:o.gcsUri,videoBytes:o.bytesBase64Encoded?yc(o.bytesBase64Encoded):void 0,mimeType:o.mimeType}})),s.raiMediaFilteredCount=r.raiMediaFilteredCount,s.raiMediaFilteredReasons=r.raiMediaFilteredReasons,n.response=s}}else{const r=e.response;if(r){const s=new Ih,i=r.generateVideoResponse,o=i==null?void 0:i.generatedSamples;s.generatedVideos=o==null?void 0:o.map(u=>{const c=u.video;return{video:{uri:c==null?void 0:c.uri,videoBytes:c!=null&&c.encodedVideo?yc(c==null?void 0:c.encodedVideo):void 0,mimeType:u.encoding}}}),s.raiMediaFilteredCount=i==null?void 0:i.raiMediaFilteredCount,s.raiMediaFilteredReasons=i==null?void 0:i.raiMediaFilteredReasons,n.response=s}}return n}}class tE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const A=e.split("/",2);return`publishers/${A[0]}/models/${A[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bB(t,e){const A=Ge(t,e);return A?A.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${A}`:A.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${A}`:A:""}function DB(t){return Array.isArray(t)?t.map(e=>Ta(e)):[Ta(t)]}function Ta(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function MB(t){const e=Ta(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function LB(t){const e=Ta(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function bh(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function RB(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>bh(e)):[bh(t)]}function Tc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Dh(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Mh(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Qt(t){if(t==null)throw new Error("ContentUnion is required");return Tc(t)?t:{role:"user",parts:RB(t)}}function PB(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(A=>{const n=Qt(A);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(t.isVertexAI()){const A=Qt(e);return A.parts&&A.parts.length>0&&A.parts[0].text!==void 0?[A.parts[0].text]:[]}return Array.isArray(e)?e.map(A=>Qt(A)):[Qt(e)]}function cA(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Dh(t)||Mh(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Qt(t)]}const e=[],A=[],n=Tc(t[0]);for(const r of t){const s=Tc(r);if(s!=n)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(r);else{if(Dh(r)||Mh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");A.push(r)}}return n||e.push({role:"user",parts:RB(A)}),e}function AE(t,e){t.includes("null")&&(e.nullable=!0);const A=t.filter(n=>n!=="null");if(A.length===1)e.type=Object.values(Ie).includes(A[0].toUpperCase())?A[0].toUpperCase():Ie.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of A)e.anyOf.push({type:Object.values(Ie).includes(n.toUpperCase())?n.toUpperCase():Ie.TYPE_UNSPECIFIED})}}function Rr(t){const e={},A=["items"],n=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=t.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,t=s[1]):s[1].type==="null"&&(e.nullable=!0,t=s[0])),t.type instanceof Array&&AE(t.type,e);for(const[i,o]of Object.entries(t))if(o!=null)if(i=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Ie).includes(o.toUpperCase())?o.toUpperCase():Ie.TYPE_UNSPECIFIED}else if(A.includes(i))e[i]=Rr(o);else if(n.includes(i)){const u=[];for(const c of o){if(c.type=="null"){e.nullable=!0;continue}u.push(Rr(c))}e[i]=u}else if(r.includes(i)){const u={};for(const[c,f]of Object.entries(o))u[c]=Rr(f);e[i]=u}else{if(i==="additionalProperties")continue;e[i]=o}return e}function od(t){return Rr(t)}function ad(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function ld(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ns(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Rr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Rr(e.response));return t}function rs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const A of t)e.push(A);return e}function nE(t,e,A,n=1){const r=!e.startsWith(`${A}/`)&&e.split("/").length===n;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${A}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${A}/${e}`:e:r?`${A}/${e}`:e}function en(t,e){if(typeof e!="string")throw new Error("name must be a string");return nE(t,e,"cachedContents")}function HB(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function sr(t){return yc(t)}function rE(t){return t!=null&&typeof t=="object"&&"name"in t}function sE(t){return t!=null&&typeof t=="object"&&"video"in t}function iE(t){return t!=null&&typeof t=="object"&&"uri"in t}function KB(t){var e;let A;if(rE(t)&&(A=t.name),!(iE(t)&&(A=t.uri,A===void 0))&&!(sE(t)&&(A=(e=t.video)===null||e===void 0?void 0:e.uri,A===void 0))){if(typeof t=="string"&&(A=t),A===void 0)throw new Error("Could not extract file name from the provided input.");if(A.startsWith("https://")){const r=A.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${A}`);A=r[0]}else A.startsWith("files/")&&(A=A.split("files/")[1]);return A}}function OB(t,e){let A;return t.isVertexAI()?A=e?"publishers/google/models":"models":A=e?"models":"tunedModels",A}function VB(t){for(const e of["models","tunedModels","publisherModels"])if(oE(t,e))return t[e];return[]}function oE(t,e){return t!==null&&typeof t=="object"&&e in t}function aE(t,e={}){const A=t,n={name:A.name,description:A.description,parametersJsonSchema:A.inputSchema};return e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function lE(t,e={}){const A=[],n=new Set;for(const r of t){const s=r.name;if(n.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);n.add(s);const i=aE(r,e);i.functionDeclarations&&A.push(...i.functionDeclarations)}return{functionDeclarations:A}}function GB(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function uE(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function ss(t,e){const A=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(A))return A.split("/").pop();throw new Error(`Invalid batch job name: ${A}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(A))return A.split("/").pop();if(/^\d+$/.test(A))return A;throw new Error(`Invalid batch job name: ${A}.`)}function $B(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cE(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function fE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function dE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function pE(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],cE(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],fE(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],dE(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function JB(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>pE(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function hE(t){const e={},A=a(t,["anyOf"]);A!=null&&l(e,["anyOf"],A);const n=a(t,["default"]);n!=null&&l(e,["default"],n);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const i=a(t,["example"]);i!=null&&l(e,["example"],i);const o=a(t,["format"]);o!=null&&l(e,["format"],o);const u=a(t,["items"]);u!=null&&l(e,["items"],u);const c=a(t,["maxItems"]);c!=null&&l(e,["maxItems"],c);const f=a(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);const d=a(t,["maxProperties"]);d!=null&&l(e,["maxProperties"],d);const p=a(t,["maximum"]);p!=null&&l(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&l(e,["minItems"],g);const B=a(t,["minLength"]);B!=null&&l(e,["minLength"],B);const m=a(t,["minProperties"]);m!=null&&l(e,["minProperties"],m);const x=a(t,["minimum"]);x!=null&&l(e,["minimum"],x);const C=a(t,["nullable"]);C!=null&&l(e,["nullable"],C);const w=a(t,["pattern"]);w!=null&&l(e,["pattern"],w);const y=a(t,["properties"]);y!=null&&l(e,["properties"],y);const E=a(t,["propertyOrdering"]);E!=null&&l(e,["propertyOrdering"],E);const U=a(t,["required"]);U!=null&&l(e,["required"],U);const T=a(t,["title"]);T!=null&&l(e,["title"],T);const Q=a(t,["type"]);return Q!=null&&l(e,["type"],Q),e}function mE(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=a(t,["category"]);A!=null&&l(e,["category"],A);const n=a(t,["threshold"]);return n!=null&&l(e,["threshold"],n),e}function gE(t){const e={},A=a(t,["behavior"]);A!=null&&l(e,["behavior"],A);const n=a(t,["description"]);n!=null&&l(e,["description"],n);const r=a(t,["name"]);r!=null&&l(e,["name"],r);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);const o=a(t,["response"]);o!=null&&l(e,["response"],o);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function BE(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function wE(t){const e={},A=a(t,["timeRangeFilter"]);if(A!=null&&l(e,["timeRangeFilter"],BE(A)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CE(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function vE(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],CE(A)),e}function yE(){return{}}function xE(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function EE(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let u=A;Array.isArray(u)&&(u=u.map(c=>gE(c))),l(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(t,["googleSearch"]);n!=null&&l(e,["googleSearch"],wE(n));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],vE(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],yE());const i=a(t,["computerUse"]);i!=null&&l(e,["computerUse"],xE(i));const o=a(t,["codeExecution"]);return o!=null&&l(e,["codeExecution"],o),e}function TE(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["allowedFunctionNames"]);return n!=null&&l(e,["allowedFunctionNames"],n),e}function UE(t){const e={},A=a(t,["latitude"]);A!=null&&l(e,["latitude"],A);const n=a(t,["longitude"]);return n!=null&&l(e,["longitude"],n),e}function FE(t){const e={},A=a(t,["latLng"]);A!=null&&l(e,["latLng"],UE(A));const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function SE(t){const e={},A=a(t,["functionCallingConfig"]);A!=null&&l(e,["functionCallingConfig"],TE(A));const n=a(t,["retrievalConfig"]);return n!=null&&l(e,["retrievalConfig"],FE(n)),e}function IE(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function zB(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],IE(A)),e}function QE(t){const e={},A=a(t,["speaker"]);A!=null&&l(e,["speaker"],A);const n=a(t,["voiceConfig"]);return n!=null&&l(e,["voiceConfig"],zB(n)),e}function _E(t){const e={},A=a(t,["speakerVoiceConfigs"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>QE(r))),l(e,["speakerVoiceConfigs"],n)}return e}function NE(t){const e={},A=a(t,["voiceConfig"]);A!=null&&l(e,["voiceConfig"],zB(A));const n=a(t,["multiSpeakerVoiceConfig"]);n!=null&&l(e,["multiSpeakerVoiceConfig"],_E(n));const r=a(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function kE(t){const e={},A=a(t,["includeThoughts"]);A!=null&&l(e,["includeThoughts"],A);const n=a(t,["thinkingBudget"]);return n!=null&&l(e,["thinkingBudget"],n),e}function bE(t,e,A){const n={},r=a(e,["systemInstruction"]);A!==void 0&&r!=null&&l(A,["systemInstruction"],JB(Qt(r)));const s=a(e,["temperature"]);s!=null&&l(n,["temperature"],s);const i=a(e,["topP"]);i!=null&&l(n,["topP"],i);const o=a(e,["topK"]);o!=null&&l(n,["topK"],o);const u=a(e,["candidateCount"]);u!=null&&l(n,["candidateCount"],u);const c=a(e,["maxOutputTokens"]);c!=null&&l(n,["maxOutputTokens"],c);const f=a(e,["stopSequences"]);f!=null&&l(n,["stopSequences"],f);const d=a(e,["responseLogprobs"]);d!=null&&l(n,["responseLogprobs"],d);const p=a(e,["logprobs"]);p!=null&&l(n,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&l(n,["presencePenalty"],g);const B=a(e,["frequencyPenalty"]);B!=null&&l(n,["frequencyPenalty"],B);const m=a(e,["seed"]);m!=null&&l(n,["seed"],m);const x=a(e,["responseMimeType"]);x!=null&&l(n,["responseMimeType"],x);const C=a(e,["responseSchema"]);C!=null&&l(n,["responseSchema"],hE(od(C)));const w=a(e,["responseJsonSchema"]);if(w!=null&&l(n,["responseJsonSchema"],w),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=a(e,["safetySettings"]);if(A!==void 0&&y!=null){let j=y;Array.isArray(j)&&(j=j.map(_=>mE(_))),l(A,["safetySettings"],j)}const E=a(e,["tools"]);if(A!==void 0&&E!=null){let j=rs(E);Array.isArray(j)&&(j=j.map(_=>EE(ns(_)))),l(A,["tools"],j)}const U=a(e,["toolConfig"]);if(A!==void 0&&U!=null&&l(A,["toolConfig"],SE(U)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=a(e,["cachedContent"]);A!==void 0&&T!=null&&l(A,["cachedContent"],en(t,T));const Q=a(e,["responseModalities"]);Q!=null&&l(n,["responseModalities"],Q);const M=a(e,["mediaResolution"]);M!=null&&l(n,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&l(n,["speechConfig"],NE(ad(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=a(e,["thinkingConfig"]);return R!=null&&l(n,["thinkingConfig"],kE(R)),n}function DE(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["request","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>JB(o))),l(A,["request","contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["request","generationConfig"],bE(t,s,A)),A}function ME(t,e){const A={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const n=a(e,["fileName"]);n!=null&&l(A,["fileName"],n);const r=a(e,["inlinedRequests"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>DE(t,i))),l(A,["requests","requests"],s)}return A}function LE(t,e){const A={},n=a(t,["displayName"]);if(e!==void 0&&n!=null&&l(e,["batch","displayName"],n),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return A}function RE(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["src"]);r!=null&&l(A,["batch","inputConfig"],ME(t,GB(t,r)));const s=a(e,["config"]);return s!=null&&l(A,["config"],LE(s,A)),A}function PE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function HE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function KE(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);if(e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return A}function OE(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],KE(A,e)),e}function VE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function GE(t){const e={},A=a(t,["format"]);A!=null&&l(e,["instancesFormat"],A);const n=a(t,["gcsUri"]);n!=null&&l(e,["gcsSource","uris"],n);const r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigquerySource","inputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function $E(t){const e={},A=a(t,["format"]);A!=null&&l(e,["predictionsFormat"],A);const n=a(t,["gcsUri"]);n!=null&&l(e,["gcsDestination","outputUriPrefix"],n);const r=a(t,["bigqueryUri"]);if(r!=null&&l(e,["bigqueryDestination","outputUri"],r),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function JE(t,e){const A={},n=a(t,["displayName"]);e!==void 0&&n!=null&&l(e,["displayName"],n);const r=a(t,["dest"]);return e!==void 0&&r!=null&&l(e,["outputConfig"],$E(uE(r))),A}function zE(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["model"],Ge(t,n));const r=a(e,["src"]);r!=null&&l(A,["inputConfig"],GE(GB(t,r)));const s=a(e,["config"]);return s!=null&&l(A,["config"],JE(s,A)),A}function WE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function YE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function qE(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),A}function XE(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],qE(A,e)),e}function ZE(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],ss(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function jE(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function eT(t){const e={},A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function tT(t){const e={},A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function AT(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],jE(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],eT(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],tT(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function nT(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>AT(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function rT(t){const e={},A=a(t,["citationSources"]);return A!=null&&l(e,["citations"],A),e}function sT(t){const e={},A=a(t,["retrievedUrl"]);A!=null&&l(e,["retrievedUrl"],A);const n=a(t,["urlRetrievalStatus"]);return n!=null&&l(e,["urlRetrievalStatus"],n),e}function iT(t){const e={},A=a(t,["urlMetadata"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>sT(r))),l(e,["urlMetadata"],n)}return e}function oT(t){const e={},A=a(t,["content"]);A!=null&&l(e,["content"],nT(A));const n=a(t,["citationMetadata"]);n!=null&&l(e,["citationMetadata"],rT(n));const r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const i=a(t,["urlContextMetadata"]);i!=null&&l(e,["urlContextMetadata"],iT(i));const o=a(t,["avgLogprobs"]);o!=null&&l(e,["avgLogprobs"],o);const u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);const c=a(t,["index"]);c!=null&&l(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);return d!=null&&l(e,["safetyRatings"],d),e}function aT(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>oT(c))),l(e,["candidates"],u)}const r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);const s=a(t,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);const i=a(t,["responseId"]);i!=null&&l(e,["responseId"],i);const o=a(t,["usageMetadata"]);return o!=null&&l(e,["usageMetadata"],o),e}function WB(t){const e={},A=a(t,["details"]);A!=null&&l(e,["details"],A);const n=a(t,["code"]);n!=null&&l(e,["code"],n);const r=a(t,["message"]);return r!=null&&l(e,["message"],r),e}function lT(t){const e={},A=a(t,["response"]);A!=null&&l(e,["response"],aT(A));const n=a(t,["error"]);return n!=null&&l(e,["error"],WB(n)),e}function uT(t){const e={},A=a(t,["responsesFile"]);A!=null&&l(e,["fileName"],A);const n=a(t,["inlinedResponses","inlinedResponses"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>lT(s))),l(e,["inlinedResponses"],r)}return e}function Uc(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["metadata","displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["metadata","state"]);r!=null&&l(e,["state"],$B(r));const s=a(t,["metadata","createTime"]);s!=null&&l(e,["createTime"],s);const i=a(t,["metadata","endTime"]);i!=null&&l(e,["endTime"],i);const o=a(t,["metadata","updateTime"]);o!=null&&l(e,["updateTime"],o);const u=a(t,["metadata","model"]);u!=null&&l(e,["model"],u);const c=a(t,["metadata","output"]);return c!=null&&l(e,["dest"],uT(c)),e}function cT(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["operations"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Uc(i))),l(e,["batchJobs"],s)}return e}function fT(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const s=a(t,["error"]);return s!=null&&l(e,["error"],WB(s)),e}function YB(t){const e={},A=a(t,["details"]);A!=null&&l(e,["details"],A);const n=a(t,["code"]);n!=null&&l(e,["code"],n);const r=a(t,["message"]);return r!=null&&l(e,["message"],r),e}function dT(t){const e={},A=a(t,["instancesFormat"]);A!=null&&l(e,["format"],A);const n=a(t,["gcsSource","uris"]);n!=null&&l(e,["gcsUri"],n);const r=a(t,["bigquerySource","inputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function pT(t){const e={},A=a(t,["predictionsFormat"]);A!=null&&l(e,["format"],A);const n=a(t,["gcsDestination","outputUriPrefix"]);n!=null&&l(e,["gcsUri"],n);const r=a(t,["bigqueryDestination","outputUri"]);return r!=null&&l(e,["bigqueryUri"],r),e}function Fc(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["state"]);r!=null&&l(e,["state"],$B(r));const s=a(t,["error"]);s!=null&&l(e,["error"],YB(s));const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["startTime"]);o!=null&&l(e,["startTime"],o);const u=a(t,["endTime"]);u!=null&&l(e,["endTime"],u);const c=a(t,["updateTime"]);c!=null&&l(e,["updateTime"],c);const f=a(t,["model"]);f!=null&&l(e,["model"],f);const d=a(t,["inputConfig"]);d!=null&&l(e,["src"],dT(d));const p=a(t,["outputConfig"]);return p!=null&&l(e,["dest"],pT(p)),e}function hT(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["batchPredictionJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Fc(i))),l(e,["batchJobs"],s)}return e}function mT(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const s=a(t,["error"]);return s!=null&&l(e,["error"],YB(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var er;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(er||(er={}));class Qi{constructor(e,A,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=A,this.init(e,n,r)}init(e,A,n){var r,s;this.nameInternal=e,this.pageInternal=A[this.nameInternal]||[],this.sdkHttpResponseInternal=A==null?void 0:A.sdkHttpResponse,this.idxInternal=0;let i={config:{}};!n||Object.keys(n).length===0?i={config:{}}:typeof n=="object"?i=Object.assign({},n):i=n,i.config&&(i.config.pageToken=A.nextPageToken),this.paramsInternal=i,this.pageInternalSize=(s=(r=i.config)===null||r===void 0?void 0:r.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends rr{constructor(e){super(),this.apiClient=e,this.create=async A=>{if(this.apiClient.isVertexAI()){const r=Date.now().toString();if(Array.isArray(A.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(A.config=A.config||{},A.config.displayName===void 0&&(A.config.displayName="genaiBatchJob_${timestampStr}"),A.config.dest===void 0&&typeof A.src=="string")if(A.src.startsWith("gs://")&&A.src.endsWith(".jsonl"))A.config.dest=`${A.src.slice(0,-6)}/dest`;else if(A.src.startsWith("bq://"))A.config.dest=`${A.src}_dest_${r}`;else throw new Error("Unsupported source:"+A.src)}return await this.createInternal(A)},this.list=async(A={})=>new Qi(er.PAGED_ITEM_BATCH_JOBS,n=>this.listInternal(n),await this.listInternal(A),A)}async createInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=zE(this.apiClient,e);return o=Te("batchPredictionJobs",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>Fc(f))}else{const c=RE(this.apiClient,e);return o=Te("{model}:batchGenerateContent",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Uc(f))}}async get(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=WE(this.apiClient,e);return o=Te("batchPredictionJobs/{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>Fc(f))}else{const c=PE(this.apiClient,e);return o=Te("batches/{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Uc(f))}}async cancel(e){var A,n,r,s;let i="",o={};if(this.apiClient.isVertexAI()){const u=YE(this.apiClient,e);i=Te("batchPredictionJobs/{name}:cancel",u._url),o=u._query,delete u.config,delete u._url,delete u._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal})}else{const u=HE(this.apiClient,e);i=Te("batches/{name}:cancel",u._url),o=u._query,delete u.config,delete u._url,delete u._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=XE(e);return o=Te("batchPredictionJobs",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=hT(f),p=new kh;return Object.assign(p,d),p})}else{const c=OE(e);return o=Te("batches",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=cT(f),p=new kh;return Object.assign(p,d),p})}}async delete(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=ZE(this.apiClient,e);return o=Te("batchPredictionJobs/{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>mT(f))}else{const c=VE(this.apiClient,e);return o=Te("batches/{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>fT(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BT(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function wT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function CT(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function vT(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],BT(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],wT(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],CT(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function Lh(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>vT(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function yT(t){const e={},A=a(t,["behavior"]);A!=null&&l(e,["behavior"],A);const n=a(t,["description"]);n!=null&&l(e,["description"],n);const r=a(t,["name"]);r!=null&&l(e,["name"],r);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);const o=a(t,["response"]);o!=null&&l(e,["response"],o);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function xT(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function ET(t){const e={},A=a(t,["timeRangeFilter"]);if(A!=null&&l(e,["timeRangeFilter"],xT(A)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function TT(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function UT(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],TT(A)),e}function FT(){return{}}function ST(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function IT(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let u=A;Array.isArray(u)&&(u=u.map(c=>yT(c))),l(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(t,["googleSearch"]);n!=null&&l(e,["googleSearch"],ET(n));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],UT(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],FT());const i=a(t,["computerUse"]);i!=null&&l(e,["computerUse"],ST(i));const o=a(t,["codeExecution"]);return o!=null&&l(e,["codeExecution"],o),e}function QT(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["allowedFunctionNames"]);return n!=null&&l(e,["allowedFunctionNames"],n),e}function _T(t){const e={},A=a(t,["latitude"]);A!=null&&l(e,["latitude"],A);const n=a(t,["longitude"]);return n!=null&&l(e,["longitude"],n),e}function NT(t){const e={},A=a(t,["latLng"]);A!=null&&l(e,["latLng"],_T(A));const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function kT(t){const e={},A=a(t,["functionCallingConfig"]);A!=null&&l(e,["functionCallingConfig"],QT(A));const n=a(t,["retrievalConfig"]);return n!=null&&l(e,["retrievalConfig"],NT(n)),e}function bT(t,e){const A={},n=a(t,["ttl"]);e!==void 0&&n!=null&&l(e,["ttl"],n);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);const s=a(t,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const i=a(t,["contents"]);if(e!==void 0&&i!=null){let f=cA(i);Array.isArray(f)&&(f=f.map(d=>Lh(d))),l(e,["contents"],f)}const o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],Lh(Qt(o)));const u=a(t,["tools"]);if(e!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(d=>IT(d))),l(e,["tools"],f)}const c=a(t,["toolConfig"]);if(e!==void 0&&c!=null&&l(e,["toolConfig"],kT(c)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return A}function DT(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["model"],bB(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],bT(r,A)),A}function MT(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function LT(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function RT(t,e){const A={},n=a(t,["ttl"]);e!==void 0&&n!=null&&l(e,["ttl"],n);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),A}function PT(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],RT(r,A)),A}function HT(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),A}function KT(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],HT(A,e)),e}function OT(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function VT(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["data"]);n!=null&&l(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function GT(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function $T(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],OT(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],VT(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],GT(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function Rh(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>$T(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function JT(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const A=a(t,["description"]);A!=null&&l(e,["description"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const i=a(t,["response"]);i!=null&&l(e,["response"],i);const o=a(t,["responseJsonSchema"]);return o!=null&&l(e,["responseJsonSchema"],o),e}function zT(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function WT(t){const e={},A=a(t,["timeRangeFilter"]);A!=null&&l(e,["timeRangeFilter"],zT(A));const n=a(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function YT(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function qT(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],YT(A)),e}function XT(t){const e={},A=a(t,["excludeDomains"]);return A!=null&&l(e,["excludeDomains"],A),e}function ZT(t){const e={},A=a(t,["apiKeyString"]);return A!=null&&l(e,["apiKeyString"],A),e}function jT(t){const e={},A=a(t,["apiKeyConfig"]);A!=null&&l(e,["apiKeyConfig"],ZT(A));const n=a(t,["authType"]);n!=null&&l(e,["authType"],n);const r=a(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const i=a(t,["oauthConfig"]);i!=null&&l(e,["oauthConfig"],i);const o=a(t,["oidcConfig"]);return o!=null&&l(e,["oidcConfig"],o),e}function eU(t){const e={},A=a(t,["authConfig"]);return A!=null&&l(e,["authConfig"],jT(A)),e}function tU(){return{}}function AU(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function nU(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let d=A;Array.isArray(d)&&(d=d.map(p=>JT(p))),l(e,["functionDeclarations"],d)}const n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);const r=a(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],WT(r));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],qT(s));const i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],XT(i));const o=a(t,["googleMaps"]);o!=null&&l(e,["googleMaps"],eU(o)),a(t,["urlContext"])!=null&&l(e,["urlContext"],tU());const c=a(t,["computerUse"]);c!=null&&l(e,["computerUse"],AU(c));const f=a(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function rU(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["allowedFunctionNames"]);return n!=null&&l(e,["allowedFunctionNames"],n),e}function sU(t){const e={},A=a(t,["latitude"]);A!=null&&l(e,["latitude"],A);const n=a(t,["longitude"]);return n!=null&&l(e,["longitude"],n),e}function iU(t){const e={},A=a(t,["latLng"]);A!=null&&l(e,["latLng"],sU(A));const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function oU(t){const e={},A=a(t,["functionCallingConfig"]);A!=null&&l(e,["functionCallingConfig"],rU(A));const n=a(t,["retrievalConfig"]);return n!=null&&l(e,["retrievalConfig"],iU(n)),e}function aU(t,e){const A={},n=a(t,["ttl"]);e!==void 0&&n!=null&&l(e,["ttl"],n);const r=a(t,["expireTime"]);e!==void 0&&r!=null&&l(e,["expireTime"],r);const s=a(t,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const i=a(t,["contents"]);if(e!==void 0&&i!=null){let d=cA(i);Array.isArray(d)&&(d=d.map(p=>Rh(p))),l(e,["contents"],d)}const o=a(t,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],Rh(Qt(o)));const u=a(t,["tools"]);if(e!==void 0&&u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>nU(p))),l(e,["tools"],d)}const c=a(t,["toolConfig"]);e!==void 0&&c!=null&&l(e,["toolConfig"],oU(c));const f=a(t,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),A}function lU(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["model"],bB(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],aU(r,A)),A}function uU(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function cU(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function fU(t,e){const A={},n=a(t,["ttl"]);e!==void 0&&n!=null&&l(e,["ttl"],n);const r=a(t,["expireTime"]);return e!==void 0&&r!=null&&l(e,["expireTime"],r),A}function dU(t,e){const A={},n=a(e,["name"]);n!=null&&l(A,["_url","name"],en(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],fU(r,A)),A}function pU(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),A}function hU(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],pU(A,e)),e}function Go(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["model"]);r!=null&&l(e,["model"],r);const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const i=a(t,["updateTime"]);i!=null&&l(e,["updateTime"],i);const o=a(t,["expireTime"]);o!=null&&l(e,["expireTime"],o);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function mU(){return{}}function gU(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Go(i))),l(e,["cachedContents"],s)}return e}function $o(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["model"]);r!=null&&l(e,["model"],r);const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const i=a(t,["updateTime"]);i!=null&&l(e,["updateTime"],i);const o=a(t,["expireTime"]);o!=null&&l(e,["expireTime"],o);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function BU(){return{}}function wU(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["cachedContents"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>$o(i))),l(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CU extends rr{constructor(e){super(),this.apiClient=e,this.list=async(A={})=>new Qi(er.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(A),A)}async create(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=lU(this.apiClient,e);return o=Te("cachedContents",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>$o(f))}else{const c=DT(this.apiClient,e);return o=Te("cachedContents",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Go(f))}}async get(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=uU(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>$o(f))}else{const c=MT(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Go(f))}}async delete(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=cU(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(()=>{const f=BU(),d=new _h;return Object.assign(d,f),d})}else{const c=LT(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(()=>{const f=mU(),d=new _h;return Object.assign(d,f),d})}}async update(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=dU(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>$o(f))}else{const c=PT(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Go(f))}}async listInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=hU(e);return o=Te("cachedContents",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=wU(f),p=new Nh;return Object.assign(p,d),p})}else{const c=KT(e);return o=Te("cachedContents",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=gU(f),p=new Nh;return Object.assign(p,d),p})}}}function Ph(t){var e=typeof Symbol=="function"&&Symbol.iterator,A=e&&t[e],n=0;if(A)return A.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(t){return this instanceof Ze?(this.v=t,this):new Ze(t)}function Pr(t,e,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=A.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(g){return function(B){return Promise.resolve(B).then(g,d)}}function o(g,B){n[g]&&(r[g]=function(m){return new Promise(function(x,C){s.push([g,m,x,C])>1||u(g,m)})},B&&(r[g]=B(r[g])))}function u(g,B){try{c(n[g](B))}catch(m){p(s[0][3],m)}}function c(g){g.value instanceof Ze?Promise.resolve(g.value.v).then(f,d):p(s[0][2],g)}function f(g){u("next",g)}function d(g){u("throw",g)}function p(g,B){g(B),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Js(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],A;return e?e.call(t):(t=typeof Ph=="function"?Ph(t):t[Symbol.iterator](),A={},n("next"),n("throw"),n("return"),A[Symbol.asyncIterator]=function(){return this},A);function n(s){A[s]=t[s]&&function(i){return new Promise(function(o,u){i=t[s](i),r(o,u,i.done,i.value)})}}function r(s,i,o,u){Promise.resolve(u).then(function(c){s({value:c,done:o})},i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vU(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const A=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return A===void 0?!1:qB(A)}function qB(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function yU(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hh(t){if(t===void 0||t.length===0)return[];const e=[],A=t.length;let n=0;for(;n<A;)if(t[n].role==="user")e.push(t[n]),n++;else{const r=[];let s=!0;for(;n<A&&t[n].role==="model";)r.push(t[n]),s&&!qB(t[n])&&(s=!1),n++;s?e.push(...r):e.pop()}return e}class xU{constructor(e,A){this.modelsModule=e,this.apiClient=A}create(e){return new EU(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EU{constructor(e,A,n,r={},s=[]){this.apiClient=e,this.modelsModule=A,this.model=n,this.config=r,this.history=s,this.sendPromise=Promise.resolve(),yU(s)}async sendMessage(e){var A;await this.sendPromise;const n=Qt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(A=e.config)!==null&&A!==void 0?A:this.config});return this.sendPromise=(async()=>{var s,i,o;const u=await r,c=(i=(s=u.candidates)===null||s===void 0?void 0:s[0])===null||i===void 0?void 0:i.content,f=u.automaticFunctionCallingHistory,d=this.getHistory(!0).length;let p=[];f!=null&&(p=(o=f.slice(d))!==null&&o!==void 0?o:[]);const g=c?[c]:[];this.recordHistory(n,g,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var A;await this.sendPromise;const n=Qt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(A=e.config)!==null&&A!==void 0?A:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const s=await r;return this.processStreamResponse(s,n)}getHistory(e=!1){const A=e?Hh(this.history):this.history;return structuredClone(A)}processStreamResponse(e,A){var n,r;return Pr(this,arguments,function*(){var i,o,u,c;const f=[];try{for(var d=!0,p=Js(e),g;g=yield Ze(p.next()),i=g.done,!i;d=!0){c=g.value,d=!1;const B=c;if(vU(B)){const m=(r=(n=B.candidates)===null||n===void 0?void 0:n[0])===null||r===void 0?void 0:r.content;m!==void 0&&f.push(m)}yield yield Ze(B)}}catch(B){o={error:B}}finally{try{!d&&!i&&(u=p.return)&&(yield Ze(u.call(p)))}finally{if(o)throw o.error}}this.recordHistory(A,f)})}recordHistory(e,A,n){let r=[];A.length>0&&A.every(s=>s.role!==void 0)?r=A:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...Hh(n)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,rl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TU(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);return e!==void 0&&r!=null&&l(e,["_query","pageToken"],r),A}function UU(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],TU(A,e)),e}function FU(t){const e={},A=a(t,["details"]);A!=null&&l(e,["details"],A);const n=a(t,["message"]);n!=null&&l(e,["message"],n);const r=a(t,["code"]);return r!=null&&l(e,["code"],r),e}function SU(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["mimeType"]);r!=null&&l(e,["mimeType"],r);const s=a(t,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["expirationTime"]);o!=null&&l(e,["expirationTime"],o);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["sha256Hash"]);c!=null&&l(e,["sha256Hash"],c);const f=a(t,["uri"]);f!=null&&l(e,["uri"],f);const d=a(t,["downloadUri"]);d!=null&&l(e,["downloadUri"],d);const p=a(t,["state"]);p!=null&&l(e,["state"],p);const g=a(t,["source"]);g!=null&&l(e,["source"],g);const B=a(t,["videoMetadata"]);B!=null&&l(e,["videoMetadata"],B);const m=a(t,["error"]);return m!=null&&l(e,["error"],FU(m)),e}function IU(t){const e={},A=a(t,["file"]);A!=null&&l(e,["file"],SU(A));const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function QU(t){const e={},A=a(t,["name"]);A!=null&&l(e,["_url","file"],KB(A));const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function _U(t){const e={},A=a(t,["name"]);A!=null&&l(e,["_url","file"],KB(A));const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function NU(t){const e={},A=a(t,["details"]);A!=null&&l(e,["details"],A);const n=a(t,["message"]);n!=null&&l(e,["message"],n);const r=a(t,["code"]);return r!=null&&l(e,["code"],r),e}function Sc(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["mimeType"]);r!=null&&l(e,["mimeType"],r);const s=a(t,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const i=a(t,["createTime"]);i!=null&&l(e,["createTime"],i);const o=a(t,["expirationTime"]);o!=null&&l(e,["expirationTime"],o);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["sha256Hash"]);c!=null&&l(e,["sha256Hash"],c);const f=a(t,["uri"]);f!=null&&l(e,["uri"],f);const d=a(t,["downloadUri"]);d!=null&&l(e,["downloadUri"],d);const p=a(t,["state"]);p!=null&&l(e,["state"],p);const g=a(t,["source"]);g!=null&&l(e,["source"],g);const B=a(t,["videoMetadata"]);B!=null&&l(e,["videoMetadata"],B);const m=a(t,["error"]);return m!=null&&l(e,["error"],NU(m)),e}function kU(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["files"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>Sc(i))),l(e,["files"],s)}return e}function bU(t){const e={},A=a(t,["sdkHttpResponse"]);return A!=null&&l(e,["sdkHttpResponse"],A),e}function DU(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MU extends rr{constructor(e){super(),this.apiClient=e,this.list=async(A={})=>new Qi(er.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(A),A)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(A=>Sc(A))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=UU(e);return s=Te("files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{const c=kU(u),f=new Xx;return Object.assign(f,c),f})}}async createInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=IU(e);return s=Te("upload/v1beta/files",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r.then(u=>{const c=bU(u),f=new Zx;return Object.assign(f,c),f})}}async get(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=QU(e);return s=Te("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r.then(u=>Sc(u))}}async delete(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_U(e);return s=Te("files/{file}",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r.then(()=>{const u=DU(),c=new jx;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function LU(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function XB(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],LU(A)),e}function RU(t){const e={},A=a(t,["speaker"]);A!=null&&l(e,["speaker"],A);const n=a(t,["voiceConfig"]);return n!=null&&l(e,["voiceConfig"],XB(n)),e}function PU(t){const e={},A=a(t,["speakerVoiceConfigs"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>RU(r))),l(e,["speakerVoiceConfigs"],n)}return e}function HU(t){const e={},A=a(t,["voiceConfig"]);A!=null&&l(e,["voiceConfig"],XB(A));const n=a(t,["multiSpeakerVoiceConfig"]);n!=null&&l(e,["multiSpeakerVoiceConfig"],PU(n));const r=a(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function KU(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function OU(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function VU(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function GU(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],KU(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],OU(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],VU(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function $U(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>GU(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function JU(t){const e={},A=a(t,["behavior"]);A!=null&&l(e,["behavior"],A);const n=a(t,["description"]);n!=null&&l(e,["description"],n);const r=a(t,["name"]);r!=null&&l(e,["name"],r);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);const o=a(t,["response"]);o!=null&&l(e,["response"],o);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function zU(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function WU(t){const e={},A=a(t,["timeRangeFilter"]);if(A!=null&&l(e,["timeRangeFilter"],zU(A)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function YU(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function qU(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],YU(A)),e}function XU(){return{}}function ZU(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function jU(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let u=A;Array.isArray(u)&&(u=u.map(c=>JU(c))),l(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(t,["googleSearch"]);n!=null&&l(e,["googleSearch"],WU(n));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],qU(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],XU());const i=a(t,["computerUse"]);i!=null&&l(e,["computerUse"],ZU(i));const o=a(t,["codeExecution"]);return o!=null&&l(e,["codeExecution"],o),e}function eF(t){const e={},A=a(t,["handle"]);if(A!=null&&l(e,["handle"],A),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kh(){return{}}function tF(t){const e={},A=a(t,["disabled"]);A!=null&&l(e,["disabled"],A);const n=a(t,["startOfSpeechSensitivity"]);n!=null&&l(e,["startOfSpeechSensitivity"],n);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const i=a(t,["silenceDurationMs"]);return i!=null&&l(e,["silenceDurationMs"],i),e}function AF(t){const e={},A=a(t,["automaticActivityDetection"]);A!=null&&l(e,["automaticActivityDetection"],tF(A));const n=a(t,["activityHandling"]);n!=null&&l(e,["activityHandling"],n);const r=a(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function nF(t){const e={},A=a(t,["targetTokens"]);return A!=null&&l(e,["targetTokens"],A),e}function rF(t){const e={},A=a(t,["triggerTokens"]);A!=null&&l(e,["triggerTokens"],A);const n=a(t,["slidingWindow"]);return n!=null&&l(e,["slidingWindow"],nF(n)),e}function sF(t){const e={},A=a(t,["proactiveAudio"]);return A!=null&&l(e,["proactiveAudio"],A),e}function iF(t,e){const A={},n=a(t,["generationConfig"]);e!==void 0&&n!=null&&l(e,["setup","generationConfig"],n);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const i=a(t,["topP"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","topP"],i);const o=a(t,["topK"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","topK"],o);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const d=a(t,["speechConfig"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","speechConfig"],HU(ld(d)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&l(e,["setup","systemInstruction"],$U(Qt(g)));const B=a(t,["tools"]);if(e!==void 0&&B!=null){let U=rs(B);Array.isArray(U)&&(U=U.map(T=>jU(ns(T)))),l(e,["setup","tools"],U)}const m=a(t,["sessionResumption"]);e!==void 0&&m!=null&&l(e,["setup","sessionResumption"],eF(m));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&l(e,["setup","inputAudioTranscription"],Kh());const C=a(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&l(e,["setup","outputAudioTranscription"],Kh());const w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],AF(w));const y=a(t,["contextWindowCompression"]);e!==void 0&&y!=null&&l(e,["setup","contextWindowCompression"],rF(y));const E=a(t,["proactivity"]);return e!==void 0&&E!=null&&l(e,["setup","proactivity"],sF(E)),A}function oF(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["setup","model"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],iF(r,A)),A}function aF(){return{}}function lF(){return{}}function uF(t){const e={},A=a(t,["media"]);A!=null&&l(e,["mediaChunks"],DB(A));const n=a(t,["audio"]);n!=null&&l(e,["audio"],LB(n));const r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);const s=a(t,["video"]);s!=null&&l(e,["video"],MB(s));const i=a(t,["text"]);return i!=null&&l(e,["text"],i),a(t,["activityStart"])!=null&&l(e,["activityStart"],aF()),a(t,["activityEnd"])!=null&&l(e,["activityEnd"],lF()),e}function ZB(t){const e={},A=a(t,["text"]);A!=null&&l(e,["text"],A);const n=a(t,["weight"]);return n!=null&&l(e,["weight"],n),e}function cF(t){const e={},A=a(t,["weightedPrompts"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>ZB(r))),l(e,["weightedPrompts"],n)}return e}function jB(t){const e={},A=a(t,["temperature"]);A!=null&&l(e,["temperature"],A);const n=a(t,["topK"]);n!=null&&l(e,["topK"],n);const r=a(t,["seed"]);r!=null&&l(e,["seed"],r);const s=a(t,["guidance"]);s!=null&&l(e,["guidance"],s);const i=a(t,["bpm"]);i!=null&&l(e,["bpm"],i);const o=a(t,["density"]);o!=null&&l(e,["density"],o);const u=a(t,["brightness"]);u!=null&&l(e,["brightness"],u);const c=a(t,["scale"]);c!=null&&l(e,["scale"],c);const f=a(t,["muteBass"]);f!=null&&l(e,["muteBass"],f);const d=a(t,["muteDrums"]);d!=null&&l(e,["muteDrums"],d);const p=a(t,["onlyBassAndDrums"]);p!=null&&l(e,["onlyBassAndDrums"],p);const g=a(t,["musicGenerationMode"]);return g!=null&&l(e,["musicGenerationMode"],g),e}function fF(t){const e={},A=a(t,["musicGenerationConfig"]);return A!=null&&l(e,["musicGenerationConfig"],jB(A)),e}function ew(t){const e={},A=a(t,["model"]);return A!=null&&l(e,["model"],A),e}function tw(t){const e={},A=a(t,["weightedPrompts"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>ZB(r))),l(e,["weightedPrompts"],n)}return e}function Ic(t){const e={},A=a(t,["setup"]);A!=null&&l(e,["setup"],ew(A));const n=a(t,["clientContent"]);n!=null&&l(e,["clientContent"],tw(n));const r=a(t,["musicGenerationConfig"]);r!=null&&l(e,["musicGenerationConfig"],jB(r));const s=a(t,["playbackControl"]);return s!=null&&l(e,["playbackControl"],s),e}function dF(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function pF(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],dF(A)),e}function hF(t){const e={},A=a(t,["voiceConfig"]);if(A!=null&&l(e,["voiceConfig"],pF(A)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function mF(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function gF(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["data"]);n!=null&&l(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function BF(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function wF(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],mF(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],gF(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],BF(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function CF(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>wF(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function vF(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const A=a(t,["description"]);A!=null&&l(e,["description"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const i=a(t,["response"]);i!=null&&l(e,["response"],i);const o=a(t,["responseJsonSchema"]);return o!=null&&l(e,["responseJsonSchema"],o),e}function yF(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function xF(t){const e={},A=a(t,["timeRangeFilter"]);A!=null&&l(e,["timeRangeFilter"],yF(A));const n=a(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function EF(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function TF(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],EF(A)),e}function UF(t){const e={},A=a(t,["excludeDomains"]);return A!=null&&l(e,["excludeDomains"],A),e}function FF(t){const e={},A=a(t,["apiKeyString"]);return A!=null&&l(e,["apiKeyString"],A),e}function SF(t){const e={},A=a(t,["apiKeyConfig"]);A!=null&&l(e,["apiKeyConfig"],FF(A));const n=a(t,["authType"]);n!=null&&l(e,["authType"],n);const r=a(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const i=a(t,["oauthConfig"]);i!=null&&l(e,["oauthConfig"],i);const o=a(t,["oidcConfig"]);return o!=null&&l(e,["oidcConfig"],o),e}function IF(t){const e={},A=a(t,["authConfig"]);return A!=null&&l(e,["authConfig"],SF(A)),e}function QF(){return{}}function _F(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function NF(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let d=A;Array.isArray(d)&&(d=d.map(p=>vF(p))),l(e,["functionDeclarations"],d)}const n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);const r=a(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],xF(r));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],TF(s));const i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],UF(i));const o=a(t,["googleMaps"]);o!=null&&l(e,["googleMaps"],IF(o)),a(t,["urlContext"])!=null&&l(e,["urlContext"],QF());const c=a(t,["computerUse"]);c!=null&&l(e,["computerUse"],_F(c));const f=a(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function kF(t){const e={},A=a(t,["handle"]);A!=null&&l(e,["handle"],A);const n=a(t,["transparent"]);return n!=null&&l(e,["transparent"],n),e}function Oh(){return{}}function bF(t){const e={},A=a(t,["disabled"]);A!=null&&l(e,["disabled"],A);const n=a(t,["startOfSpeechSensitivity"]);n!=null&&l(e,["startOfSpeechSensitivity"],n);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const i=a(t,["silenceDurationMs"]);return i!=null&&l(e,["silenceDurationMs"],i),e}function DF(t){const e={},A=a(t,["automaticActivityDetection"]);A!=null&&l(e,["automaticActivityDetection"],bF(A));const n=a(t,["activityHandling"]);n!=null&&l(e,["activityHandling"],n);const r=a(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function MF(t){const e={},A=a(t,["targetTokens"]);return A!=null&&l(e,["targetTokens"],A),e}function LF(t){const e={},A=a(t,["triggerTokens"]);A!=null&&l(e,["triggerTokens"],A);const n=a(t,["slidingWindow"]);return n!=null&&l(e,["slidingWindow"],MF(n)),e}function RF(t){const e={},A=a(t,["proactiveAudio"]);return A!=null&&l(e,["proactiveAudio"],A),e}function PF(t,e){const A={},n=a(t,["generationConfig"]);e!==void 0&&n!=null&&l(e,["setup","generationConfig"],n);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const i=a(t,["topP"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","topP"],i);const o=a(t,["topK"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","topK"],o);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const d=a(t,["speechConfig"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","speechConfig"],hF(ld(d)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&l(e,["setup","systemInstruction"],CF(Qt(g)));const B=a(t,["tools"]);if(e!==void 0&&B!=null){let U=rs(B);Array.isArray(U)&&(U=U.map(T=>NF(ns(T)))),l(e,["setup","tools"],U)}const m=a(t,["sessionResumption"]);e!==void 0&&m!=null&&l(e,["setup","sessionResumption"],kF(m));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&l(e,["setup","inputAudioTranscription"],Oh());const C=a(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&l(e,["setup","outputAudioTranscription"],Oh());const w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],DF(w));const y=a(t,["contextWindowCompression"]);e!==void 0&&y!=null&&l(e,["setup","contextWindowCompression"],LF(y));const E=a(t,["proactivity"]);return e!==void 0&&E!=null&&l(e,["setup","proactivity"],RF(E)),A}function HF(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["setup","model"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],PF(r,A)),A}function KF(){return{}}function OF(){return{}}function VF(t){const e={},A=a(t,["media"]);A!=null&&l(e,["mediaChunks"],DB(A));const n=a(t,["audio"]);n!=null&&l(e,["audio"],LB(n));const r=a(t,["audioStreamEnd"]);r!=null&&l(e,["audioStreamEnd"],r);const s=a(t,["video"]);s!=null&&l(e,["video"],MB(s));const i=a(t,["text"]);return i!=null&&l(e,["text"],i),a(t,["activityStart"])!=null&&l(e,["activityStart"],KF()),a(t,["activityEnd"])!=null&&l(e,["activityEnd"],OF()),e}function GF(){return{}}function $F(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function JF(t){const e={},A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function zF(t){const e={},A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function WF(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],$F(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],JF(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],zF(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function YF(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>WF(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function Vh(t){const e={},A=a(t,["text"]);A!=null&&l(e,["text"],A);const n=a(t,["finished"]);return n!=null&&l(e,["finished"],n),e}function qF(t){const e={},A=a(t,["retrievedUrl"]);A!=null&&l(e,["retrievedUrl"],A);const n=a(t,["urlRetrievalStatus"]);return n!=null&&l(e,["urlRetrievalStatus"],n),e}function XF(t){const e={},A=a(t,["urlMetadata"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>qF(r))),l(e,["urlMetadata"],n)}return e}function ZF(t){const e={},A=a(t,["modelTurn"]);A!=null&&l(e,["modelTurn"],YF(A));const n=a(t,["turnComplete"]);n!=null&&l(e,["turnComplete"],n);const r=a(t,["interrupted"]);r!=null&&l(e,["interrupted"],r);const s=a(t,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const i=a(t,["generationComplete"]);i!=null&&l(e,["generationComplete"],i);const o=a(t,["inputTranscription"]);o!=null&&l(e,["inputTranscription"],Vh(o));const u=a(t,["outputTranscription"]);u!=null&&l(e,["outputTranscription"],Vh(u));const c=a(t,["urlContextMetadata"]);return c!=null&&l(e,["urlContextMetadata"],XF(c)),e}function jF(t){const e={},A=a(t,["id"]);A!=null&&l(e,["id"],A);const n=a(t,["args"]);n!=null&&l(e,["args"],n);const r=a(t,["name"]);return r!=null&&l(e,["name"],r),e}function eS(t){const e={},A=a(t,["functionCalls"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>jF(r))),l(e,["functionCalls"],n)}return e}function tS(t){const e={},A=a(t,["ids"]);return A!=null&&l(e,["ids"],A),e}function to(t){const e={},A=a(t,["modality"]);A!=null&&l(e,["modality"],A);const n=a(t,["tokenCount"]);return n!=null&&l(e,["tokenCount"],n),e}function AS(t){const e={},A=a(t,["promptTokenCount"]);A!=null&&l(e,["promptTokenCount"],A);const n=a(t,["cachedContentTokenCount"]);n!=null&&l(e,["cachedContentTokenCount"],n);const r=a(t,["responseTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);const s=a(t,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const i=a(t,["thoughtsTokenCount"]);i!=null&&l(e,["thoughtsTokenCount"],i);const o=a(t,["totalTokenCount"]);o!=null&&l(e,["totalTokenCount"],o);const u=a(t,["promptTokensDetails"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(g=>to(g))),l(e,["promptTokensDetails"],p)}const c=a(t,["cacheTokensDetails"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>to(g))),l(e,["cacheTokensDetails"],p)}const f=a(t,["responseTokensDetails"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(g=>to(g))),l(e,["responseTokensDetails"],p)}const d=a(t,["toolUsePromptTokensDetails"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(g=>to(g))),l(e,["toolUsePromptTokensDetails"],p)}return e}function nS(t){const e={},A=a(t,["timeLeft"]);return A!=null&&l(e,["timeLeft"],A),e}function rS(t){const e={},A=a(t,["newHandle"]);A!=null&&l(e,["newHandle"],A);const n=a(t,["resumable"]);n!=null&&l(e,["resumable"],n);const r=a(t,["lastConsumedClientMessageIndex"]);return r!=null&&l(e,["lastConsumedClientMessageIndex"],r),e}function sS(t){const e={};a(t,["setupComplete"])!=null&&l(e,["setupComplete"],GF());const n=a(t,["serverContent"]);n!=null&&l(e,["serverContent"],ZF(n));const r=a(t,["toolCall"]);r!=null&&l(e,["toolCall"],eS(r));const s=a(t,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],tS(s));const i=a(t,["usageMetadata"]);i!=null&&l(e,["usageMetadata"],AS(i));const o=a(t,["goAway"]);o!=null&&l(e,["goAway"],nS(o));const u=a(t,["sessionResumptionUpdate"]);return u!=null&&l(e,["sessionResumptionUpdate"],rS(u)),e}function iS(){return{}}function oS(t){const e={},A=a(t,["text"]);A!=null&&l(e,["text"],A);const n=a(t,["weight"]);return n!=null&&l(e,["weight"],n),e}function aS(t){const e={},A=a(t,["weightedPrompts"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>oS(r))),l(e,["weightedPrompts"],n)}return e}function lS(t){const e={},A=a(t,["temperature"]);A!=null&&l(e,["temperature"],A);const n=a(t,["topK"]);n!=null&&l(e,["topK"],n);const r=a(t,["seed"]);r!=null&&l(e,["seed"],r);const s=a(t,["guidance"]);s!=null&&l(e,["guidance"],s);const i=a(t,["bpm"]);i!=null&&l(e,["bpm"],i);const o=a(t,["density"]);o!=null&&l(e,["density"],o);const u=a(t,["brightness"]);u!=null&&l(e,["brightness"],u);const c=a(t,["scale"]);c!=null&&l(e,["scale"],c);const f=a(t,["muteBass"]);f!=null&&l(e,["muteBass"],f);const d=a(t,["muteDrums"]);d!=null&&l(e,["muteDrums"],d);const p=a(t,["onlyBassAndDrums"]);p!=null&&l(e,["onlyBassAndDrums"],p);const g=a(t,["musicGenerationMode"]);return g!=null&&l(e,["musicGenerationMode"],g),e}function uS(t){const e={},A=a(t,["clientContent"]);A!=null&&l(e,["clientContent"],aS(A));const n=a(t,["musicGenerationConfig"]);return n!=null&&l(e,["musicGenerationConfig"],lS(n)),e}function cS(t){const e={},A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);n!=null&&l(e,["mimeType"],n);const r=a(t,["sourceMetadata"]);return r!=null&&l(e,["sourceMetadata"],uS(r)),e}function fS(t){const e={},A=a(t,["audioChunks"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>cS(r))),l(e,["audioChunks"],n)}return e}function dS(t){const e={},A=a(t,["text"]);A!=null&&l(e,["text"],A);const n=a(t,["filteredReason"]);return n!=null&&l(e,["filteredReason"],n),e}function pS(t){const e={};a(t,["setupComplete"])!=null&&l(e,["setupComplete"],iS());const n=a(t,["serverContent"]);n!=null&&l(e,["serverContent"],fS(n));const r=a(t,["filteredPrompt"]);return r!=null&&l(e,["filteredPrompt"],dS(r)),e}function hS(t){const e={},A=a(t,["sessionId"]);return A!=null&&l(e,["sessionId"],A),e}function mS(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function gS(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["data"]);n!=null&&l(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function BS(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function wS(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],mS(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],gS(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],BS(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function CS(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>wS(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function Gh(t){const e={},A=a(t,["text"]);A!=null&&l(e,["text"],A);const n=a(t,["finished"]);return n!=null&&l(e,["finished"],n),e}function vS(t){const e={},A=a(t,["modelTurn"]);A!=null&&l(e,["modelTurn"],CS(A));const n=a(t,["turnComplete"]);n!=null&&l(e,["turnComplete"],n);const r=a(t,["interrupted"]);r!=null&&l(e,["interrupted"],r);const s=a(t,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const i=a(t,["generationComplete"]);i!=null&&l(e,["generationComplete"],i);const o=a(t,["inputTranscription"]);o!=null&&l(e,["inputTranscription"],Gh(o));const u=a(t,["outputTranscription"]);return u!=null&&l(e,["outputTranscription"],Gh(u)),e}function yS(t){const e={},A=a(t,["args"]);A!=null&&l(e,["args"],A);const n=a(t,["name"]);return n!=null&&l(e,["name"],n),e}function xS(t){const e={},A=a(t,["functionCalls"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>yS(r))),l(e,["functionCalls"],n)}return e}function ES(t){const e={},A=a(t,["ids"]);return A!=null&&l(e,["ids"],A),e}function Ao(t){const e={},A=a(t,["modality"]);A!=null&&l(e,["modality"],A);const n=a(t,["tokenCount"]);return n!=null&&l(e,["tokenCount"],n),e}function TS(t){const e={},A=a(t,["promptTokenCount"]);A!=null&&l(e,["promptTokenCount"],A);const n=a(t,["cachedContentTokenCount"]);n!=null&&l(e,["cachedContentTokenCount"],n);const r=a(t,["candidatesTokenCount"]);r!=null&&l(e,["responseTokenCount"],r);const s=a(t,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const i=a(t,["thoughtsTokenCount"]);i!=null&&l(e,["thoughtsTokenCount"],i);const o=a(t,["totalTokenCount"]);o!=null&&l(e,["totalTokenCount"],o);const u=a(t,["promptTokensDetails"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(B=>Ao(B))),l(e,["promptTokensDetails"],g)}const c=a(t,["cacheTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(B=>Ao(B))),l(e,["cacheTokensDetails"],g)}const f=a(t,["candidatesTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(B=>Ao(B))),l(e,["responseTokensDetails"],g)}const d=a(t,["toolUsePromptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(B=>Ao(B))),l(e,["toolUsePromptTokensDetails"],g)}const p=a(t,["trafficType"]);return p!=null&&l(e,["trafficType"],p),e}function US(t){const e={},A=a(t,["timeLeft"]);return A!=null&&l(e,["timeLeft"],A),e}function FS(t){const e={},A=a(t,["newHandle"]);A!=null&&l(e,["newHandle"],A);const n=a(t,["resumable"]);n!=null&&l(e,["resumable"],n);const r=a(t,["lastConsumedClientMessageIndex"]);return r!=null&&l(e,["lastConsumedClientMessageIndex"],r),e}function SS(t){const e={},A=a(t,["setupComplete"]);A!=null&&l(e,["setupComplete"],hS(A));const n=a(t,["serverContent"]);n!=null&&l(e,["serverContent"],vS(n));const r=a(t,["toolCall"]);r!=null&&l(e,["toolCall"],xS(r));const s=a(t,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],ES(s));const i=a(t,["usageMetadata"]);i!=null&&l(e,["usageMetadata"],TS(i));const o=a(t,["goAway"]);o!=null&&l(e,["goAway"],US(o));const u=a(t,["sessionResumptionUpdate"]);return u!=null&&l(e,["sessionResumptionUpdate"],FS(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function QS(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function _S(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function NS(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],IS(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],QS(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],_S(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function sl(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>NS(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function kS(t){const e={},A=a(t,["anyOf"]);A!=null&&l(e,["anyOf"],A);const n=a(t,["default"]);n!=null&&l(e,["default"],n);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const i=a(t,["example"]);i!=null&&l(e,["example"],i);const o=a(t,["format"]);o!=null&&l(e,["format"],o);const u=a(t,["items"]);u!=null&&l(e,["items"],u);const c=a(t,["maxItems"]);c!=null&&l(e,["maxItems"],c);const f=a(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);const d=a(t,["maxProperties"]);d!=null&&l(e,["maxProperties"],d);const p=a(t,["maximum"]);p!=null&&l(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&l(e,["minItems"],g);const B=a(t,["minLength"]);B!=null&&l(e,["minLength"],B);const m=a(t,["minProperties"]);m!=null&&l(e,["minProperties"],m);const x=a(t,["minimum"]);x!=null&&l(e,["minimum"],x);const C=a(t,["nullable"]);C!=null&&l(e,["nullable"],C);const w=a(t,["pattern"]);w!=null&&l(e,["pattern"],w);const y=a(t,["properties"]);y!=null&&l(e,["properties"],y);const E=a(t,["propertyOrdering"]);E!=null&&l(e,["propertyOrdering"],E);const U=a(t,["required"]);U!=null&&l(e,["required"],U);const T=a(t,["title"]);T!=null&&l(e,["title"],T);const Q=a(t,["type"]);return Q!=null&&l(e,["type"],Q),e}function bS(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const A=a(t,["category"]);A!=null&&l(e,["category"],A);const n=a(t,["threshold"]);return n!=null&&l(e,["threshold"],n),e}function DS(t){const e={},A=a(t,["behavior"]);A!=null&&l(e,["behavior"],A);const n=a(t,["description"]);n!=null&&l(e,["description"],n);const r=a(t,["name"]);r!=null&&l(e,["name"],r);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);const o=a(t,["response"]);o!=null&&l(e,["response"],o);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function MS(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function LS(t){const e={},A=a(t,["timeRangeFilter"]);if(A!=null&&l(e,["timeRangeFilter"],MS(A)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function RS(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function PS(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],RS(A)),e}function HS(){return{}}function KS(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function OS(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let u=A;Array.isArray(u)&&(u=u.map(c=>DS(c))),l(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(t,["googleSearch"]);n!=null&&l(e,["googleSearch"],LS(n));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],PS(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],HS());const i=a(t,["computerUse"]);i!=null&&l(e,["computerUse"],KS(i));const o=a(t,["codeExecution"]);return o!=null&&l(e,["codeExecution"],o),e}function VS(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["allowedFunctionNames"]);return n!=null&&l(e,["allowedFunctionNames"],n),e}function GS(t){const e={},A=a(t,["latitude"]);A!=null&&l(e,["latitude"],A);const n=a(t,["longitude"]);return n!=null&&l(e,["longitude"],n),e}function $S(t){const e={},A=a(t,["latLng"]);A!=null&&l(e,["latLng"],GS(A));const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function JS(t){const e={},A=a(t,["functionCallingConfig"]);A!=null&&l(e,["functionCallingConfig"],VS(A));const n=a(t,["retrievalConfig"]);return n!=null&&l(e,["retrievalConfig"],$S(n)),e}function zS(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function Aw(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],zS(A)),e}function WS(t){const e={},A=a(t,["speaker"]);A!=null&&l(e,["speaker"],A);const n=a(t,["voiceConfig"]);return n!=null&&l(e,["voiceConfig"],Aw(n)),e}function YS(t){const e={},A=a(t,["speakerVoiceConfigs"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>WS(r))),l(e,["speakerVoiceConfigs"],n)}return e}function qS(t){const e={},A=a(t,["voiceConfig"]);A!=null&&l(e,["voiceConfig"],Aw(A));const n=a(t,["multiSpeakerVoiceConfig"]);n!=null&&l(e,["multiSpeakerVoiceConfig"],YS(n));const r=a(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function XS(t){const e={},A=a(t,["includeThoughts"]);A!=null&&l(e,["includeThoughts"],A);const n=a(t,["thinkingBudget"]);return n!=null&&l(e,["thinkingBudget"],n),e}function ZS(t,e,A){const n={},r=a(e,["systemInstruction"]);A!==void 0&&r!=null&&l(A,["systemInstruction"],sl(Qt(r)));const s=a(e,["temperature"]);s!=null&&l(n,["temperature"],s);const i=a(e,["topP"]);i!=null&&l(n,["topP"],i);const o=a(e,["topK"]);o!=null&&l(n,["topK"],o);const u=a(e,["candidateCount"]);u!=null&&l(n,["candidateCount"],u);const c=a(e,["maxOutputTokens"]);c!=null&&l(n,["maxOutputTokens"],c);const f=a(e,["stopSequences"]);f!=null&&l(n,["stopSequences"],f);const d=a(e,["responseLogprobs"]);d!=null&&l(n,["responseLogprobs"],d);const p=a(e,["logprobs"]);p!=null&&l(n,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&l(n,["presencePenalty"],g);const B=a(e,["frequencyPenalty"]);B!=null&&l(n,["frequencyPenalty"],B);const m=a(e,["seed"]);m!=null&&l(n,["seed"],m);const x=a(e,["responseMimeType"]);x!=null&&l(n,["responseMimeType"],x);const C=a(e,["responseSchema"]);C!=null&&l(n,["responseSchema"],kS(od(C)));const w=a(e,["responseJsonSchema"]);if(w!=null&&l(n,["responseJsonSchema"],w),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=a(e,["safetySettings"]);if(A!==void 0&&y!=null){let j=y;Array.isArray(j)&&(j=j.map(_=>bS(_))),l(A,["safetySettings"],j)}const E=a(e,["tools"]);if(A!==void 0&&E!=null){let j=rs(E);Array.isArray(j)&&(j=j.map(_=>OS(ns(_)))),l(A,["tools"],j)}const U=a(e,["toolConfig"]);if(A!==void 0&&U!=null&&l(A,["toolConfig"],JS(U)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const T=a(e,["cachedContent"]);A!==void 0&&T!=null&&l(A,["cachedContent"],en(t,T));const Q=a(e,["responseModalities"]);Q!=null&&l(n,["responseModalities"],Q);const M=a(e,["mediaResolution"]);M!=null&&l(n,["mediaResolution"],M);const D=a(e,["speechConfig"]);if(D!=null&&l(n,["speechConfig"],qS(ad(D))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const R=a(e,["thinkingConfig"]);return R!=null&&l(n,["thinkingConfig"],XS(R)),n}function $h(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>sl(o))),l(A,["contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["generationConfig"],ZS(t,s,A)),A}function jS(t,e){const A={},n=a(t,["taskType"]);e!==void 0&&n!=null&&l(e,["requests[]","taskType"],n);const r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["requests[]","title"],r);const s=a(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&l(e,["requests[]","outputDimensionality"],s),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return A}function eI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);r!=null&&l(A,["requests[]","content"],PB(t,r));const s=a(e,["config"]);s!=null&&l(A,["config"],jS(s,A));const i=a(e,["model"]);return i!==void 0&&l(A,["requests[]","model"],Ge(t,i)),A}function tI(t,e){const A={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=a(t,["numberOfImages"]);e!==void 0&&n!=null&&l(e,["parameters","sampleCount"],n);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&l(e,["parameters","aspectRatio"],r);const s=a(t,["guidanceScale"]);if(e!==void 0&&s!=null&&l(e,["parameters","guidanceScale"],s),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=a(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&l(e,["parameters","safetySetting"],i);const o=a(t,["personGeneration"]);e!==void 0&&o!=null&&l(e,["parameters","personGeneration"],o);const u=a(t,["includeSafetyAttributes"]);e!==void 0&&u!=null&&l(e,["parameters","includeSafetyAttributes"],u);const c=a(t,["includeRaiReason"]);e!==void 0&&c!=null&&l(e,["parameters","includeRaiReason"],c);const f=a(t,["language"]);e!==void 0&&f!=null&&l(e,["parameters","language"],f);const d=a(t,["outputMimeType"]);e!==void 0&&d!=null&&l(e,["parameters","outputOptions","mimeType"],d);const p=a(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const g=a(t,["imageSize"]);if(e!==void 0&&g!=null&&l(e,["parameters","sampleImageSize"],g),a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return A}function AI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["prompt"]);r!=null&&l(A,["instances[0]","prompt"],r);const s=a(e,["config"]);return s!=null&&l(A,["config"],tI(s,A)),A}function nI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","name"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function rI(t,e,A){const n={},r=a(e,["pageSize"]);A!==void 0&&r!=null&&l(A,["_query","pageSize"],r);const s=a(e,["pageToken"]);A!==void 0&&s!=null&&l(A,["_query","pageToken"],s);const i=a(e,["filter"]);A!==void 0&&i!=null&&l(A,["_query","filter"],i);const o=a(e,["queryBase"]);return A!==void 0&&o!=null&&l(A,["_url","models_url"],OB(t,o)),n}function sI(t,e){const A={},n=a(e,["config"]);return n!=null&&l(A,["config"],rI(t,n,A)),A}function iI(t,e){const A={},n=a(t,["displayName"]);e!==void 0&&n!=null&&l(e,["displayName"],n);const r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);const s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),A}function oI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","name"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],iI(r,A)),A}function aI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","name"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function lI(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function uI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>sl(o))),l(A,["contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["config"],lI(s)),A}function cI(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const A=a(t,["imageBytes"]);A!=null&&l(e,["bytesBase64Encoded"],sr(A));const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function fI(t,e){const A={},n=a(t,["numberOfVideos"]);if(e!==void 0&&n!=null&&l(e,["parameters","sampleCount"],n),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=a(t,["durationSeconds"]);if(e!==void 0&&r!=null&&l(e,["parameters","durationSeconds"],r),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=a(t,["aspectRatio"]);if(e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const i=a(t,["personGeneration"]);if(e!==void 0&&i!=null&&l(e,["parameters","personGeneration"],i),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const o=a(t,["negativePrompt"]);e!==void 0&&o!=null&&l(e,["parameters","negativePrompt"],o);const u=a(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&l(e,["parameters","enhancePrompt"],u),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return A}function dI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["prompt"]);r!=null&&l(A,["instances[0]","prompt"],r);const s=a(e,["image"]);if(s!=null&&l(A,["instances[0]","image"],cI(s)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const i=a(e,["config"]);return i!=null&&l(A,["config"],fI(i,A)),A}function pI(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function hI(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["data"]);n!=null&&l(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function mI(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function gI(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],pI(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],hI(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],mI(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function is(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>gI(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function BI(t){const e={},A=a(t,["anyOf"]);A!=null&&l(e,["anyOf"],A);const n=a(t,["default"]);n!=null&&l(e,["default"],n);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const s=a(t,["enum"]);s!=null&&l(e,["enum"],s);const i=a(t,["example"]);i!=null&&l(e,["example"],i);const o=a(t,["format"]);o!=null&&l(e,["format"],o);const u=a(t,["items"]);u!=null&&l(e,["items"],u);const c=a(t,["maxItems"]);c!=null&&l(e,["maxItems"],c);const f=a(t,["maxLength"]);f!=null&&l(e,["maxLength"],f);const d=a(t,["maxProperties"]);d!=null&&l(e,["maxProperties"],d);const p=a(t,["maximum"]);p!=null&&l(e,["maximum"],p);const g=a(t,["minItems"]);g!=null&&l(e,["minItems"],g);const B=a(t,["minLength"]);B!=null&&l(e,["minLength"],B);const m=a(t,["minProperties"]);m!=null&&l(e,["minProperties"],m);const x=a(t,["minimum"]);x!=null&&l(e,["minimum"],x);const C=a(t,["nullable"]);C!=null&&l(e,["nullable"],C);const w=a(t,["pattern"]);w!=null&&l(e,["pattern"],w);const y=a(t,["properties"]);y!=null&&l(e,["properties"],y);const E=a(t,["propertyOrdering"]);E!=null&&l(e,["propertyOrdering"],E);const U=a(t,["required"]);U!=null&&l(e,["required"],U);const T=a(t,["title"]);T!=null&&l(e,["title"],T);const Q=a(t,["type"]);return Q!=null&&l(e,["type"],Q),e}function wI(t){const e={},A=a(t,["featureSelectionPreference"]);return A!=null&&l(e,["featureSelectionPreference"],A),e}function CI(t){const e={},A=a(t,["method"]);A!=null&&l(e,["method"],A);const n=a(t,["category"]);n!=null&&l(e,["category"],n);const r=a(t,["threshold"]);return r!=null&&l(e,["threshold"],r),e}function vI(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const A=a(t,["description"]);A!=null&&l(e,["description"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["parameters"]);r!=null&&l(e,["parameters"],r);const s=a(t,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const i=a(t,["response"]);i!=null&&l(e,["response"],i);const o=a(t,["responseJsonSchema"]);return o!=null&&l(e,["responseJsonSchema"],o),e}function yI(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function xI(t){const e={},A=a(t,["timeRangeFilter"]);A!=null&&l(e,["timeRangeFilter"],yI(A));const n=a(t,["excludeDomains"]);return n!=null&&l(e,["excludeDomains"],n),e}function EI(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function TI(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],EI(A)),e}function UI(t){const e={},A=a(t,["excludeDomains"]);return A!=null&&l(e,["excludeDomains"],A),e}function FI(t){const e={},A=a(t,["apiKeyString"]);return A!=null&&l(e,["apiKeyString"],A),e}function SI(t){const e={},A=a(t,["apiKeyConfig"]);A!=null&&l(e,["apiKeyConfig"],FI(A));const n=a(t,["authType"]);n!=null&&l(e,["authType"],n);const r=a(t,["googleServiceAccountConfig"]);r!=null&&l(e,["googleServiceAccountConfig"],r);const s=a(t,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const i=a(t,["oauthConfig"]);i!=null&&l(e,["oauthConfig"],i);const o=a(t,["oidcConfig"]);return o!=null&&l(e,["oidcConfig"],o),e}function II(t){const e={},A=a(t,["authConfig"]);return A!=null&&l(e,["authConfig"],SI(A)),e}function QI(){return{}}function _I(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function nw(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let d=A;Array.isArray(d)&&(d=d.map(p=>vI(p))),l(e,["functionDeclarations"],d)}const n=a(t,["retrieval"]);n!=null&&l(e,["retrieval"],n);const r=a(t,["googleSearch"]);r!=null&&l(e,["googleSearch"],xI(r));const s=a(t,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],TI(s));const i=a(t,["enterpriseWebSearch"]);i!=null&&l(e,["enterpriseWebSearch"],UI(i));const o=a(t,["googleMaps"]);o!=null&&l(e,["googleMaps"],II(o)),a(t,["urlContext"])!=null&&l(e,["urlContext"],QI());const c=a(t,["computerUse"]);c!=null&&l(e,["computerUse"],_I(c));const f=a(t,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function NI(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["allowedFunctionNames"]);return n!=null&&l(e,["allowedFunctionNames"],n),e}function kI(t){const e={},A=a(t,["latitude"]);A!=null&&l(e,["latitude"],A);const n=a(t,["longitude"]);return n!=null&&l(e,["longitude"],n),e}function bI(t){const e={},A=a(t,["latLng"]);A!=null&&l(e,["latLng"],kI(A));const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function DI(t){const e={},A=a(t,["functionCallingConfig"]);A!=null&&l(e,["functionCallingConfig"],NI(A));const n=a(t,["retrievalConfig"]);return n!=null&&l(e,["retrievalConfig"],bI(n)),e}function MI(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function LI(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],MI(A)),e}function RI(t){const e={},A=a(t,["voiceConfig"]);if(A!=null&&l(e,["voiceConfig"],LI(A)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const n=a(t,["languageCode"]);return n!=null&&l(e,["languageCode"],n),e}function PI(t){const e={},A=a(t,["includeThoughts"]);A!=null&&l(e,["includeThoughts"],A);const n=a(t,["thinkingBudget"]);return n!=null&&l(e,["thinkingBudget"],n),e}function HI(t,e,A){const n={},r=a(e,["systemInstruction"]);A!==void 0&&r!=null&&l(A,["systemInstruction"],is(Qt(r)));const s=a(e,["temperature"]);s!=null&&l(n,["temperature"],s);const i=a(e,["topP"]);i!=null&&l(n,["topP"],i);const o=a(e,["topK"]);o!=null&&l(n,["topK"],o);const u=a(e,["candidateCount"]);u!=null&&l(n,["candidateCount"],u);const c=a(e,["maxOutputTokens"]);c!=null&&l(n,["maxOutputTokens"],c);const f=a(e,["stopSequences"]);f!=null&&l(n,["stopSequences"],f);const d=a(e,["responseLogprobs"]);d!=null&&l(n,["responseLogprobs"],d);const p=a(e,["logprobs"]);p!=null&&l(n,["logprobs"],p);const g=a(e,["presencePenalty"]);g!=null&&l(n,["presencePenalty"],g);const B=a(e,["frequencyPenalty"]);B!=null&&l(n,["frequencyPenalty"],B);const m=a(e,["seed"]);m!=null&&l(n,["seed"],m);const x=a(e,["responseMimeType"]);x!=null&&l(n,["responseMimeType"],x);const C=a(e,["responseSchema"]);C!=null&&l(n,["responseSchema"],BI(od(C)));const w=a(e,["responseJsonSchema"]);w!=null&&l(n,["responseJsonSchema"],w);const y=a(e,["routingConfig"]);y!=null&&l(n,["routingConfig"],y);const E=a(e,["modelSelectionConfig"]);E!=null&&l(n,["modelConfig"],wI(E));const U=a(e,["safetySettings"]);if(A!==void 0&&U!=null){let q=U;Array.isArray(q)&&(q=q.map(Y=>CI(Y))),l(A,["safetySettings"],q)}const T=a(e,["tools"]);if(A!==void 0&&T!=null){let q=rs(T);Array.isArray(q)&&(q=q.map(Y=>nw(ns(Y)))),l(A,["tools"],q)}const Q=a(e,["toolConfig"]);A!==void 0&&Q!=null&&l(A,["toolConfig"],DI(Q));const M=a(e,["labels"]);A!==void 0&&M!=null&&l(A,["labels"],M);const D=a(e,["cachedContent"]);A!==void 0&&D!=null&&l(A,["cachedContent"],en(t,D));const R=a(e,["responseModalities"]);R!=null&&l(n,["responseModalities"],R);const j=a(e,["mediaResolution"]);j!=null&&l(n,["mediaResolution"],j);const _=a(e,["speechConfig"]);_!=null&&l(n,["speechConfig"],RI(ad(_)));const G=a(e,["audioTimestamp"]);G!=null&&l(n,["audioTimestamp"],G);const F=a(e,["thinkingConfig"]);return F!=null&&l(n,["thinkingConfig"],PI(F)),n}function Jh(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>is(o))),l(A,["contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["generationConfig"],HI(t,s,A)),A}function KI(t,e){const A={},n=a(t,["taskType"]);e!==void 0&&n!=null&&l(e,["instances[]","task_type"],n);const r=a(t,["title"]);e!==void 0&&r!=null&&l(e,["instances[]","title"],r);const s=a(t,["outputDimensionality"]);e!==void 0&&s!=null&&l(e,["parameters","outputDimensionality"],s);const i=a(t,["mimeType"]);e!==void 0&&i!=null&&l(e,["instances[]","mimeType"],i);const o=a(t,["autoTruncate"]);return e!==void 0&&o!=null&&l(e,["parameters","autoTruncate"],o),A}function OI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);r!=null&&l(A,["instances[]","content"],PB(t,r));const s=a(e,["config"]);return s!=null&&l(A,["config"],KI(s,A)),A}function VI(t,e){const A={},n=a(t,["outputGcsUri"]);e!==void 0&&n!=null&&l(e,["parameters","storageUri"],n);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);const o=a(t,["guidanceScale"]);e!==void 0&&o!=null&&l(e,["parameters","guidanceScale"],o);const u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&l(e,["parameters","safetySetting"],c);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&l(e,["parameters","includeSafetyAttributes"],d);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&l(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);const B=a(t,["outputMimeType"]);e!==void 0&&B!=null&&l(e,["parameters","outputOptions","mimeType"],B);const m=a(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&l(e,["parameters","outputOptions","compressionQuality"],m);const x=a(t,["addWatermark"]);e!==void 0&&x!=null&&l(e,["parameters","addWatermark"],x);const C=a(t,["imageSize"]);e!==void 0&&C!=null&&l(e,["parameters","sampleImageSize"],C);const w=a(t,["enhancePrompt"]);return e!==void 0&&w!=null&&l(e,["parameters","enhancePrompt"],w),A}function GI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["prompt"]);r!=null&&l(A,["instances[0]","prompt"],r);const s=a(e,["config"]);return s!=null&&l(A,["config"],VI(s,A)),A}function os(t){const e={},A=a(t,["gcsUri"]);A!=null&&l(e,["gcsUri"],A);const n=a(t,["imageBytes"]);n!=null&&l(e,["bytesBase64Encoded"],sr(n));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function $I(t){const e={},A=a(t,["maskMode"]);A!=null&&l(e,["maskMode"],A);const n=a(t,["segmentationClasses"]);n!=null&&l(e,["maskClasses"],n);const r=a(t,["maskDilation"]);return r!=null&&l(e,["dilation"],r),e}function JI(t){const e={},A=a(t,["controlType"]);A!=null&&l(e,["controlType"],A);const n=a(t,["enableControlImageComputation"]);return n!=null&&l(e,["computeControl"],n),e}function zI(t){const e={},A=a(t,["styleDescription"]);return A!=null&&l(e,["styleDescription"],A),e}function WI(t){const e={},A=a(t,["subjectType"]);A!=null&&l(e,["subjectType"],A);const n=a(t,["subjectDescription"]);return n!=null&&l(e,["subjectDescription"],n),e}function YI(t){const e={},A=a(t,["referenceImage"]);A!=null&&l(e,["referenceImage"],os(A));const n=a(t,["referenceId"]);n!=null&&l(e,["referenceId"],n);const r=a(t,["referenceType"]);r!=null&&l(e,["referenceType"],r);const s=a(t,["maskImageConfig"]);s!=null&&l(e,["maskImageConfig"],$I(s));const i=a(t,["controlImageConfig"]);i!=null&&l(e,["controlImageConfig"],JI(i));const o=a(t,["styleImageConfig"]);o!=null&&l(e,["styleImageConfig"],zI(o));const u=a(t,["subjectImageConfig"]);return u!=null&&l(e,["subjectImageConfig"],WI(u)),e}function qI(t,e){const A={},n=a(t,["outputGcsUri"]);e!==void 0&&n!=null&&l(e,["parameters","storageUri"],n);const r=a(t,["negativePrompt"]);e!==void 0&&r!=null&&l(e,["parameters","negativePrompt"],r);const s=a(t,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const i=a(t,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);const o=a(t,["guidanceScale"]);e!==void 0&&o!=null&&l(e,["parameters","guidanceScale"],o);const u=a(t,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const c=a(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&l(e,["parameters","safetySetting"],c);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const d=a(t,["includeSafetyAttributes"]);e!==void 0&&d!=null&&l(e,["parameters","includeSafetyAttributes"],d);const p=a(t,["includeRaiReason"]);e!==void 0&&p!=null&&l(e,["parameters","includeRaiReason"],p);const g=a(t,["language"]);e!==void 0&&g!=null&&l(e,["parameters","language"],g);const B=a(t,["outputMimeType"]);e!==void 0&&B!=null&&l(e,["parameters","outputOptions","mimeType"],B);const m=a(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&l(e,["parameters","outputOptions","compressionQuality"],m);const x=a(t,["addWatermark"]);e!==void 0&&x!=null&&l(e,["parameters","addWatermark"],x);const C=a(t,["editMode"]);e!==void 0&&C!=null&&l(e,["parameters","editMode"],C);const w=a(t,["baseSteps"]);return e!==void 0&&w!=null&&l(e,["parameters","editConfig","baseSteps"],w),A}function XI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["prompt"]);r!=null&&l(A,["instances[0]","prompt"],r);const s=a(e,["referenceImages"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>YI(u))),l(A,["instances[0]","referenceImages"],o)}const i=a(e,["config"]);return i!=null&&l(A,["config"],qI(i,A)),A}function ZI(t,e){const A={},n=a(t,["includeRaiReason"]);e!==void 0&&n!=null&&l(e,["parameters","includeRaiReason"],n);const r=a(t,["outputMimeType"]);e!==void 0&&r!=null&&l(e,["parameters","outputOptions","mimeType"],r);const s=a(t,["outputCompressionQuality"]);e!==void 0&&s!=null&&l(e,["parameters","outputOptions","compressionQuality"],s);const i=a(t,["enhanceInputImage"]);e!==void 0&&i!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],i);const o=a(t,["imagePreservationFactor"]);e!==void 0&&o!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],o);const u=a(t,["numberOfImages"]);e!==void 0&&u!=null&&l(e,["parameters","sampleCount"],u);const c=a(t,["mode"]);return e!==void 0&&c!=null&&l(e,["parameters","mode"],c),A}function jI(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["image"]);r!=null&&l(A,["instances[0]","image"],os(r));const s=a(e,["upscaleFactor"]);s!=null&&l(A,["parameters","upscaleConfig","upscaleFactor"],s);const i=a(e,["config"]);return i!=null&&l(A,["config"],ZI(i,A)),A}function e1(t){const e={},A=a(t,["productImage"]);return A!=null&&l(e,["image"],os(A)),e}function t1(t,e){const A={},n=a(t,["prompt"]);e!==void 0&&n!=null&&l(e,["instances[0]","prompt"],n);const r=a(t,["personImage"]);e!==void 0&&r!=null&&l(e,["instances[0]","personImage","image"],os(r));const s=a(t,["productImages"]);if(e!==void 0&&s!=null){let i=s;Array.isArray(i)&&(i=i.map(o=>e1(o))),l(e,["instances[0]","productImages"],i)}return A}function A1(t,e){const A={},n=a(t,["numberOfImages"]);e!==void 0&&n!=null&&l(e,["parameters","sampleCount"],n);const r=a(t,["baseSteps"]);e!==void 0&&r!=null&&l(e,["parameters","editConfig","baseSteps"],r);const s=a(t,["outputGcsUri"]);e!==void 0&&s!=null&&l(e,["parameters","storageUri"],s);const i=a(t,["seed"]);e!==void 0&&i!=null&&l(e,["parameters","seed"],i);const o=a(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&l(e,["parameters","safetySetting"],o);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);const c=a(t,["outputMimeType"]);e!==void 0&&c!=null&&l(e,["parameters","outputOptions","mimeType"],c);const f=a(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","compressionQuality"],f);const d=a(t,["enhancePrompt"]);return e!==void 0&&d!=null&&l(e,["parameters","enhancePrompt"],d),A}function n1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["source"]);r!=null&&l(A,["config"],t1(r,A));const s=a(e,["config"]);return s!=null&&l(A,["config"],A1(s,A)),A}function r1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","name"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function s1(t,e,A){const n={},r=a(e,["pageSize"]);A!==void 0&&r!=null&&l(A,["_query","pageSize"],r);const s=a(e,["pageToken"]);A!==void 0&&s!=null&&l(A,["_query","pageToken"],s);const i=a(e,["filter"]);A!==void 0&&i!=null&&l(A,["_query","filter"],i);const o=a(e,["queryBase"]);return A!==void 0&&o!=null&&l(A,["_url","models_url"],OB(t,o)),n}function i1(t,e){const A={},n=a(e,["config"]);return n!=null&&l(A,["config"],s1(t,n,A)),A}function o1(t,e){const A={},n=a(t,["displayName"]);e!==void 0&&n!=null&&l(e,["displayName"],n);const r=a(t,["description"]);e!==void 0&&r!=null&&l(e,["description"],r);const s=a(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),A}function a1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],o1(r,A)),A}function l1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","name"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],r),A}function u1(t,e){const A={},n=a(t,["systemInstruction"]);e!==void 0&&n!=null&&l(e,["systemInstruction"],is(Qt(n)));const r=a(t,["tools"]);if(e!==void 0&&r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>nw(o))),l(e,["tools"],i)}const s=a(t,["generationConfig"]);return e!==void 0&&s!=null&&l(e,["generationConfig"],s),A}function c1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>is(o))),l(A,["contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["config"],u1(s,A)),A}function f1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["contents"]);if(r!=null){let i=cA(r);Array.isArray(i)&&(i=i.map(o=>is(o))),l(A,["contents"],i)}const s=a(e,["config"]);return s!=null&&l(A,["config"],s),A}function d1(t){const e={},A=a(t,["uri"]);A!=null&&l(e,["gcsUri"],A);const n=a(t,["videoBytes"]);n!=null&&l(e,["bytesBase64Encoded"],sr(n));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function p1(t,e){const A={},n=a(t,["numberOfVideos"]);e!==void 0&&n!=null&&l(e,["parameters","sampleCount"],n);const r=a(t,["outputGcsUri"]);e!==void 0&&r!=null&&l(e,["parameters","storageUri"],r);const s=a(t,["fps"]);e!==void 0&&s!=null&&l(e,["parameters","fps"],s);const i=a(t,["durationSeconds"]);e!==void 0&&i!=null&&l(e,["parameters","durationSeconds"],i);const o=a(t,["seed"]);e!==void 0&&o!=null&&l(e,["parameters","seed"],o);const u=a(t,["aspectRatio"]);e!==void 0&&u!=null&&l(e,["parameters","aspectRatio"],u);const c=a(t,["resolution"]);e!==void 0&&c!=null&&l(e,["parameters","resolution"],c);const f=a(t,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const d=a(t,["pubsubTopic"]);e!==void 0&&d!=null&&l(e,["parameters","pubsubTopic"],d);const p=a(t,["negativePrompt"]);e!==void 0&&p!=null&&l(e,["parameters","negativePrompt"],p);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&l(e,["parameters","enhancePrompt"],g);const B=a(t,["generateAudio"]);e!==void 0&&B!=null&&l(e,["parameters","generateAudio"],B);const m=a(t,["lastFrame"]);e!==void 0&&m!=null&&l(e,["instances[0]","lastFrame"],os(m));const x=a(t,["compressionQuality"]);return e!==void 0&&x!=null&&l(e,["parameters","compressionQuality"],x),A}function h1(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["_url","model"],Ge(t,n));const r=a(e,["prompt"]);r!=null&&l(A,["instances[0]","prompt"],r);const s=a(e,["image"]);s!=null&&l(A,["instances[0]","image"],os(s));const i=a(e,["video"]);i!=null&&l(A,["instances[0]","video"],d1(i));const o=a(e,["config"]);return o!=null&&l(A,["config"],p1(o,A)),A}function m1(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function g1(t){const e={},A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function B1(t){const e={},A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function w1(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],m1(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],g1(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],B1(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function C1(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>w1(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function v1(t){const e={},A=a(t,["citationSources"]);return A!=null&&l(e,["citations"],A),e}function y1(t){const e={},A=a(t,["retrievedUrl"]);A!=null&&l(e,["retrievedUrl"],A);const n=a(t,["urlRetrievalStatus"]);return n!=null&&l(e,["urlRetrievalStatus"],n),e}function x1(t){const e={},A=a(t,["urlMetadata"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>y1(r))),l(e,["urlMetadata"],n)}return e}function E1(t){const e={},A=a(t,["content"]);A!=null&&l(e,["content"],C1(A));const n=a(t,["citationMetadata"]);n!=null&&l(e,["citationMetadata"],v1(n));const r=a(t,["tokenCount"]);r!=null&&l(e,["tokenCount"],r);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const i=a(t,["urlContextMetadata"]);i!=null&&l(e,["urlContextMetadata"],x1(i));const o=a(t,["avgLogprobs"]);o!=null&&l(e,["avgLogprobs"],o);const u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);const c=a(t,["index"]);c!=null&&l(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);return d!=null&&l(e,["safetyRatings"],d),e}function zh(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(c=>E1(c))),l(e,["candidates"],u)}const r=a(t,["modelVersion"]);r!=null&&l(e,["modelVersion"],r);const s=a(t,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);const i=a(t,["responseId"]);i!=null&&l(e,["responseId"],i);const o=a(t,["usageMetadata"]);return o!=null&&l(e,["usageMetadata"],o),e}function T1(t){const e={},A=a(t,["values"]);return A!=null&&l(e,["values"],A),e}function U1(){return{}}function F1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>T1(i))),l(e,["embeddings"],s)}return a(t,["metadata"])!=null&&l(e,["metadata"],U1()),e}function S1(t){const e={},A=a(t,["bytesBase64Encoded"]);A!=null&&l(e,["imageBytes"],sr(A));const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function rw(t){const e={},A=a(t,["safetyAttributes","categories"]);A!=null&&l(e,["categories"],A);const n=a(t,["safetyAttributes","scores"]);n!=null&&l(e,["scores"],n);const r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function I1(t){const e={},A=a(t,["_self"]);A!=null&&l(e,["image"],S1(A));const n=a(t,["raiFilteredReason"]);n!=null&&l(e,["raiFilteredReason"],n);const r=a(t,["_self"]);return r!=null&&l(e,["safetyAttributes"],rw(r)),e}function Q1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>I1(i))),l(e,["generatedImages"],s)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],rw(r)),e}function _1(t){const e={},A=a(t,["baseModel"]);A!=null&&l(e,["baseModel"],A);const n=a(t,["createTime"]);n!=null&&l(e,["createTime"],n);const r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function Qc(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const s=a(t,["version"]);s!=null&&l(e,["version"],s);const i=a(t,["_self"]);i!=null&&l(e,["tunedModelInfo"],_1(i));const o=a(t,["inputTokenLimit"]);o!=null&&l(e,["inputTokenLimit"],o);const u=a(t,["outputTokenLimit"]);u!=null&&l(e,["outputTokenLimit"],u);const c=a(t,["supportedGenerationMethods"]);return c!=null&&l(e,["supportedActions"],c),e}function N1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["_self"]);if(r!=null){let s=VB(r);Array.isArray(s)&&(s=s.map(i=>Qc(i))),l(e,["models"],s)}return e}function k1(){return{}}function b1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["totalTokens"]);n!=null&&l(e,["totalTokens"],n);const r=a(t,["cachedContentTokenCount"]);return r!=null&&l(e,["cachedContentTokenCount"],r),e}function D1(t){const e={},A=a(t,["video","uri"]);A!=null&&l(e,["uri"],A);const n=a(t,["video","encodedVideo"]);n!=null&&l(e,["videoBytes"],sr(n));const r=a(t,["encoding"]);return r!=null&&l(e,["mimeType"],r),e}function M1(t){const e={},A=a(t,["_self"]);return A!=null&&l(e,["video"],D1(A)),e}function L1(t){const e={},A=a(t,["generatedSamples"]);if(A!=null){let s=A;Array.isArray(s)&&(s=s.map(i=>M1(i))),l(e,["generatedVideos"],s)}const n=a(t,["raiMediaFilteredCount"]);n!=null&&l(e,["raiMediaFilteredCount"],n);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function R1(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["metadata"]);n!=null&&l(e,["metadata"],n);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const i=a(t,["response","generateVideoResponse"]);return i!=null&&l(e,["response"],L1(i)),e}function P1(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function H1(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["data"]);n!=null&&l(e,["data"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function K1(t){const e={},A=a(t,["displayName"]);A!=null&&l(e,["displayName"],A);const n=a(t,["fileUri"]);n!=null&&l(e,["fileUri"],n);const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function O1(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],P1(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],H1(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],K1(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function V1(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>O1(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function G1(t){const e={},A=a(t,["citations"]);return A!=null&&l(e,["citations"],A),e}function $1(t){const e={},A=a(t,["retrievedUrl"]);A!=null&&l(e,["retrievedUrl"],A);const n=a(t,["urlRetrievalStatus"]);return n!=null&&l(e,["urlRetrievalStatus"],n),e}function J1(t){const e={},A=a(t,["urlMetadata"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>$1(r))),l(e,["urlMetadata"],n)}return e}function z1(t){const e={},A=a(t,["content"]);A!=null&&l(e,["content"],V1(A));const n=a(t,["citationMetadata"]);n!=null&&l(e,["citationMetadata"],G1(n));const r=a(t,["finishMessage"]);r!=null&&l(e,["finishMessage"],r);const s=a(t,["finishReason"]);s!=null&&l(e,["finishReason"],s);const i=a(t,["urlContextMetadata"]);i!=null&&l(e,["urlContextMetadata"],J1(i));const o=a(t,["avgLogprobs"]);o!=null&&l(e,["avgLogprobs"],o);const u=a(t,["groundingMetadata"]);u!=null&&l(e,["groundingMetadata"],u);const c=a(t,["index"]);c!=null&&l(e,["index"],c);const f=a(t,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const d=a(t,["safetyRatings"]);return d!=null&&l(e,["safetyRatings"],d),e}function Wh(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>z1(f))),l(e,["candidates"],c)}const r=a(t,["createTime"]);r!=null&&l(e,["createTime"],r);const s=a(t,["modelVersion"]);s!=null&&l(e,["modelVersion"],s);const i=a(t,["promptFeedback"]);i!=null&&l(e,["promptFeedback"],i);const o=a(t,["responseId"]);o!=null&&l(e,["responseId"],o);const u=a(t,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function W1(t){const e={},A=a(t,["truncated"]);A!=null&&l(e,["truncated"],A);const n=a(t,["token_count"]);return n!=null&&l(e,["tokenCount"],n),e}function Y1(t){const e={},A=a(t,["values"]);A!=null&&l(e,["values"],A);const n=a(t,["statistics"]);return n!=null&&l(e,["statistics"],W1(n)),e}function q1(t){const e={},A=a(t,["billableCharacterCount"]);return A!=null&&l(e,["billableCharacterCount"],A),e}function X1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["predictions[]","embeddings"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>Y1(i))),l(e,["embeddings"],s)}const r=a(t,["metadata"]);return r!=null&&l(e,["metadata"],q1(r)),e}function Z1(t){const e={},A=a(t,["gcsUri"]);A!=null&&l(e,["gcsUri"],A);const n=a(t,["bytesBase64Encoded"]);n!=null&&l(e,["imageBytes"],sr(n));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function sw(t){const e={},A=a(t,["safetyAttributes","categories"]);A!=null&&l(e,["categories"],A);const n=a(t,["safetyAttributes","scores"]);n!=null&&l(e,["scores"],n);const r=a(t,["contentType"]);return r!=null&&l(e,["contentType"],r),e}function il(t){const e={},A=a(t,["_self"]);A!=null&&l(e,["image"],Z1(A));const n=a(t,["raiFilteredReason"]);n!=null&&l(e,["raiFilteredReason"],n);const r=a(t,["_self"]);r!=null&&l(e,["safetyAttributes"],sw(r));const s=a(t,["prompt"]);return s!=null&&l(e,["enhancedPrompt"],s),e}function j1(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["predictions"]);if(n!=null){let s=n;Array.isArray(s)&&(s=s.map(i=>il(i))),l(e,["generatedImages"],s)}const r=a(t,["positivePromptSafetyAttributes"]);return r!=null&&l(e,["positivePromptSafetyAttributes"],sw(r)),e}function eQ(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>il(s))),l(e,["generatedImages"],r)}return e}function tQ(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(s=>il(s))),l(e,["generatedImages"],r)}return e}function AQ(t){const e={},A=a(t,["predictions"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>il(r))),l(e,["generatedImages"],n)}return e}function nQ(t){const e={},A=a(t,["endpoint"]);A!=null&&l(e,["name"],A);const n=a(t,["deployedModelId"]);return n!=null&&l(e,["deployedModelId"],n),e}function rQ(t){const e={},A=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);A!=null&&l(e,["baseModel"],A);const n=a(t,["createTime"]);n!=null&&l(e,["createTime"],n);const r=a(t,["updateTime"]);return r!=null&&l(e,["updateTime"],r),e}function sQ(t){const e={},A=a(t,["checkpointId"]);A!=null&&l(e,["checkpointId"],A);const n=a(t,["epoch"]);n!=null&&l(e,["epoch"],n);const r=a(t,["step"]);return r!=null&&l(e,["step"],r),e}function _c(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["displayName"]);n!=null&&l(e,["displayName"],n);const r=a(t,["description"]);r!=null&&l(e,["description"],r);const s=a(t,["versionId"]);s!=null&&l(e,["version"],s);const i=a(t,["deployedModels"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(p=>nQ(p))),l(e,["endpoints"],d)}const o=a(t,["labels"]);o!=null&&l(e,["labels"],o);const u=a(t,["_self"]);u!=null&&l(e,["tunedModelInfo"],rQ(u));const c=a(t,["defaultCheckpointId"]);c!=null&&l(e,["defaultCheckpointId"],c);const f=a(t,["checkpoints"]);if(f!=null){let d=f;Array.isArray(d)&&(d=d.map(p=>sQ(p))),l(e,["checkpoints"],d)}return e}function iQ(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["_self"]);if(r!=null){let s=VB(r);Array.isArray(s)&&(s=s.map(i=>_c(i))),l(e,["models"],s)}return e}function oQ(){return{}}function aQ(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["totalTokens"]);return n!=null&&l(e,["totalTokens"],n),e}function lQ(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["tokensInfo"]);return n!=null&&l(e,["tokensInfo"],n),e}function uQ(t){const e={},A=a(t,["gcsUri"]);A!=null&&l(e,["uri"],A);const n=a(t,["bytesBase64Encoded"]);n!=null&&l(e,["videoBytes"],sr(n));const r=a(t,["mimeType"]);return r!=null&&l(e,["mimeType"],r),e}function cQ(t){const e={},A=a(t,["_self"]);return A!=null&&l(e,["video"],uQ(A)),e}function fQ(t){const e={},A=a(t,["videos"]);if(A!=null){let s=A;Array.isArray(s)&&(s=s.map(i=>cQ(i))),l(e,["generatedVideos"],s)}const n=a(t,["raiMediaFilteredCount"]);n!=null&&l(e,["raiMediaFilteredCount"],n);const r=a(t,["raiMediaFilteredReasons"]);return r!=null&&l(e,["raiMediaFilteredReasons"],r),e}function dQ(t){const e={},A=a(t,["name"]);A!=null&&l(e,["name"],A);const n=a(t,["metadata"]);n!=null&&l(e,["metadata"],n);const r=a(t,["done"]);r!=null&&l(e,["done"],r);const s=a(t,["error"]);s!=null&&l(e,["error"],s);const i=a(t,["response"]);return i!=null&&l(e,["response"],fQ(i)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pQ="Content-Type",hQ="X-Server-Timeout",mQ="User-Agent",Nc="x-goog-api-client",gQ="1.14.0",BQ=`google-genai-sdk/${gQ}`,wQ="v1beta1",CQ="v1beta",Yh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class vQ{constructor(e){var A,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(A=this.clientOptions.apiVersion)!==null&&A!==void 0?A:wQ,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CQ,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),A=new URL(e);return A.protocol=A.protocol=="http:"?"ws":"wss",A.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,A,n){const r=[this.getRequestUrlInternal(A)];return n&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let A=this.clientOptions.httpOptions;e.httpOptions&&(A=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,A,n);if(e.queryParams)for(const[i,o]of Object.entries(e.queryParams))r.searchParams.append(i,String(o));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,A,e.abortSignal),this.unaryApiCall(r,s,e.httpMethod)}patchHttpOptions(e,A){const n=JSON.parse(JSON.stringify(e));for(const[r,s]of Object.entries(A))typeof s=="object"?n[r]=Object.assign(Object.assign({},n[r]),s):s!==void 0&&(n[r]=s);return n}async requestStream(e){let A=this.clientOptions.httpOptions;e.httpOptions&&(A=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,A,n);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,A,e.abortSignal),this.streamApiCall(r,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,A,n){if(A&&A.timeout||n){const r=new AbortController,s=r.signal;if(A.timeout&&(A==null?void 0:A.timeout)>0){const i=setTimeout(()=>r.abort(),A.timeout);i&&typeof i.unref=="function"&&i.unref()}n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=s}return A&&A.extraBody!==null&&yQ(e,A.extraBody),e.headers=await this.getHeadersInternal(A),e}async unaryApiCall(e,A,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},A),{method:n})).then(async r=>(await qh(r),new Ec(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,A,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},A),{method:n})).then(async r=>(await qh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var A;return Pr(this,arguments,function*(){const r=(A=e==null?void 0:e.body)===null||A===void 0?void 0:A.getReader(),s=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let i="";for(;;){const{done:o,value:u}=yield Ze(r.read());if(o){if(i.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=s.decode(u,{stream:!0});try{const d=JSON.parse(c);if("error"in d){const p=JSON.parse(JSON.stringify(d.error)),g=p.status,B=p.code,m=`got status: ${g}. ${JSON.stringify(d)}`;if(B>=400&&B<600)throw new rl({message:m,status:B})}}catch(d){if(d.name==="ApiError")throw d}i+=c;let f=i.match(Yh);for(;f;){const d=f[1];try{const p=new Response(d,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ze(new Ec(p)),i=i.slice(f[0].length),f=i.match(Yh)}catch(p){throw new Error(`exception parsing stream chunk ${d}. ${p}`)}}}}finally{r.releaseLock()}})}async apiCall(e,A){return fetch(e,A).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},A=BQ+" "+this.clientOptions.userAgentExtra;return e[mQ]=A,e[Nc]=A,e[pQ]="application/json",e}async getHeadersInternal(e){const A=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))A.append(n,r);e.timeout&&e.timeout>0&&A.append(hQ,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(A),A}async uploadFile(e,A){var n;const r={};A!=null&&(r.mimeType=A.mimeType,r.name=A.name,r.displayName=A.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const s=this.clientOptions.uploader,i=await s.stat(e);r.sizeBytes=String(i.size);const o=(n=A==null?void 0:A.mimeType)!==null&&n!==void 0?n:i.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=o;const u=await this.fetchUploadUrl(r,A);return s.upload(e,u,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,A){var n;let r={};A!=null&&A.httpOptions?r=A.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},i=await this.request({path:Te("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:r});if(!i||!(i!=null&&i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const o=(n=i==null?void 0:i.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(o===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return o}}async function qh(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const A=t.status;let n;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?n=await t.json():n={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(n);throw A>=400&&A<600?new rl({message:r,status:A}):new Error(r)}}function yQ(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let A={};if(typeof t.body=="string"&&t.body.length>0)try{const s=JSON.parse(t.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))A=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function n(s,i){const o=Object.assign({},s);for(const u in i)if(Object.prototype.hasOwnProperty.call(i,u)){const c=i[u],f=o[u];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?o[u]=n(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${u}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),o[u]=c)}return o}const r=n(A,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xQ="mcp_used/unknown";let EQ=!1;function iw(t){for(const e of t)if(TQ(e)||typeof e=="object"&&"inputSchema"in e)return!0;return EQ}function ow(t){var e;const A=(e=t[Nc])!==null&&e!==void 0?e:"";t[Nc]=(A+` ${xQ}`).trimStart()}function TQ(t){return t!==null&&typeof t=="object"&&t instanceof ud}function UQ(t,e=100){return Pr(this,arguments,function*(){let n,r=0;for(;r<e;){const s=yield Ze(t.listTools({cursor:n}));for(const i of s.tools)yield yield Ze(i),r++;if(!s.nextCursor)break;n=s.nextCursor}})}class ud{constructor(e=[],A){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=A}static create(e,A){return new ud(e,A)}async initialize(){var e,A,n,r;if(this.mcpTools.length>0)return;const s={},i=[];for(const f of this.mcpClients)try{for(var o=!0,u=(A=void 0,Js(UQ(f))),c;c=await u.next(),e=c.done,!e;o=!0){r=c.value,o=!1;const d=r;i.push(d);const p=d.name;if(s[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);s[p]=f}}catch(d){A={error:d}}finally{try{!o&&!e&&(n=u.return)&&await n.call(u)}finally{if(A)throw A.error}}this.mcpTools=i,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),lE(this.mcpTools,this.config)}async callTool(e){await this.initialize();const A=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[n.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const i=await r.callTool({name:n.name,arguments:n.args},void 0,s);A.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return A}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function FQ(t,e,A){const n=new tE;let r;A.data instanceof Blob?r=JSON.parse(await A.data.text()):r=JSON.parse(A.data);const s=pS(r);Object.assign(n,s),e(n)}class SQ{constructor(e,A,n){this.apiClient=e,this.auth=A,this.webSocketFactory=n}async connect(e){var A,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),i=_Q(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),u=`${r}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${o}`;let c=()=>{};const f=new Promise(y=>{c=y}),d=e.callbacks,p=function(){c({})},g=this.apiClient,B={onopen:p,onmessage:y=>{FQ(g,d.onmessage,y)},onerror:(A=d==null?void 0:d.onerror)!==null&&A!==void 0?A:function(y){},onclose:(n=d==null?void 0:d.onclose)!==null&&n!==void 0?n:function(y){}},m=this.webSocketFactory.create(u,QQ(i),B);m.connect(),await f;const x=Ge(this.apiClient,e.model),C=ew({model:x}),w=Ic({setup:C});return m.send(JSON.stringify(w)),new IQ(m,this.apiClient)}}class IQ{constructor(e,A){this.conn=e,this.apiClient=A}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const A=cF(e),n=tw(A);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const A=fF(e),n=Ic(A);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const A=Ic({playbackControl:e});this.conn.send(JSON.stringify(A))}play(){this.sendPlaybackControl(Sr.PLAY)}pause(){this.sendPlaybackControl(Sr.PAUSE)}stop(){this.sendPlaybackControl(Sr.STOP)}resetContext(){this.sendPlaybackControl(Sr.RESET_CONTEXT)}close(){this.conn.close()}}function QQ(t){const e={};return t.forEach((A,n)=>{e[n]=A}),e}function _Q(t){const e=new Headers;for(const[A,n]of Object.entries(t))e.append(A,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NQ="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kQ(t,e,A){const n=new eE;let r;A.data instanceof Blob?r=await A.data.text():A.data instanceof ArrayBuffer?r=new TextDecoder().decode(A.data):r=A.data;const s=JSON.parse(r);if(t.isVertexAI()){const i=SS(s);Object.assign(n,i)}else{const i=sS(s);Object.assign(n,i)}e(n)}class bQ{constructor(e,A,n){this.apiClient=e,this.auth=A,this.webSocketFactory=n,this.music=new SQ(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var A,n,r,s,i,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const u=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const d=this.apiClient.getHeaders();e.config&&e.config.tools&&iw(e.config.tools)&&ow(d);const p=RQ(d);if(this.apiClient.isVertexAI())f=`${u}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p);else{const D=this.apiClient.getApiKey();let R="BidiGenerateContent",j="key";D!=null&&D.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),R="BidiGenerateContentConstrained",j="access_token"),f=`${u}/ws/google.ai.generativelanguage.${c}.GenerativeService.${R}?${j}=${D}`}let g=()=>{};const B=new Promise(D=>{g=D}),m=e.callbacks,x=function(){var D;(D=m==null?void 0:m.onopen)===null||D===void 0||D.call(m),g({})},C=this.apiClient,w={onopen:x,onmessage:D=>{kQ(C,m.onmessage,D)},onerror:(A=m==null?void 0:m.onerror)!==null&&A!==void 0?A:function(D){},onclose:(n=m==null?void 0:m.onclose)!==null&&n!==void 0?n:function(D){}},y=this.webSocketFactory.create(f,LQ(p),w);y.connect(),await B;let E=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&E.startsWith("publishers/")){const D=this.apiClient.getProject(),R=this.apiClient.getLocation();E=`projects/${D}/locations/${R}/`+E}let U={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[xa.AUDIO]}:e.config.responseModalities=[xa.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const T=(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[],Q=[];for(const D of T)if(this.isCallableTool(D)){const R=D;Q.push(await R.tool())}else Q.push(D);Q.length>0&&(e.config.tools=Q);const M={model:E,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?U=HF(this.apiClient,M):U=oF(this.apiClient,M),delete U.config,y.send(JSON.stringify(U)),new MQ(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const DQ={turnComplete:!0};class MQ{constructor(e,A){this.conn=e,this.apiClient=A}tLiveClientContent(e,A){if(A.turns!==null&&A.turns!==void 0){let n=[];try{n=cA(A.turns),e.isVertexAI()?n=n.map(r=>is(r)):n=n.map(r=>sl(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof A.turns}'`)}return{clientContent:{turns:n,turnComplete:A.turnComplete}}}return{clientContent:{turnComplete:A.turnComplete}}}tLiveClienttToolResponse(e,A){let n=[];if(A.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(A.functionResponses)?n=A.functionResponses:n=[A.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const s of n){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(NQ)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},DQ),e);const A=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(A))}sendRealtimeInput(e){let A={};this.apiClient.isVertexAI()?A={realtimeInput:VF(e)}:A={realtimeInput:uF(e)},this.conn.send(JSON.stringify(A))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const A=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(A))}close(){this.conn.close()}}function LQ(t){const e={};return t.forEach((A,n)=>{e[n]=A}),e}function RQ(t){const e=new Headers;for(const[A,n]of Object.entries(t))e.append(A,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xh=10;function Zh(t){var e,A,n;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const i of(A=t==null?void 0:t.tools)!==null&&A!==void 0?A:[])if(Hr(i)){r=!0;break}if(!r)return!0;const s=(n=t==null?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function Hr(t){return"callTool"in t&&typeof t.callTool=="function"}function PQ(t){var e,A,n;return(n=(A=(e=t.config)===null||e===void 0?void 0:e.tools)===null||A===void 0?void 0:A.some(r=>Hr(r)))!==null&&n!==void 0?n:!1}function HQ(t){var e,A,n;return(n=(A=(e=t.config)===null||e===void 0?void 0:e.tools)===null||A===void 0?void 0:A.some(r=>!Hr(r)))!==null&&n!==void 0?n:!1}function jh(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KQ extends rr{constructor(e){super(),this.apiClient=e,this.generateContent=async A=>{var n,r,s,i,o;const u=await this.processParamsMaybeAddMcpUsage(A);if(this.maybeMoveToResponseJsonSchem(A),!PQ(A)||Zh(A.config))return await this.generateContentInternal(u);if(HQ(A))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let c,f;const d=cA(u.contents),p=(s=(r=(n=u.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:Xh;let g=0;for(;g<p&&(c=await this.generateContentInternal(u),!(!c.functionCalls||c.functionCalls.length===0));){const B=c.candidates[0].content,m=[];for(const x of(o=(i=A.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Hr(x)){const w=await x.callTool(c.functionCalls);m.push(...w)}g++,f={role:"user",parts:m},u.contents=cA(u.contents),u.contents.push(B),u.contents.push(f),jh(u.config)&&(d.push(B),d.push(f))}return jh(u.config)&&(c.automaticFunctionCallingHistory=d),c},this.generateContentStream=async A=>{if(this.maybeMoveToResponseJsonSchem(A),Zh(A.config)){const n=await this.processParamsMaybeAddMcpUsage(A);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(A)},this.generateImages=async A=>await this.generateImagesInternal(A).then(n=>{var r;let s;const i=[];if(n!=null&&n.generatedImages)for(const u of n.generatedImages)u&&(u!=null&&u.safetyAttributes)&&((r=u==null?void 0:u.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?s=u==null?void 0:u.safetyAttributes:i.push(u);let o;return s?o={generatedImages:i,positivePromptSafetyAttributes:s,sdkHttpResponse:n.sdkHttpResponse}:o={generatedImages:i,sdkHttpResponse:n.sdkHttpResponse},o}),this.list=async A=>{var n;const i={config:Object.assign(Object.assign({},{queryBase:!0}),A==null?void 0:A.config)};if(this.apiClient.isVertexAI()&&!i.config.queryBase){if(!((n=i.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");i.config.filter="labels.tune-type:*"}return new Qi(er.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(i),i)},this.editImage=async A=>{const n={model:A.model,prompt:A.prompt,referenceImages:[],config:A.config};return A.referenceImages&&A.referenceImages&&(n.referenceImages=A.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async A=>{let n={numberOfImages:1,mode:"upscale"};A.config&&(n=Object.assign(Object.assign({},n),A.config));const r={model:A.model,image:A.image,upscaleFactor:A.upscaleFactor,config:n};return await this.upscaleImageInternal(r)},this.generateVideos=async A=>await this.generateVideosInternal(A)}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var A,n,r;const s=(A=e.config)===null||A===void 0?void 0:A.tools;if(!s)return e;const i=await Promise.all(s.map(async u=>Hr(u)?await u.tool():u)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(o.config.tools=i,e.config&&e.config.tools&&iw(e.config.tools)){const u=(r=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},u);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),ow(c),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:c})}return o}async initAfcToolsMap(e){var A,n,r;const s=new Map;for(const i of(n=(A=e.config)===null||A===void 0?void 0:A.tools)!==null&&n!==void 0?n:[])if(Hr(i)){const o=i,u=await o.tool();for(const c of(r=u.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(s.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);s.set(c.name,o)}}return s}async processAfcStream(e){var A,n,r;const s=(r=(n=(A=e.config)===null||A===void 0?void 0:A.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&r!==void 0?r:Xh;let i=!1,o=0;const u=await this.initAfcToolsMap(e);return function(c,f,d){var p,g;return Pr(this,arguments,function*(){for(var B,m,x,C;o<s;){i&&(o++,i=!1);const U=yield Ze(c.processParamsMaybeAddMcpUsage(d)),T=yield Ze(c.generateContentStreamInternal(U)),Q=[],M=[];try{for(var w=!0,y=(m=void 0,Js(T)),E;E=yield Ze(y.next()),B=E.done,!B;w=!0){C=E.value,w=!1;const D=C;if(yield yield Ze(D),D.candidates&&(!((p=D.candidates[0])===null||p===void 0)&&p.content)){M.push(D.candidates[0].content);for(const R of(g=D.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(o<s&&R.functionCall){if(!R.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(R.functionCall.name)){const j=yield Ze(f.get(R.functionCall.name).callTool([R.functionCall]));Q.push(...j)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${R.functionCall.name}`)}}}}catch(D){m={error:D}}finally{try{!w&&!B&&(x=y.return)&&(yield Ze(x.call(y)))}finally{if(m)throw m.error}}if(Q.length>0){i=!0;const D=new ws;D.candidates=[{content:{role:"user",parts:Q}}],yield yield Ze(D);const R=[];R.push(...M),R.push({role:"user",parts:Q});const j=cA(d.contents).concat(R);d.contents=j}else break}})}(this,u,e)}async generateContentInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=Jh(this.apiClient,e);return o=Te("{model}:generateContent",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=Wh(f),p=new ws;return Object.assign(p,d),p})}else{const c=$h(this.apiClient,e);return o=Te("{model}:generateContent",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=zh(f),p=new ws;return Object.assign(p,d),p})}}async generateContentStreamInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=Jh(this.apiClient,e);return o=Te("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),i.then(function(d){return Pr(this,arguments,function*(){var p,g,B,m;try{for(var x=!0,C=Js(d),w;w=yield Ze(C.next()),p=w.done,!p;x=!0){m=w.value,x=!1;const y=m,E=Wh(yield Ze(y.json()));E.sdkHttpResponse={headers:y.headers};const U=new ws;Object.assign(U,E),yield yield Ze(U)}}catch(y){g={error:y}}finally{try{!x&&!p&&(B=C.return)&&(yield Ze(B.call(C)))}finally{if(g)throw g.error}}})})}else{const c=$h(this.apiClient,e);return o=Te("{model}:streamGenerateContent?alt=sse",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.requestStream({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),i.then(function(d){return Pr(this,arguments,function*(){var p,g,B,m;try{for(var x=!0,C=Js(d),w;w=yield Ze(C.next()),p=w.done,!p;x=!0){m=w.value,x=!1;const y=m,E=zh(yield Ze(y.json()));E.sdkHttpResponse={headers:y.headers};const U=new ws;Object.assign(U,E),yield yield Ze(U)}}catch(y){g={error:y}}finally{try{!x&&!p&&(B=C.return)&&(yield Ze(B.call(C)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=OI(this.apiClient,e);return o=Te("{model}:predict",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=X1(f),p=new Eh;return Object.assign(p,d),p})}else{const c=eI(this.apiClient,e);return o=Te("{model}:batchEmbedContents",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=F1(f),p=new Eh;return Object.assign(p,d),p})}}async generateImagesInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=GI(this.apiClient,e);return o=Te("{model}:predict",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=j1(f),p=new Th;return Object.assign(p,d),p})}else{const c=AI(this.apiClient,e);return o=Te("{model}:predict",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=Q1(f),p=new Th;return Object.assign(p,d),p})}}async editImageInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=XI(this.apiClient,e);return s=Te("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{const c=eQ(u),f=new zx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=jI(this.apiClient,e);return s=Te("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{const c=tQ(u),f=new Wx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=n1(this.apiClient,e);return s=Te("{model}:predict",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r.then(u=>{const c=AQ(u),f=new Yx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=r1(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>_c(f))}else{const c=nI(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Qc(f))}}async listInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=i1(this.apiClient,e);return o=Te("{models_url}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=iQ(f),p=new Uh;return Object.assign(p,d),p})}else{const c=sI(this.apiClient,e);return o=Te("{models_url}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=N1(f),p=new Uh;return Object.assign(p,d),p})}}async update(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=a1(this.apiClient,e);return o=Te("{model}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>_c(f))}else{const c=oI(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>Qc(f))}}async delete(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=l1(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(()=>{const f=oQ(),d=new Fh;return Object.assign(d,f),d})}else{const c=aI(this.apiClient,e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(()=>{const f=k1(),d=new Fh;return Object.assign(d,f),d})}}async countTokens(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=c1(this.apiClient,e);return o=Te("{model}:countTokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=aQ(f),p=new Sh;return Object.assign(p,d),p})}else{const c=uI(this.apiClient,e);return o=Te("{model}:countTokens",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=b1(f),p=new Sh;return Object.assign(p,d),p})}}async computeTokens(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=f1(this.apiClient,e);return s=Te("{model}:computeTokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>{const c=lQ(u),f=new qx;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=h1(this.apiClient,e);return o=Te("{model}:predictLongRunning",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i.then(f=>{const d=dQ(f),p=new Ea;return Object.assign(p,d),p})}else{const c=dI(this.apiClient,e);return o=Te("{model}:predictLongRunning",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i.then(f=>{const d=R1(f),p=new Ea;return Object.assign(p,d),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OQ(t){const e={},A=a(t,["operationName"]);A!=null&&l(e,["_url","operationName"],A);const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function VQ(t){const e={},A=a(t,["operationName"]);A!=null&&l(e,["_url","operationName"],A);const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function GQ(t){const e={},A=a(t,["operationName"]);A!=null&&l(e,["operationName"],A);const n=a(t,["resourceName"]);n!=null&&l(e,["_url","resourceName"],n);const r=a(t,["config"]);return r!=null&&l(e,["config"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $Q extends rr{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const A=e.operation,n=e.config;if(A.name===void 0||A.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=A.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:A.name,resourceName:r,config:{httpOptions:s}});return A._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:A.name,config:n});return A._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(e){const A=e.operation,n=e.config;if(A.name===void 0||A.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=A.name.split("/operations/")[0];let s;n&&"httpOptions"in n&&(s=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:A.name,resourceName:r,config:{httpOptions:s}});return A._fromAPIResponse({apiResponse:i,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:A.name,config:n});return A._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=VQ(e);return o=Te("{operationName}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json()),i}else{const c=OQ(e);return o=Te("{operationName}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),i}}async fetchPredictVideosOperationInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=GQ(e);return s=Te("{resourceName}:fetchPredictOperation",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JQ(t){const e={},A=a(t,["voiceName"]);return A!=null&&l(e,["voiceName"],A),e}function aw(t){const e={},A=a(t,["prebuiltVoiceConfig"]);return A!=null&&l(e,["prebuiltVoiceConfig"],JQ(A)),e}function zQ(t){const e={},A=a(t,["speaker"]);A!=null&&l(e,["speaker"],A);const n=a(t,["voiceConfig"]);return n!=null&&l(e,["voiceConfig"],aw(n)),e}function WQ(t){const e={},A=a(t,["speakerVoiceConfigs"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>zQ(r))),l(e,["speakerVoiceConfigs"],n)}return e}function YQ(t){const e={},A=a(t,["voiceConfig"]);A!=null&&l(e,["voiceConfig"],aw(A));const n=a(t,["multiSpeakerVoiceConfig"]);n!=null&&l(e,["multiSpeakerVoiceConfig"],WQ(n));const r=a(t,["languageCode"]);return r!=null&&l(e,["languageCode"],r),e}function qQ(t){const e={},A=a(t,["fps"]);A!=null&&l(e,["fps"],A);const n=a(t,["endOffset"]);n!=null&&l(e,["endOffset"],n);const r=a(t,["startOffset"]);return r!=null&&l(e,["startOffset"],r),e}function XQ(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["data"]);A!=null&&l(e,["data"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function ZQ(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const A=a(t,["fileUri"]);A!=null&&l(e,["fileUri"],A);const n=a(t,["mimeType"]);return n!=null&&l(e,["mimeType"],n),e}function jQ(t){const e={},A=a(t,["videoMetadata"]);A!=null&&l(e,["videoMetadata"],qQ(A));const n=a(t,["thought"]);n!=null&&l(e,["thought"],n);const r=a(t,["inlineData"]);r!=null&&l(e,["inlineData"],XQ(r));const s=a(t,["fileData"]);s!=null&&l(e,["fileData"],ZQ(s));const i=a(t,["thoughtSignature"]);i!=null&&l(e,["thoughtSignature"],i);const o=a(t,["codeExecutionResult"]);o!=null&&l(e,["codeExecutionResult"],o);const u=a(t,["executableCode"]);u!=null&&l(e,["executableCode"],u);const c=a(t,["functionCall"]);c!=null&&l(e,["functionCall"],c);const f=a(t,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const d=a(t,["text"]);return d!=null&&l(e,["text"],d),e}function e_(t){const e={},A=a(t,["parts"]);if(A!=null){let r=A;Array.isArray(r)&&(r=r.map(s=>jQ(s))),l(e,["parts"],r)}const n=a(t,["role"]);return n!=null&&l(e,["role"],n),e}function t_(t){const e={},A=a(t,["behavior"]);A!=null&&l(e,["behavior"],A);const n=a(t,["description"]);n!=null&&l(e,["description"],n);const r=a(t,["name"]);r!=null&&l(e,["name"],r);const s=a(t,["parameters"]);s!=null&&l(e,["parameters"],s);const i=a(t,["parametersJsonSchema"]);i!=null&&l(e,["parametersJsonSchema"],i);const o=a(t,["response"]);o!=null&&l(e,["response"],o);const u=a(t,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function A_(t){const e={},A=a(t,["startTime"]);A!=null&&l(e,["startTime"],A);const n=a(t,["endTime"]);return n!=null&&l(e,["endTime"],n),e}function n_(t){const e={},A=a(t,["timeRangeFilter"]);if(A!=null&&l(e,["timeRangeFilter"],A_(A)),a(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function r_(t){const e={},A=a(t,["mode"]);A!=null&&l(e,["mode"],A);const n=a(t,["dynamicThreshold"]);return n!=null&&l(e,["dynamicThreshold"],n),e}function s_(t){const e={},A=a(t,["dynamicRetrievalConfig"]);return A!=null&&l(e,["dynamicRetrievalConfig"],r_(A)),e}function i_(){return{}}function o_(t){const e={},A=a(t,["environment"]);return A!=null&&l(e,["environment"],A),e}function a_(t){const e={},A=a(t,["functionDeclarations"]);if(A!=null){let u=A;Array.isArray(u)&&(u=u.map(c=>t_(c))),l(e,["functionDeclarations"],u)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=a(t,["googleSearch"]);n!=null&&l(e,["googleSearch"],n_(n));const r=a(t,["googleSearchRetrieval"]);if(r!=null&&l(e,["googleSearchRetrieval"],s_(r)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&l(e,["urlContext"],i_());const i=a(t,["computerUse"]);i!=null&&l(e,["computerUse"],o_(i));const o=a(t,["codeExecution"]);return o!=null&&l(e,["codeExecution"],o),e}function l_(t){const e={},A=a(t,["handle"]);if(A!=null&&l(e,["handle"],A),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function em(){return{}}function u_(t){const e={},A=a(t,["disabled"]);A!=null&&l(e,["disabled"],A);const n=a(t,["startOfSpeechSensitivity"]);n!=null&&l(e,["startOfSpeechSensitivity"],n);const r=a(t,["endOfSpeechSensitivity"]);r!=null&&l(e,["endOfSpeechSensitivity"],r);const s=a(t,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const i=a(t,["silenceDurationMs"]);return i!=null&&l(e,["silenceDurationMs"],i),e}function c_(t){const e={},A=a(t,["automaticActivityDetection"]);A!=null&&l(e,["automaticActivityDetection"],u_(A));const n=a(t,["activityHandling"]);n!=null&&l(e,["activityHandling"],n);const r=a(t,["turnCoverage"]);return r!=null&&l(e,["turnCoverage"],r),e}function f_(t){const e={},A=a(t,["targetTokens"]);return A!=null&&l(e,["targetTokens"],A),e}function d_(t){const e={},A=a(t,["triggerTokens"]);A!=null&&l(e,["triggerTokens"],A);const n=a(t,["slidingWindow"]);return n!=null&&l(e,["slidingWindow"],f_(n)),e}function p_(t){const e={},A=a(t,["proactiveAudio"]);return A!=null&&l(e,["proactiveAudio"],A),e}function h_(t,e){const A={},n=a(t,["generationConfig"]);e!==void 0&&n!=null&&l(e,["setup","generationConfig"],n);const r=a(t,["responseModalities"]);e!==void 0&&r!=null&&l(e,["setup","generationConfig","responseModalities"],r);const s=a(t,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const i=a(t,["topP"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","topP"],i);const o=a(t,["topK"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig","topK"],o);const u=a(t,["maxOutputTokens"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","maxOutputTokens"],u);const c=a(t,["mediaResolution"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","mediaResolution"],c);const f=a(t,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const d=a(t,["speechConfig"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","speechConfig"],YQ(ld(d)));const p=a(t,["enableAffectiveDialog"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],p);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&l(e,["setup","systemInstruction"],e_(Qt(g)));const B=a(t,["tools"]);if(e!==void 0&&B!=null){let U=rs(B);Array.isArray(U)&&(U=U.map(T=>a_(ns(T)))),l(e,["setup","tools"],U)}const m=a(t,["sessionResumption"]);e!==void 0&&m!=null&&l(e,["setup","sessionResumption"],l_(m));const x=a(t,["inputAudioTranscription"]);e!==void 0&&x!=null&&l(e,["setup","inputAudioTranscription"],em());const C=a(t,["outputAudioTranscription"]);e!==void 0&&C!=null&&l(e,["setup","outputAudioTranscription"],em());const w=a(t,["realtimeInputConfig"]);e!==void 0&&w!=null&&l(e,["setup","realtimeInputConfig"],c_(w));const y=a(t,["contextWindowCompression"]);e!==void 0&&y!=null&&l(e,["setup","contextWindowCompression"],d_(y));const E=a(t,["proactivity"]);return e!==void 0&&E!=null&&l(e,["setup","proactivity"],p_(E)),A}function m_(t,e){const A={},n=a(e,["model"]);n!=null&&l(A,["setup","model"],Ge(t,n));const r=a(e,["config"]);return r!=null&&l(A,["config"],h_(r,A)),A}function g_(t,e,A){const n={},r=a(e,["expireTime"]);A!==void 0&&r!=null&&l(A,["expireTime"],r);const s=a(e,["newSessionExpireTime"]);A!==void 0&&s!=null&&l(A,["newSessionExpireTime"],s);const i=a(e,["uses"]);A!==void 0&&i!=null&&l(A,["uses"],i);const o=a(e,["liveConnectConstraints"]);A!==void 0&&o!=null&&l(A,["bidiGenerateContentSetup"],m_(t,o));const u=a(e,["lockAdditionalFields"]);return A!==void 0&&u!=null&&l(A,["fieldMask"],u),n}function B_(t,e){const A={},n=a(e,["config"]);return n!=null&&l(A,["config"],g_(t,n,A)),A}function w_(t){const e={},A=a(t,["name"]);return A!=null&&l(e,["name"],A),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C_(t){const e=[];for(const A in t)if(Object.prototype.hasOwnProperty.call(t,A)){const n=t[A];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const r=Object.keys(n).map(s=>`${A}.${s}`);e.push(...r)}else e.push(A)}return e.join(",")}function v_(t,e){let A=null;const n=t.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const s=n.setup;typeof s=="object"&&s!==null?(t.bidiGenerateContentSetup=s,A=s):delete t.bidiGenerateContentSetup}else n!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(A){const s=C_(A);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?t.fieldMask=s:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const i=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];r.length>0&&(o=r.map(c=>i.includes(c)?`generationConfig.${c}`:c));const u=[];s&&u.push(s),o.length>0&&u.push(...o),u.length>0?t.fieldMask=u.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class y_ extends rr{constructor(e){super(),this.apiClient=e}async create(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=B_(this.apiClient,e);s=Te("auth_tokens",o._url),i=o._query,delete o.config,delete o._url,delete o._query;const u=v_(o,e.config);return r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(c=>c.json()),r.then(c=>w_(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x_(t){const e={},A=a(t,["name"]);A!=null&&l(e,["_url","name"],A);const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function E_(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),A}function T_(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],E_(A,e)),e}function U_(t){const e={},A=a(t,["textInput"]);A!=null&&l(e,["textInput"],A);const n=a(t,["output"]);return n!=null&&l(e,["output"],n),e}function F_(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const A=a(t,["examples"]);if(A!=null){let n=A;Array.isArray(n)&&(n=n.map(r=>U_(r))),l(e,["examples","examples"],n)}return e}function S_(t,e){const A={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const n=a(t,["tunedModelDisplayName"]);if(e!==void 0&&n!=null&&l(e,["displayName"],n),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=a(t,["epochCount"]);e!==void 0&&r!=null&&l(e,["tuningTask","hyperparameters","epochCount"],r);const s=a(t,["learningRateMultiplier"]);if(s!=null&&l(A,["tuningTask","hyperparameters","learningRateMultiplier"],s),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const i=a(t,["batchSize"]);e!==void 0&&i!=null&&l(e,["tuningTask","hyperparameters","batchSize"],i);const o=a(t,["learningRate"]);return e!==void 0&&o!=null&&l(e,["tuningTask","hyperparameters","learningRate"],o),A}function I_(t){const e={},A=a(t,["baseModel"]);A!=null&&l(e,["baseModel"],A);const n=a(t,["preTunedModel"]);n!=null&&l(e,["preTunedModel"],n);const r=a(t,["trainingDataset"]);r!=null&&l(e,["tuningTask","trainingData"],F_(r));const s=a(t,["config"]);return s!=null&&l(e,["config"],S_(s,e)),e}function Q_(t){const e={},A=a(t,["name"]);A!=null&&l(e,["_url","name"],A);const n=a(t,["config"]);return n!=null&&l(e,["config"],n),e}function __(t,e){const A={},n=a(t,["pageSize"]);e!==void 0&&n!=null&&l(e,["_query","pageSize"],n);const r=a(t,["pageToken"]);e!==void 0&&r!=null&&l(e,["_query","pageToken"],r);const s=a(t,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),A}function N_(t){const e={},A=a(t,["config"]);return A!=null&&l(e,["config"],__(A,e)),e}function k_(t,e){const A={},n=a(t,["gcsUri"]);e!==void 0&&n!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],n);const r=a(t,["vertexDatasetResource"]);if(e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],r),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return A}function b_(t,e){const A={},n=a(t,["gcsUri"]);n!=null&&l(A,["validationDatasetUri"],n);const r=a(t,["vertexDatasetResource"]);return e!==void 0&&r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],r),A}function D_(t,e){const A={},n=a(t,["validationDataset"]);e!==void 0&&n!=null&&l(e,["supervisedTuningSpec"],b_(n,A));const r=a(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&l(e,["tunedModelDisplayName"],r);const s=a(t,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);const i=a(t,["epochCount"]);e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],i);const o=a(t,["learningRateMultiplier"]);e!==void 0&&o!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],o);const u=a(t,["exportLastCheckpointOnly"]);e!==void 0&&u!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],u);const c=a(t,["preTunedModelCheckpointId"]);c!=null&&l(A,["preTunedModel","checkpointId"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return A}function M_(t){const e={},A=a(t,["baseModel"]);A!=null&&l(e,["baseModel"],A);const n=a(t,["preTunedModel"]);n!=null&&l(e,["preTunedModel"],n);const r=a(t,["trainingDataset"]);r!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],k_(r,e));const s=a(t,["config"]);return s!=null&&l(e,["config"],D_(s,e)),e}function L_(t){const e={},A=a(t,["name"]);A!=null&&l(e,["model"],A);const n=a(t,["name"]);return n!=null&&l(e,["endpoint"],n),e}function lw(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["state"]);r!=null&&l(e,["state"],HB(r));const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const i=a(t,["tuningTask","startTime"]);i!=null&&l(e,["startTime"],i);const o=a(t,["tuningTask","completeTime"]);o!=null&&l(e,["endTime"],o);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&l(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&l(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&l(e,["tunedModel"],L_(d));const p=a(t,["customBaseModel"]);p!=null&&l(e,["customBaseModel"],p);const g=a(t,["experiment"]);g!=null&&l(e,["experiment"],g);const B=a(t,["labels"]);B!=null&&l(e,["labels"],B);const m=a(t,["outputUri"]);m!=null&&l(e,["outputUri"],m);const x=a(t,["pipelineJob"]);x!=null&&l(e,["pipelineJob"],x);const C=a(t,["serviceAccount"]);C!=null&&l(e,["serviceAccount"],C);const w=a(t,["tunedModelDisplayName"]);return w!=null&&l(e,["tunedModelDisplayName"],w),e}function R_(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["tunedModels"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>lw(i))),l(e,["tuningJobs"],s)}return e}function P_(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["metadata"]);r!=null&&l(e,["metadata"],r);const s=a(t,["done"]);s!=null&&l(e,["done"],s);const i=a(t,["error"]);return i!=null&&l(e,["error"],i),e}function H_(t){const e={},A=a(t,["checkpointId"]);A!=null&&l(e,["checkpointId"],A);const n=a(t,["epoch"]);n!=null&&l(e,["epoch"],n);const r=a(t,["step"]);r!=null&&l(e,["step"],r);const s=a(t,["endpoint"]);return s!=null&&l(e,["endpoint"],s),e}function K_(t){const e={},A=a(t,["model"]);A!=null&&l(e,["model"],A);const n=a(t,["endpoint"]);n!=null&&l(e,["endpoint"],n);const r=a(t,["checkpoints"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>H_(i))),l(e,["checkpoints"],s)}return e}function kc(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["name"]);n!=null&&l(e,["name"],n);const r=a(t,["state"]);r!=null&&l(e,["state"],HB(r));const s=a(t,["createTime"]);s!=null&&l(e,["createTime"],s);const i=a(t,["startTime"]);i!=null&&l(e,["startTime"],i);const o=a(t,["endTime"]);o!=null&&l(e,["endTime"],o);const u=a(t,["updateTime"]);u!=null&&l(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&l(e,["error"],c);const f=a(t,["description"]);f!=null&&l(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&l(e,["baseModel"],d);const p=a(t,["tunedModel"]);p!=null&&l(e,["tunedModel"],K_(p));const g=a(t,["preTunedModel"]);g!=null&&l(e,["preTunedModel"],g);const B=a(t,["supervisedTuningSpec"]);B!=null&&l(e,["supervisedTuningSpec"],B);const m=a(t,["tuningDataStats"]);m!=null&&l(e,["tuningDataStats"],m);const x=a(t,["encryptionSpec"]);x!=null&&l(e,["encryptionSpec"],x);const C=a(t,["partnerModelTuningSpec"]);C!=null&&l(e,["partnerModelTuningSpec"],C);const w=a(t,["customBaseModel"]);w!=null&&l(e,["customBaseModel"],w);const y=a(t,["experiment"]);y!=null&&l(e,["experiment"],y);const E=a(t,["labels"]);E!=null&&l(e,["labels"],E);const U=a(t,["outputUri"]);U!=null&&l(e,["outputUri"],U);const T=a(t,["pipelineJob"]);T!=null&&l(e,["pipelineJob"],T);const Q=a(t,["serviceAccount"]);Q!=null&&l(e,["serviceAccount"],Q);const M=a(t,["tunedModelDisplayName"]);return M!=null&&l(e,["tunedModelDisplayName"],M),e}function O_(t){const e={},A=a(t,["sdkHttpResponse"]);A!=null&&l(e,["sdkHttpResponse"],A);const n=a(t,["nextPageToken"]);n!=null&&l(e,["nextPageToken"],n);const r=a(t,["tuningJobs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(i=>kc(i))),l(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class V_ extends rr{constructor(e){super(),this.apiClient=e,this.get=async A=>await this.getInternal(A),this.list=async(A={})=>new Qi(er.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(A),A),this.tune=async A=>{if(this.apiClient.isVertexAI())if(A.baseModel.startsWith("projects/")){const n={tunedModelName:A.baseModel},r=Object.assign(Object.assign({},A),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}else{const n=Object.assign({},A);return await this.tuneInternal(n)}else{const n=Object.assign({},A),r=await this.tuneMldevInternal(n);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:xc.JOB_STATE_QUEUED}}}}async getInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=Q_(e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>kc(f))}else{const c=x_(e);return o=Te("{name}",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>lw(f))}}async listInternal(e){var A,n,r,s;let i,o="",u={};if(this.apiClient.isVertexAI()){const c=N_(e);return o=Te("tuningJobs",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=O_(f),p=new Qh;return Object.assign(p,d),p})}else{const c=T_(e);return o=Te("tunedModels",c._url),u=c._query,delete c.config,delete c._url,delete c._query,i=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(d=>{const p=d;return p.sdkHttpResponse={headers:f.headers},p})),i.then(f=>{const d=R_(f),p=new Qh;return Object.assign(p,d),p})}}async tuneInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI()){const o=M_(e);return s=Te("tuningJobs",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>kc(u))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var A,n;let r,s="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=I_(e);return s=Te("tunedModels",o._url),i=o._query,delete o.config,delete o._url,delete o._query,r=this.apiClient.request({path:s,queryParams:i,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(A=e.config)===null||A===void 0?void 0:A.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(u=>u.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:u.headers},f})),r.then(u=>P_(u))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G_{async download(e,A){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const $_=1024*1024*8,J_=3,z_=1e3,W_=2,jl="x-goog-upload-status";async function Y_(t,e,A){var n,r,s;let i=0,o=0,u=new Ec(new Response),c="upload";for(i=t.size;o<i;){const d=Math.min($_,i-o),p=t.slice(o,o+d);o+d>=i&&(c+=", finalize");let g=0,B=z_;for(;g<J_&&(u=await A.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(o),"Content-Length":String(d)}}}),!(!((n=u==null?void 0:u.headers)===null||n===void 0)&&n[jl]));)g++,await X_(B),B=B*W_;if(o+=d,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[jl])!=="active")break;if(i<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(u==null?void 0:u.json());if(((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s[jl])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function q_(t){return{size:t.size,type:t.type}}function X_(t){return new Promise(e=>setTimeout(e,t))}class Z_{async upload(e,A,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Y_(e,A,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await q_(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j_{create(e,A,n){return new e2(e,A,n)}}class e2{constructor(e,A,n){this.url=e,this.headers=A,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tm="x-goog-api-key";class t2{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(tm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(tm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A2="gl-node/";class n2{constructor(e){var A;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(A=e.vertexai)!==null&&A!==void 0?A:!1,this.apiKey=e.apiKey;const n=Jx(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new t2(this.apiKey);this.apiClient=new vQ({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:A2+"web",uploader:new Z_,downloader:new G_}),this.models=new KQ(this.apiClient),this.live=new bQ(this.apiClient,r,new j_),this.batches=new gT(this.apiClient),this.chats=new xU(this.models,this.apiClient),this.caches=new CU(this.apiClient),this.files=new MU(this.apiClient),this.operations=new $Q(this.apiClient),this.authTokens=new y_(this.apiClient),this.tunings=new V_(this.apiClient)}}const r2={};let eu=null;const s2=()=>{const t=r2;if(!t)throw new Error("빌드 환경 오류: import.meta.env가 정의되지 않았습니다. Vite와 같은 빌드 도구로 앱이 빌드되었는지 확인하세요.");const e=t.VITE_API_KEY;if(!e||!e.trim())throw console.error("[geminiService] 🚨 VITE_API_KEY 환경변수 미설정 또는 빈 값"),new Error("Gemini API Key가 설정되지 않았습니다. VITE_API_KEY 환경변수를 확인해주세요.");return eu||(eu=new n2({apiKey:e}),console.info("[geminiService] GoogleGenAI 클라이언트 초기화 완료")),eu},i2=2e4,o2=3,a2=1e3;async function l2(t){return new Promise(e=>setTimeout(e,t))}async function u2(t,e,A,n){let r;for(let s=0;s<=e;s++)try{return await t()}catch(i){if(r=i,!n(i)||s===e)break;const u=A*2**s;console.warn(`[geminiService] ${s+1}차 재시도 - ${u}ms 후 다시 시도합니다`),await l2(u)}throw r}const cd=async(t,e,A,n={})=>{const r=s2(),s=[{text:A},{inlineData:{mimeType:e,data:t}}],i="gemini-2.5-flash",o=async()=>(await r.models.generateContent({model:i,contents:{parts:s},config:n,axiosRequestConfig:{timeout:i2}})).text,u=c=>{var d,p;const f=(d=c.response)==null?void 0:d.status;return f!==void 0&&f>=500&&f<600||((p=c.message)==null?void 0:p.toLowerCase().includes("internal error encountered"))};try{const c=await u2(o,o2,a2,u);return console.debug("[geminiService] 최종 추출 텍스트:",c),c}catch(c){throw console.error("[geminiService] 모든 재시도 실패:",c.message),c.message.includes("API Key not valid")?new Error("유효하지 않은 Gemini API Key입니다. VITE_API_KEY 환경변수를 확인해주세요."):c.message.includes("Quota exceeded")?new Error("Gemini API 할당량을 초과했습니다. 사용량을 확인해주세요."):new Error(c.message||"Gemini API 통신 중 알 수 없는 오류가 발생했습니다.")}};function uw(t,e){return function(){return t.apply(e,arguments)}}const{toString:c2}=Object.prototype,{getPrototypeOf:fd}=Object,{iterator:ol,toStringTag:cw}=Symbol,al=(t=>e=>{const A=c2.call(e);return t[A]||(t[A]=A.slice(8,-1).toLowerCase())})(Object.create(null)),yA=t=>(t=t.toLowerCase(),e=>al(e)===t),ll=t=>e=>typeof e===t,{isArray:as}=Array,hi=ll("undefined");function _i(t){return t!==null&&!hi(t)&&t.constructor!==null&&!hi(t.constructor)&&Jt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fw=yA("ArrayBuffer");function f2(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fw(t.buffer),e}const d2=ll("string"),Jt=ll("function"),dw=ll("number"),Ni=t=>t!==null&&typeof t=="object",p2=t=>t===!0||t===!1,Jo=t=>{if(al(t)!=="object")return!1;const e=fd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(cw in t)&&!(ol in t)},h2=t=>{if(!Ni(t)||_i(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},m2=yA("Date"),g2=yA("File"),B2=yA("Blob"),w2=yA("FileList"),C2=t=>Ni(t)&&Jt(t.pipe),v2=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jt(t.append)&&((e=al(t))==="formdata"||e==="object"&&Jt(t.toString)&&t.toString()==="[object FormData]"))},y2=yA("URLSearchParams"),[x2,E2,T2,U2]=["ReadableStream","Request","Response","Headers"].map(yA),F2=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ki(t,e,{allOwnKeys:A=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),as(t))for(n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else{if(_i(t))return;const s=A?Object.getOwnPropertyNames(t):Object.keys(t),i=s.length;let o;for(n=0;n<i;n++)o=s[n],e.call(null,t[o],o,t)}}function pw(t,e){if(_i(t))return null;e=e.toLowerCase();const A=Object.keys(t);let n=A.length,r;for(;n-- >0;)if(r=A[n],e===r.toLowerCase())return r;return null}const Hn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,hw=t=>!hi(t)&&t!==Hn;function bc(){const{caseless:t}=hw(this)&&this||{},e={},A=(n,r)=>{const s=t&&pw(e,r)||r;Jo(e[s])&&Jo(n)?e[s]=bc(e[s],n):Jo(n)?e[s]=bc({},n):as(n)?e[s]=n.slice():e[s]=n};for(let n=0,r=arguments.length;n<r;n++)arguments[n]&&ki(arguments[n],A);return e}const S2=(t,e,A,{allOwnKeys:n}={})=>(ki(e,(r,s)=>{A&&Jt(r)?t[s]=uw(r,A):t[s]=r},{allOwnKeys:n}),t),I2=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Q2=(t,e,A,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),A&&Object.assign(t.prototype,A)},_2=(t,e,A,n)=>{let r,s,i;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),s=r.length;s-- >0;)i=r[s],(!n||n(i,t,e))&&!o[i]&&(e[i]=t[i],o[i]=!0);t=A!==!1&&fd(t)}while(t&&(!A||A(t,e))&&t!==Object.prototype);return e},N2=(t,e,A)=>{t=String(t),(A===void 0||A>t.length)&&(A=t.length),A-=e.length;const n=t.indexOf(e,A);return n!==-1&&n===A},k2=t=>{if(!t)return null;if(as(t))return t;let e=t.length;if(!dw(e))return null;const A=new Array(e);for(;e-- >0;)A[e]=t[e];return A},b2=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fd(Uint8Array)),D2=(t,e)=>{const n=(t&&t[ol]).call(t);let r;for(;(r=n.next())&&!r.done;){const s=r.value;e.call(t,s[0],s[1])}},M2=(t,e)=>{let A;const n=[];for(;(A=t.exec(e))!==null;)n.push(A);return n},L2=yA("HTMLFormElement"),R2=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(A,n,r){return n.toUpperCase()+r}),Am=(({hasOwnProperty:t})=>(e,A)=>t.call(e,A))(Object.prototype),P2=yA("RegExp"),mw=(t,e)=>{const A=Object.getOwnPropertyDescriptors(t),n={};ki(A,(r,s)=>{let i;(i=e(r,s,t))!==!1&&(n[s]=i||r)}),Object.defineProperties(t,n)},H2=t=>{mw(t,(e,A)=>{if(Jt(t)&&["arguments","caller","callee"].indexOf(A)!==-1)return!1;const n=t[A];if(Jt(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+A+"'")})}})},K2=(t,e)=>{const A={},n=r=>{r.forEach(s=>{A[s]=!0})};return as(t)?n(t):n(String(t).split(e)),A},O2=()=>{},V2=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function G2(t){return!!(t&&Jt(t.append)&&t[cw]==="FormData"&&t[ol])}const $2=t=>{const e=new Array(10),A=(n,r)=>{if(Ni(n)){if(e.indexOf(n)>=0)return;if(_i(n))return n;if(!("toJSON"in n)){e[r]=n;const s=as(n)?[]:{};return ki(n,(i,o)=>{const u=A(i,r+1);!hi(u)&&(s[o]=u)}),e[r]=void 0,s}}return n};return A(t,0)},J2=yA("AsyncFunction"),z2=t=>t&&(Ni(t)||Jt(t))&&Jt(t.then)&&Jt(t.catch),gw=((t,e)=>t?setImmediate:e?((A,n)=>(Hn.addEventListener("message",({source:r,data:s})=>{r===Hn&&s===A&&n.length&&n.shift()()},!1),r=>{n.push(r),Hn.postMessage(A,"*")}))(`axios@${Math.random()}`,[]):A=>setTimeout(A))(typeof setImmediate=="function",Jt(Hn.postMessage)),W2=typeof queueMicrotask<"u"?queueMicrotask.bind(Hn):typeof process<"u"&&process.nextTick||gw,Y2=t=>t!=null&&Jt(t[ol]),ie={isArray:as,isArrayBuffer:fw,isBuffer:_i,isFormData:v2,isArrayBufferView:f2,isString:d2,isNumber:dw,isBoolean:p2,isObject:Ni,isPlainObject:Jo,isEmptyObject:h2,isReadableStream:x2,isRequest:E2,isResponse:T2,isHeaders:U2,isUndefined:hi,isDate:m2,isFile:g2,isBlob:B2,isRegExp:P2,isFunction:Jt,isStream:C2,isURLSearchParams:y2,isTypedArray:b2,isFileList:w2,forEach:ki,merge:bc,extend:S2,trim:F2,stripBOM:I2,inherits:Q2,toFlatObject:_2,kindOf:al,kindOfTest:yA,endsWith:N2,toArray:k2,forEachEntry:D2,matchAll:M2,isHTMLForm:L2,hasOwnProperty:Am,hasOwnProp:Am,reduceDescriptors:mw,freezeMethods:H2,toObjectSet:K2,toCamelCase:R2,noop:O2,toFiniteNumber:V2,findKey:pw,global:Hn,isContextDefined:hw,isSpecCompliantForm:G2,toJSONObject:$2,isAsyncFn:J2,isThenable:z2,setImmediate:gw,asap:W2,isIterable:Y2};function Fe(t,e,A,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),A&&(this.config=A),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}ie.inherits(Fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.status}}});const Bw=Fe.prototype,ww={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{ww[t]={value:t}});Object.defineProperties(Fe,ww);Object.defineProperty(Bw,"isAxiosError",{value:!0});Fe.from=(t,e,A,n,r,s)=>{const i=Object.create(Bw);return ie.toFlatObject(t,i,function(u){return u!==Error.prototype},o=>o!=="isAxiosError"),Fe.call(i,t.message,e,A,n,r),i.cause=t,i.name=t.name,s&&Object.assign(i,s),i};const q2=null;function Dc(t){return ie.isPlainObject(t)||ie.isArray(t)}function Cw(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function nm(t,e,A){return t?t.concat(e).map(function(r,s){return r=Cw(r),!A&&s?"["+r+"]":r}).join(A?".":""):e}function X2(t){return ie.isArray(t)&&!t.some(Dc)}const Z2=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function ul(t,e,A){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,A=ie.toFlatObject(A,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,x){return!ie.isUndefined(x[m])});const n=A.metaTokens,r=A.visitor||f,s=A.dots,i=A.indexes,u=(A.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(r))throw new TypeError("visitor must be a function");function c(B){if(B===null)return"";if(ie.isDate(B))return B.toISOString();if(ie.isBoolean(B))return B.toString();if(!u&&ie.isBlob(B))throw new Fe("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(B)||ie.isTypedArray(B)?u&&typeof Blob=="function"?new Blob([B]):Buffer.from(B):B}function f(B,m,x){let C=B;if(B&&!x&&typeof B=="object"){if(ie.endsWith(m,"{}"))m=n?m:m.slice(0,-2),B=JSON.stringify(B);else if(ie.isArray(B)&&X2(B)||(ie.isFileList(B)||ie.endsWith(m,"[]"))&&(C=ie.toArray(B)))return m=Cw(m),C.forEach(function(y,E){!(ie.isUndefined(y)||y===null)&&e.append(i===!0?nm([m],E,s):i===null?m:m+"[]",c(y))}),!1}return Dc(B)?!0:(e.append(nm(x,m,s),c(B)),!1)}const d=[],p=Object.assign(Z2,{defaultVisitor:f,convertValue:c,isVisitable:Dc});function g(B,m){if(!ie.isUndefined(B)){if(d.indexOf(B)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(B),ie.forEach(B,function(C,w){(!(ie.isUndefined(C)||C===null)&&r.call(e,C,ie.isString(w)?w.trim():w,m,p))===!0&&g(C,m?m.concat(w):[w])}),d.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return g(t),e}function rm(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function dd(t,e){this._pairs=[],t&&ul(t,this,e)}const vw=dd.prototype;vw.append=function(e,A){this._pairs.push([e,A])};vw.toString=function(e){const A=e?function(n){return e.call(this,n,rm)}:rm;return this._pairs.map(function(r){return A(r[0])+"="+A(r[1])},"").join("&")};function j2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function yw(t,e,A){if(!e)return t;const n=A&&A.encode||j2;ie.isFunction(A)&&(A={serialize:A});const r=A&&A.serialize;let s;if(r?s=r(e,A):s=ie.isURLSearchParams(e)?e.toString():new dd(e,A).toString(n),s){const i=t.indexOf("#");i!==-1&&(t=t.slice(0,i)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class sm{constructor(){this.handlers=[]}use(e,A,n){return this.handlers.push({fulfilled:e,rejected:A,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(n){n!==null&&e(n)})}}const xw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},eN=typeof URLSearchParams<"u"?URLSearchParams:dd,tN=typeof FormData<"u"?FormData:null,AN=typeof Blob<"u"?Blob:null,nN={isBrowser:!0,classes:{URLSearchParams:eN,FormData:tN,Blob:AN},protocols:["http","https","file","blob","url","data"]},pd=typeof window<"u"&&typeof document<"u",Mc=typeof navigator=="object"&&navigator||void 0,rN=pd&&(!Mc||["ReactNative","NativeScript","NS"].indexOf(Mc.product)<0),sN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",iN=pd&&window.location.href||"http://localhost",oN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:pd,hasStandardBrowserEnv:rN,hasStandardBrowserWebWorkerEnv:sN,navigator:Mc,origin:iN},Symbol.toStringTag,{value:"Module"})),It={...oN,...nN};function aN(t,e){return ul(t,new It.classes.URLSearchParams,{visitor:function(A,n,r,s){return It.isNode&&ie.isBuffer(A)?(this.append(n,A.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function lN(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uN(t){const e={},A=Object.keys(t);let n;const r=A.length;let s;for(n=0;n<r;n++)s=A[n],e[s]=t[s];return e}function Ew(t){function e(A,n,r,s){let i=A[s++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),u=s>=A.length;return i=!i&&ie.isArray(r)?r.length:i,u?(ie.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!o):((!r[i]||!ie.isObject(r[i]))&&(r[i]=[]),e(A,n,r[i],s)&&ie.isArray(r[i])&&(r[i]=uN(r[i])),!o)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const A={};return ie.forEachEntry(t,(n,r)=>{e(lN(n),r,A,0)}),A}return null}function cN(t,e,A){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(A||JSON.stringify)(t)}const bi={transitional:xw,adapter:["xhr","http","fetch"],transformRequest:[function(e,A){const n=A.getContentType()||"",r=n.indexOf("application/json")>-1,s=ie.isObject(e);if(s&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return r?JSON.stringify(Ew(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e)||ie.isReadableStream(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return A.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return aN(e,this.formSerializer).toString();if((o=ie.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return ul(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||r?(A.setContentType("application/json",!1),cN(e)):e}],transformResponse:[function(e){const A=this.transitional||bi.transitional,n=A&&A.forcedJSONParsing,r=this.responseType==="json";if(ie.isResponse(e)||ie.isReadableStream(e))return e;if(e&&ie.isString(e)&&(n&&!this.responseType||r)){const i=!(A&&A.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?Fe.from(o,Fe.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:It.classes.FormData,Blob:It.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{bi.headers[t]={}});const fN=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dN=t=>{const e={};let A,n,r;return t&&t.split(`
`).forEach(function(i){r=i.indexOf(":"),A=i.substring(0,r).trim().toLowerCase(),n=i.substring(r+1).trim(),!(!A||e[A]&&fN[A])&&(A==="set-cookie"?e[A]?e[A].push(n):e[A]=[n]:e[A]=e[A]?e[A]+", "+n:n)}),e},im=Symbol("internals");function Cs(t){return t&&String(t).trim().toLowerCase()}function zo(t){return t===!1||t==null?t:ie.isArray(t)?t.map(zo):String(t)}function pN(t){const e=Object.create(null),A=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=A.exec(t);)e[n[1]]=n[2];return e}const hN=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function tu(t,e,A,n,r){if(ie.isFunction(n))return n.call(this,e,A);if(r&&(e=A),!!ie.isString(e)){if(ie.isString(n))return e.indexOf(n)!==-1;if(ie.isRegExp(n))return n.test(e)}}function mN(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,A,n)=>A.toUpperCase()+n)}function gN(t,e){const A=ie.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+A,{value:function(r,s,i){return this[n].call(this,e,r,s,i)},configurable:!0})})}let zt=class{constructor(e){e&&this.set(e)}set(e,A,n){const r=this;function s(o,u,c){const f=Cs(u);if(!f)throw new Error("header name must be a non-empty string");const d=ie.findKey(r,f);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||u]=zo(o))}const i=(o,u)=>ie.forEach(o,(c,f)=>s(c,f,u));if(ie.isPlainObject(e)||e instanceof this.constructor)i(e,A);else if(ie.isString(e)&&(e=e.trim())&&!hN(e))i(dN(e),A);else if(ie.isObject(e)&&ie.isIterable(e)){let o={},u,c;for(const f of e){if(!ie.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[c=f[0]]=(u=o[c])?ie.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}i(o,A)}else e!=null&&s(A,e,n);return this}get(e,A){if(e=Cs(e),e){const n=ie.findKey(this,e);if(n){const r=this[n];if(!A)return r;if(A===!0)return pN(r);if(ie.isFunction(A))return A.call(this,r,n);if(ie.isRegExp(A))return A.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,A){if(e=Cs(e),e){const n=ie.findKey(this,e);return!!(n&&this[n]!==void 0&&(!A||tu(this,this[n],n,A)))}return!1}delete(e,A){const n=this;let r=!1;function s(i){if(i=Cs(i),i){const o=ie.findKey(n,i);o&&(!A||tu(n,n[o],o,A))&&(delete n[o],r=!0)}}return ie.isArray(e)?e.forEach(s):s(e),r}clear(e){const A=Object.keys(this);let n=A.length,r=!1;for(;n--;){const s=A[n];(!e||tu(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const A=this,n={};return ie.forEach(this,(r,s)=>{const i=ie.findKey(n,s);if(i){A[i]=zo(r),delete A[s];return}const o=e?mN(s):String(s).trim();o!==s&&delete A[s],A[o]=zo(r),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const A=Object.create(null);return ie.forEach(this,(n,r)=>{n!=null&&n!==!1&&(A[r]=e&&ie.isArray(n)?n.join(", "):n)}),A}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,A])=>e+": "+A).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...A){const n=new this(e);return A.forEach(r=>n.set(r)),n}static accessor(e){const n=(this[im]=this[im]={accessors:{}}).accessors,r=this.prototype;function s(i){const o=Cs(i);n[o]||(gN(r,i),n[o]=!0)}return ie.isArray(e)?e.forEach(s):s(e),this}};zt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(zt.prototype,({value:t},e)=>{let A=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[A]=n}}});ie.freezeMethods(zt);function Au(t,e){const A=this||bi,n=e||A,r=zt.from(n.headers);let s=n.data;return ie.forEach(t,function(o){s=o.call(A,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function Tw(t){return!!(t&&t.__CANCEL__)}function ls(t,e,A){Fe.call(this,t??"canceled",Fe.ERR_CANCELED,e,A),this.name="CanceledError"}ie.inherits(ls,Fe,{__CANCEL__:!0});function Uw(t,e,A){const n=A.config.validateStatus;!A.status||!n||n(A.status)?t(A):e(new Fe("Request failed with status code "+A.status,[Fe.ERR_BAD_REQUEST,Fe.ERR_BAD_RESPONSE][Math.floor(A.status/100)-4],A.config,A.request,A))}function BN(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function wN(t,e){t=t||10;const A=new Array(t),n=new Array(t);let r=0,s=0,i;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),f=n[s];i||(i=c),A[r]=u,n[r]=c;let d=s,p=0;for(;d!==r;)p+=A[d++],d=d%t;if(r=(r+1)%t,r===s&&(s=(s+1)%t),c-i<e)return;const g=f&&c-f;return g?Math.round(p*1e3/g):void 0}}function CN(t,e){let A=0,n=1e3/e,r,s;const i=(c,f=Date.now())=>{A=f,r=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const f=Date.now(),d=f-A;d>=n?i(c,f):(r=c,s||(s=setTimeout(()=>{s=null,i(r)},n-d)))},()=>r&&i(r)]}const Ua=(t,e,A=3)=>{let n=0;const r=wN(50,250);return CN(s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,u=i-n,c=r(u),f=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&f?(o-i)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},A)},om=(t,e)=>{const A=t!=null;return[n=>e[0]({lengthComputable:A,total:t,loaded:n}),e[1]]},am=t=>(...e)=>ie.asap(()=>t(...e)),vN=It.hasStandardBrowserEnv?((t,e)=>A=>(A=new URL(A,It.origin),t.protocol===A.protocol&&t.host===A.host&&(e||t.port===A.port)))(new URL(It.origin),It.navigator&&/(msie|trident)/i.test(It.navigator.userAgent)):()=>!0,yN=It.hasStandardBrowserEnv?{write(t,e,A,n,r,s){const i=[t+"="+encodeURIComponent(e)];ie.isNumber(A)&&i.push("expires="+new Date(A).toGMTString()),ie.isString(n)&&i.push("path="+n),ie.isString(r)&&i.push("domain="+r),s===!0&&i.push("secure"),document.cookie=i.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function xN(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function EN(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Fw(t,e,A){let n=!xN(e);return t&&(n||A==!1)?EN(t,e):e}const lm=t=>t instanceof zt?{...t}:t;function tr(t,e){e=e||{};const A={};function n(c,f,d,p){return ie.isPlainObject(c)&&ie.isPlainObject(f)?ie.merge.call({caseless:p},c,f):ie.isPlainObject(f)?ie.merge({},f):ie.isArray(f)?f.slice():f}function r(c,f,d,p){if(ie.isUndefined(f)){if(!ie.isUndefined(c))return n(void 0,c,d,p)}else return n(c,f,d,p)}function s(c,f){if(!ie.isUndefined(f))return n(void 0,f)}function i(c,f){if(ie.isUndefined(f)){if(!ie.isUndefined(c))return n(void 0,c)}else return n(void 0,f)}function o(c,f,d){if(d in e)return n(c,f);if(d in t)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(c,f,d)=>r(lm(c),lm(f),d,!0)};return ie.forEach(Object.keys({...t,...e}),function(f){const d=u[f]||r,p=d(t[f],e[f],f);ie.isUndefined(p)&&d!==o||(A[f]=p)}),A}const Sw=t=>{const e=tr({},t);let{data:A,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:s,headers:i,auth:o}=e;e.headers=i=zt.from(i),e.url=yw(Fw(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let u;if(ie.isFormData(A)){if(It.hasStandardBrowserEnv||It.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((u=i.getContentType())!==!1){const[c,...f]=u?u.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...f].join("; "))}}if(It.hasStandardBrowserEnv&&(n&&ie.isFunction(n)&&(n=n(e)),n||n!==!1&&vN(e.url))){const c=r&&s&&yN.read(s);c&&i.set(r,c)}return e},TN=typeof XMLHttpRequest<"u",UN=TN&&function(t){return new Promise(function(A,n){const r=Sw(t);let s=r.data;const i=zt.from(r.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=r,f,d,p,g,B;function m(){g&&g(),B&&B(),r.cancelToken&&r.cancelToken.unsubscribe(f),r.signal&&r.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(r.method.toUpperCase(),r.url,!0),x.timeout=r.timeout;function C(){if(!x)return;const y=zt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),U={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:t,request:x};Uw(function(Q){A(Q),m()},function(Q){n(Q),m()},U),x=null}"onloadend"in x?x.onloadend=C:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(C)},x.onabort=function(){x&&(n(new Fe("Request aborted",Fe.ECONNABORTED,t,x)),x=null)},x.onerror=function(){n(new Fe("Network Error",Fe.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const U=r.transitional||xw;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),n(new Fe(E,U.clarifyTimeoutError?Fe.ETIMEDOUT:Fe.ECONNABORTED,t,x)),x=null},s===void 0&&i.setContentType(null),"setRequestHeader"in x&&ie.forEach(i.toJSON(),function(E,U){x.setRequestHeader(U,E)}),ie.isUndefined(r.withCredentials)||(x.withCredentials=!!r.withCredentials),o&&o!=="json"&&(x.responseType=r.responseType),c&&([p,B]=Ua(c,!0),x.addEventListener("progress",p)),u&&x.upload&&([d,g]=Ua(u),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",g)),(r.cancelToken||r.signal)&&(f=y=>{x&&(n(!y||y.type?new ls(null,t,x):y),x.abort(),x=null)},r.cancelToken&&r.cancelToken.subscribe(f),r.signal&&(r.signal.aborted?f():r.signal.addEventListener("abort",f)));const w=BN(r.url);if(w&&It.protocols.indexOf(w)===-1){n(new Fe("Unsupported protocol "+w+":",Fe.ERR_BAD_REQUEST,t));return}x.send(s||null)})},FN=(t,e)=>{const{length:A}=t=t?t.filter(Boolean):[];if(e||A){let n=new AbortController,r;const s=function(c){if(!r){r=!0,o();const f=c instanceof Error?c:this.reason;n.abort(f instanceof Fe?f:new ls(f instanceof Error?f.message:f))}};let i=e&&setTimeout(()=>{i=null,s(new Fe(`timeout ${e} of ms exceeded`,Fe.ETIMEDOUT))},e);const o=()=>{t&&(i&&clearTimeout(i),i=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>ie.asap(o),u}},SN=function*(t,e){let A=t.byteLength;if(A<e){yield t;return}let n=0,r;for(;n<A;)r=n+e,yield t.slice(n,r),n=r},IN=async function*(t,e){for await(const A of QN(t))yield*SN(A,e)},QN=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:A,value:n}=await e.read();if(A)break;yield n}}finally{await e.cancel()}},um=(t,e,A,n)=>{const r=IN(t,e);let s=0,i,o=u=>{i||(i=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:f}=await r.next();if(c){o(),u.close();return}let d=f.byteLength;if(A){let p=s+=d;A(p)}u.enqueue(new Uint8Array(f))}catch(c){throw o(c),c}},cancel(u){return o(u),r.return()}},{highWaterMark:2})},cl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Iw=cl&&typeof ReadableStream=="function",_N=cl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Qw=(t,...e)=>{try{return!!t(...e)}catch{return!1}},NN=Iw&&Qw(()=>{let t=!1;const e=new Request(It.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),cm=64*1024,Lc=Iw&&Qw(()=>ie.isReadableStream(new Response("").body)),Fa={stream:Lc&&(t=>t.body)};cl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fa[e]&&(Fa[e]=ie.isFunction(t[e])?A=>A[e]():(A,n)=>{throw new Fe(`Response type '${e}' is not supported`,Fe.ERR_NOT_SUPPORT,n)})})})(new Response);const kN=async t=>{if(t==null)return 0;if(ie.isBlob(t))return t.size;if(ie.isSpecCompliantForm(t))return(await new Request(It.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ie.isArrayBufferView(t)||ie.isArrayBuffer(t))return t.byteLength;if(ie.isURLSearchParams(t)&&(t=t+""),ie.isString(t))return(await _N(t)).byteLength},bN=async(t,e)=>{const A=ie.toFiniteNumber(t.getContentLength());return A??kN(e)},DN=cl&&(async t=>{let{url:e,method:A,data:n,signal:r,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:u,responseType:c,headers:f,withCredentials:d="same-origin",fetchOptions:p}=Sw(t);c=c?(c+"").toLowerCase():"text";let g=FN([r,s&&s.toAbortSignal()],i),B;const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let x;try{if(u&&NN&&A!=="get"&&A!=="head"&&(x=await bN(f,n))!==0){let U=new Request(e,{method:"POST",body:n,duplex:"half"}),T;if(ie.isFormData(n)&&(T=U.headers.get("content-type"))&&f.setContentType(T),U.body){const[Q,M]=om(x,Ua(am(u)));n=um(U.body,cm,Q,M)}}ie.isString(d)||(d=d?"include":"omit");const C="credentials"in Request.prototype;B=new Request(e,{...p,signal:g,method:A.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:C?d:void 0});let w=await fetch(B,p);const y=Lc&&(c==="stream"||c==="response");if(Lc&&(o||y&&m)){const U={};["status","statusText","headers"].forEach(D=>{U[D]=w[D]});const T=ie.toFiniteNumber(w.headers.get("content-length")),[Q,M]=o&&om(T,Ua(am(o),!0))||[];w=new Response(um(w.body,cm,Q,()=>{M&&M(),m&&m()}),U)}c=c||"text";let E=await Fa[ie.findKey(Fa,c)||"text"](w,t);return!y&&m&&m(),await new Promise((U,T)=>{Uw(U,T,{data:E,headers:zt.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:B})})}catch(C){throw m&&m(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Fe("Network Error",Fe.ERR_NETWORK,t,B),{cause:C.cause||C}):Fe.from(C,C&&C.code,t,B)}}),Rc={http:q2,xhr:UN,fetch:DN};ie.forEach(Rc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fm=t=>`- ${t}`,MN=t=>ie.isFunction(t)||t===null||t===!1,_w={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let A,n;const r={};for(let s=0;s<e;s++){A=t[s];let i;if(n=A,!MN(A)&&(n=Rc[(i=String(A)).toLowerCase()],n===void 0))throw new Fe(`Unknown adapter '${i}'`);if(n)break;r[i||"#"+s]=n}if(!n){const s=Object.entries(r).map(([o,u])=>`adapter ${o} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=e?s.length>1?`since :
`+s.map(fm).join(`
`):" "+fm(s[0]):"as no adapter specified";throw new Fe("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return n},adapters:Rc};function nu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ls(null,t)}function dm(t){return nu(t),t.headers=zt.from(t.headers),t.data=Au.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),_w.getAdapter(t.adapter||bi.adapter)(t).then(function(n){return nu(t),n.data=Au.call(t,t.transformResponse,n),n.headers=zt.from(n.headers),n},function(n){return Tw(n)||(nu(t),n&&n.response&&(n.response.data=Au.call(t,t.transformResponse,n.response),n.response.headers=zt.from(n.response.headers))),Promise.reject(n)})}const Nw="1.11.0",fl={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fl[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const pm={};fl.transitional=function(e,A,n){function r(s,i){return"[Axios v"+Nw+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,o)=>{if(e===!1)throw new Fe(r(i," has been removed"+(A?" in "+A:"")),Fe.ERR_DEPRECATED);return A&&!pm[i]&&(pm[i]=!0,console.warn(r(i," has been deprecated since v"+A+" and will be removed in the near future"))),e?e(s,i,o):!0}};fl.spelling=function(e){return(A,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function LN(t,e,A){if(typeof t!="object")throw new Fe("options must be an object",Fe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const s=n[r],i=e[s];if(i){const o=t[s],u=o===void 0||i(o,s,t);if(u!==!0)throw new Fe("option "+s+" must be "+u,Fe.ERR_BAD_OPTION_VALUE);continue}if(A!==!0)throw new Fe("Unknown option "+s,Fe.ERR_BAD_OPTION)}}const Wo={assertOptions:LN,validators:fl},TA=Wo.validators;let $n=class{constructor(e){this.defaults=e||{},this.interceptors={request:new sm,response:new sm}}async request(e,A){try{return await this._request(e,A)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,A){typeof e=="string"?(A=A||{},A.url=e):A=e||{},A=tr(this.defaults,A);const{transitional:n,paramsSerializer:r,headers:s}=A;n!==void 0&&Wo.assertOptions(n,{silentJSONParsing:TA.transitional(TA.boolean),forcedJSONParsing:TA.transitional(TA.boolean),clarifyTimeoutError:TA.transitional(TA.boolean)},!1),r!=null&&(ie.isFunction(r)?A.paramsSerializer={serialize:r}:Wo.assertOptions(r,{encode:TA.function,serialize:TA.function},!0)),A.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?A.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:A.allowAbsoluteUrls=!0),Wo.assertOptions(A,{baseUrl:TA.spelling("baseURL"),withXsrfToken:TA.spelling("withXSRFToken")},!0),A.method=(A.method||this.defaults.method||"get").toLowerCase();let i=s&&ie.merge(s.common,s[A.method]);s&&ie.forEach(["delete","get","head","post","put","patch","common"],B=>{delete s[B]}),A.headers=zt.concat(i,s);const o=[];let u=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(A)===!1||(u=u&&m.synchronous,o.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let f,d=0,p;if(!u){const B=[dm.bind(this),void 0];for(B.unshift(...o),B.push(...c),p=B.length,f=Promise.resolve(A);d<p;)f=f.then(B[d++],B[d++]);return f}p=o.length;let g=A;for(d=0;d<p;){const B=o[d++],m=o[d++];try{g=B(g)}catch(x){m.call(this,x);break}}try{f=dm.call(this,g)}catch(B){return Promise.reject(B)}for(d=0,p=c.length;d<p;)f=f.then(c[d++],c[d++]);return f}getUri(e){e=tr(this.defaults,e);const A=Fw(e.baseURL,e.url,e.allowAbsoluteUrls);return yw(A,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){$n.prototype[e]=function(A,n){return this.request(tr(n||{},{method:e,url:A,data:(n||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function A(n){return function(s,i,o){return this.request(tr(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}$n.prototype[e]=A(),$n.prototype[e+"Form"]=A(!0)});let RN=class kw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let A;this.promise=new Promise(function(s){A=s});const n=this;this.promise.then(r=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](r);n._listeners=null}),this.promise.then=r=>{let s;const i=new Promise(o=>{n.subscribe(o),s=o}).then(r);return i.cancel=function(){n.unsubscribe(s)},i},e(function(s,i,o){n.reason||(n.reason=new ls(s,i,o),A(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const A=this._listeners.indexOf(e);A!==-1&&this._listeners.splice(A,1)}toAbortSignal(){const e=new AbortController,A=n=>{e.abort(n)};return this.subscribe(A),e.signal.unsubscribe=()=>this.unsubscribe(A),e.signal}static source(){let e;return{token:new kw(function(r){e=r}),cancel:e}}};function PN(t){return function(A){return t.apply(null,A)}}function HN(t){return ie.isObject(t)&&t.isAxiosError===!0}const Pc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pc).forEach(([t,e])=>{Pc[e]=t});function bw(t){const e=new $n(t),A=uw($n.prototype.request,e);return ie.extend(A,$n.prototype,e,{allOwnKeys:!0}),ie.extend(A,e,null,{allOwnKeys:!0}),A.create=function(r){return bw(tr(t,r))},A}const We=bw(bi);We.Axios=$n;We.CanceledError=ls;We.CancelToken=RN;We.isCancel=Tw;We.VERSION=Nw;We.toFormData=ul;We.AxiosError=Fe;We.Cancel=We.CanceledError;We.all=function(e){return Promise.all(e)};We.spread=PN;We.isAxiosError=HN;We.mergeConfig=tr;We.AxiosHeaders=zt;We.formToJSON=t=>Ew(ie.isHTMLForm(t)?new FormData(t):t);We.getAdapter=_w.getAdapter;We.HttpStatusCode=Pc;We.default=We;const{Axios:TR,AxiosError:UR,CanceledError:FR,isCancel:SR,CancelToken:IR,VERSION:QR,all:_R,Cancel:NR,isAxiosError:kR,spread:bR,toFormData:DR,AxiosHeaders:MR,HttpStatusCode:LR,formToJSON:RR,getAdapter:PR,mergeConfig:HR}=We,hd=["M1","M2","M3","Z1","Z2","S1","S2","Z3","Z4","S3","S4","Z5","S5","Z6","S6","Z7","S7","현장1","현장2"],Dw=["현장1","현장2"],md=["M1P","M2P","M3P","Z1P","Z2P","S1P","S2P","Z3P","Z4P","S3P","S4P","Z5P","S5P","Z6P","S6P","Z7P","S7P","현장1P","현장2P"];Array.from(new Set([...hd,...md]));const Kn=[{label:"수질",items:["TOC","TN","TP","COD","TN/TP"]},{label:"현장 계수",items:["TOC","TN","TP","COD","TN/TP"]},{label:"먹는물",items:["TU","Cl","TU/CL"]}];Kn.flatMap(t=>t.items);const hm=["Z1","Z2","S1","S2","Z 2시간 시작 - 종료","Z3","Z4","S3","S4","드리프트 완료","Z5","S5","반복성 완료","M","응답"],Mw=[{label:"수질",items:[{key:"TOC",name:"TOC (총유기탄소)"},{key:"TN",name:"TN (총질소)"},{key:"TP",name:"TP (총인)"},{key:"SS",name:"SS (부유물질)"},{key:"PH",name:"pH (수소이온농도)"},{key:"DO",name:"DO (용존산소)"},{key:"COD",name:"COD (화학적산소요구량)"}]},{label:"먹는물",items:[{key:"TU",name:"TU (탁도)"},{key:"Cl",name:"Cl (잔류염소)"}]}],lt=Mw.flatMap(t=>t.items),Yr="배출기준",mi="응답시간",LA=["측정범위확인","측정방법확인"],KN=["시료도입부확인","무기 탄소제거부확인","반응검출부확인","운반기체공급부확인","주입부확인","산화반응부확인","시료및증류수보급부확인","시약저장부확인","제어부확인","운용프로그램확인","지시외부출력부확인"],ON=["계량부확인","반응부확인","검출부확인","시약저장부 확인","제어부확인","운용프로그램확인","지시외부출력부확인"],VN=["시료도입부확인","측정부확인","검출부확인","제어부확인","운용프로그램확인","지시외부출력부확인"],GN=["센서부확인","전극확인","제어부확인","운용프로그램확인","지시외부출력부확인"],$N=["센서부확인","전극확인","전극보호구확인","변환기 확인","세정장치 확인","제어부확인","운용프로그램확인","지시외부출력부확인"],JN=["시료 전처리부 확인","시약 주입부 확인","가열분해부 확인","측정부/검출부 확인","제어부 확인","운용프로그램 확인","지시외부출력부 확인"],zN=["이물질 방지","텅스텐(400 ~ 600 nm), LED(830 ~ 890 nm), 레이져(660 ± 5 nm)","세척 기능","지시출력장치확인"],WN=["이물질 방지","세척 기능","지시출력장치확인"],RA=["표시사항확인","정도검사 증명서"],mm=ON.map(t=>t.replace("시약저장부 확인","시약저장부확인")),YN=JN.map(t=>t.replace("운용프로그램 확인","운용프로그램확인")),Sa={TOC:[Yr,mi,...LA,...KN,...RA],TN:[...LA,...mm,...RA],TP:[...LA,...mm,...RA],SS:[...LA,...VN,...RA],PH:[...LA,...GN,...RA],DO:[...LA,...$N,...RA],COD:[...LA,...YN,...RA],TU:[...LA,...zN,...RA,"기기번호 확인"],Cl:[...LA,...WN,...RA,"기기번호 확인"]},Ia="판별 불가 (사진 정보 없음)",Le="기타 (직접입력)",gm={COD:["100 ℃ 과망간산칼륨법 산성","100 ℃ 과망간산칼륨법 알칼리성",Le],TOC:["습식화학산화방식","연소산화방식",Le],TN:["자외선 흡수법","카드뮴 환원법",Le],TP:["흡수분광법","이온전극법",Le],SS:["광산란법","중량검출법",Le],PH:["유리전극법","안티몬전극법",Le],DO:["격막형 포라로그라프식","격막형 갈바니 전지식","광학식",Le],TU:["산란된 빛 검출",Le],Cl:["폴라로그래프전극법","갈바닉전극법","DPD-비색방식","전류방식",Le]},Lw={TN:"자외선 흡수법",TP:"흡수분광법",SS:"광산란법",PH:"유리전극법",TU:"산란된 빛 검출"},PA=t=>{const e=t.indexOf(Le);let A=null;return e!==-1&&(A=t.splice(e,1)[0]),t.sort((n,r)=>{const s=n.match(/^0-?(\d+)/),i=r.match(/^0-?(\d+)/);return s&&i?parseInt(s[1],10)-parseInt(i[1],10):s?-1:i?1:n.localeCompare(r)}),A&&t.push(A),t},Bm={TOC:PA(["0-10 mg/L","0-25 mg/L","0-40 mg/L","0-50 mg/L","0-100 mg/L","0-150 mg/L","0-200 mg/L","0-225 mg/L",Le]),TN:PA(["0-40 mg/L","0-50 mg/L","0-60 mg/L","0-100 mg/L","0-200 mg/L",Le]),TP:PA(["0-1 mg/L","0-1.5 mg/L","0-2 mg/L","0-5 mg/L","0-10 mg/L","0-20 mg/L",Le]),SS:PA(["0-100 mg/L","0-200 mg/L","0-300 mg/L","0-500 mg/L",Le]),PH:PA(["pH 0-14",Le]),DO:PA(["0-20 mg/L",Le]),COD:PA(["0-100 mg/L","0-120 mg/L","0-200 mg/L",Le]),TU:PA(["0-4 NTU","0-5 NTU","0-10 NTU","0-20 NTU",Le]),Cl:PA(["0-2 mg/L","0-5 mg/L",Le])},wm=["선택 안됨","1년 후","2년 후"],qr=(t,e,A,n,r,s,i)=>new Promise((o,u)=>{const c=new Image;c.onload=()=>{const f=document.createElement("canvas");f.width=c.width,f.height=c.height;const d=f.getContext("2d");if(!d){u(new Error("Failed to get 2D context from canvas."));return}d.drawImage(c,0,0);const p=Math.max(120,Math.min(c.width/4,c.height/3)),g=[];if(A&&A.trim()!==""&&g.push({text:`접수번호: ${A}`,isComment:!1}),n&&n.trim()!==""&&g.push({text:`현장: ${n}`,isComment:!1}),s&&s.trim()!==""&&g.push({text:`항목: ${s}`,isComment:!1}),i&&i.trim()!==""&&g.push({text:`코멘트: ${i}`,isComment:!0}),g.length===0){t.startsWith("data:")?o(t):o(`data:${e};base64,${t}`);return}const B=p*.5,m=p*1.4;let x=0;d.font=`bold ${p}px Arial, sans-serif`,g.forEach(U=>{const T=d.measureText(U.text);T.width>x&&(x=T.width)});const C=x+B*2,w=Math.max(m+B,g.length*m-(m-p)+B),y=B/2,E=f.height-w-B/2;d.fillStyle="rgba(0, 0, 0, 0.7)",d.fillRect(y,E,C,w),g.forEach((U,T)=>{d.font=`bold ${p}px Arial, sans-serif`,d.fillStyle=U.isComment?"#FFD700":"white";const Q=E+T*m+p+B/2-(m-p)/2;d.fillText(U.text,y+B,Q)}),o(f.toDataURL(e))},c.onerror=f=>{console.error("Error loading image for stamping:",f,"MIME:",e,"Base64(start):",t.substring(0,100)),u(new Error("Failed to load image for stamping. The image might be corrupt or in an unsupported format."))};try{t.startsWith("data:")?c.src=t:c.src=`data:${e};base64,${t}`}catch{u(new Error("Error setting image source for stamping. Invalid image data or MIME type."))}}),no=3e3,Xr=(t,e,A="image/jpeg",n=.9)=>new Promise(async(r,s)=>{if(t.length===0){const Y=document.createElement("canvas");Y.width=400,Y.height=300;const J=Y.getContext("2d");if(!J){s(new Error("Failed to get 2D context for blank composite canvas."));return}J.fillStyle="white",J.fillRect(0,0,Y.width,Y.height),J.fillStyle="grey",J.font="20px Arial",J.textAlign="center",J.fillText("첨부된 사진 없음",Y.width/2,Y.height/2),r(Y.toDataURL(A,n));return}const i=await Promise.all(t.map(Y=>new Promise((J,ee)=>{const X=new Image;X.onload=()=>J(X),X.onerror=H=>{console.error("Error loading an image for composite. MIME:",Y.mimeType,"Base64(start):",Y.base64.substring(0,30)+"...","Error:",H),ee(new Error(`Failed to load an image (MIME: ${Y.mimeType}) for composite generation. Check console for details.`))},Y.base64.startsWith("data:")?X.src=Y.base64:X.src=`data:${Y.mimeType};base64,${Y.base64}`}))).catch(Y=>(s(Y),null));if(!i)return;const o=i.length;let u=10,c=Math.ceil(Math.sqrt(o)),f=Math.ceil(o/c);o===2?(c=2,f=1):o===3&&(c=3,f=1);const d=Math.max(...i.map(Y=>Y.width),300),p=Math.max(...i.map(Y=>Y.height),200);let g=d,B=p,m=c*g+(c+1)*u,x=f*B+(f+1)*u,C=1;(m>no||x>no)&&(C=Math.min(no/m,no/x));const w=m*C,y=x*C,E=g*C,U=B*C;u=u*C;const T=document.createElement("canvas");T.width=w,T.height=y;const Q=T.getContext("2d");if(!Q){s(new Error("Failed to get 2D context for composite canvas."));return}Q.fillStyle="white",Q.fillRect(0,0,T.width,T.height),i.forEach((Y,J)=>{const ee=Math.floor(J/c),X=J%c,H=u+X*(E+u),O=u+ee*(U+u),N=E/Y.width,le=U/Y.height,ae=Math.min(N,le),te=Y.width*ae,me=Y.height*ae,oe=H+(E-te)/2,we=O+(U-me)/2;Q.drawImage(Y,oe,we,te,me);const re=t[J].comment;if(re&&re.trim()!==""){const V=Math.max(96*C,Math.min(te/2,me/1.7,240*C));Q.font=`bold ${V}px Arial, sans-serif`;const Ae=V*.4,de=`코멘트: ${re}`,z=Q.measureText(de),v=Math.min(te-Ae*2,z.width+Ae*2),L=V+Ae*2,b=oe+Ae,I=we+Ae;Q.fillStyle="rgba(0, 0, 0, 0.75)",Q.fillRect(b,I,v,L),Q.fillStyle="#FFD700",Q.textBaseline="top",Q.fillText(de,b+Ae,I+Ae,v-Ae*2),Q.textBaseline="alphabetic"}});const{receiptNumber:M,siteLocation:D,inspectionStartDate:R,item:j}=e,_=Math.max(120*C,Math.min(T.width/5,T.height/4,240*C));Q.font=`bold ${_}px Arial, sans-serif`;const G=[];if(M&&M.trim()!==""&&G.push(`접수번호: ${M}`),D&&D.trim()!==""&&G.push(`현장: ${D}`),j&&j.trim()!==""&&G.push(`항목: ${j}`),R&&R.trim()!==""&&G.push(`검사시작일: ${R}`),G.length>0){const Y=_*.5,J=_*1.4;let ee=0;G.forEach(le=>{const ae=Q.measureText(le);ae.width>ee&&(ee=ae.width)});const X=ee+Y*2,H=Math.max(J+Y,G.length*J-(J-_)+Y),O=Y/2,N=T.height-H-Y/2;Q.fillStyle="rgba(0, 0, 0, 0.7)",Q.fillRect(O,N,X,H),Q.fillStyle="white",G.forEach((le,ae)=>{const te=N+ae*J+_+Y/2-(J-_)/2;Q.fillText(le,O+Y,te,ee)})}const F=T.toDataURL(A,n),q=F.split(",");if(q.length<2||!q[0].includes(";base64")||q[1].trim()===""){console.error("canvas.toDataURL in generateCompositeImage returned invalid/empty data. Canvas WxH:",T.width,T.height,"Output (first 100chars):",F.substring(0,100)),s(new Error("합성 이미지 생성 실패: 캔버스에서 유효한 이미지 데이터를 생성할 수 없습니다. (잘못된 Data URL 형식)"));return}r(F)}),Ot=t=>{const e=t.split(",");if(e.length<2)throw console.error("Invalid data URL format for blob conversion (missing comma):",t.substring(0,100)),new Error("Invalid data URL format for blob conversion.");const A=e[0].match(/:(.*?);/);if(!A||A.length<2)throw console.error("Could not determine MIME type from data URL for blob conversion:",e[0]),new Error("Could not determine MIME type from data URL for blob conversion.");const n=A[1];let r;try{r=atob(e[1])}catch(o){throw console.error("Failed to decode base64 string (atob). Input (first 100chars of base64 part):",e[1].substring(0,100),"Error:",o.message),new Error(`Invalid base64 data in data URL: ${o.message}`)}let s=r.length;const i=new Uint8Array(s);for(;s--;)i[s]=r.charCodeAt(s);return new Blob([i],{type:n})};function ro(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Rw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(A){t.exports=A()})(function(){return function A(n,r,s){function i(c,f){if(!r[c]){if(!n[c]){var d=typeof ro=="function"&&ro;if(!f&&d)return d(c,!0);if(o)return o(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var g=r[c]={exports:{}};n[c][0].call(g.exports,function(B){var m=n[c][1][B];return i(m||B)},g,g.exports,A,n,r,s)}return r[c].exports}for(var o=typeof ro=="function"&&ro,u=0;u<s.length;u++)i(s[u]);return i}({1:[function(A,n,r){var s=A("./utils"),i=A("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(u){for(var c,f,d,p,g,B,m,x=[],C=0,w=u.length,y=w,E=s.getTypeOf(u)!=="string";C<u.length;)y=w-C,d=E?(c=u[C++],f=C<w?u[C++]:0,C<w?u[C++]:0):(c=u.charCodeAt(C++),f=C<w?u.charCodeAt(C++):0,C<w?u.charCodeAt(C++):0),p=c>>2,g=(3&c)<<4|f>>4,B=1<y?(15&f)<<2|d>>6:64,m=2<y?63&d:64,x.push(o.charAt(p)+o.charAt(g)+o.charAt(B)+o.charAt(m));return x.join("")},r.decode=function(u){var c,f,d,p,g,B,m=0,x=0,C="data:";if(u.substr(0,C.length)===C)throw new Error("Invalid base64 input, it looks like a data url.");var w,y=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===o.charAt(64)&&y--,u.charAt(u.length-2)===o.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=i.uint8array?new Uint8Array(0|y):new Array(0|y);m<u.length;)c=o.indexOf(u.charAt(m++))<<2|(p=o.indexOf(u.charAt(m++)))>>4,f=(15&p)<<4|(g=o.indexOf(u.charAt(m++)))>>2,d=(3&g)<<6|(B=o.indexOf(u.charAt(m++))),w[x++]=c,g!==64&&(w[x++]=f),B!==64&&(w[x++]=d);return w}},{"./support":30,"./utils":32}],2:[function(A,n,r){var s=A("./external"),i=A("./stream/DataWorker"),o=A("./stream/Crc32Probe"),u=A("./stream/DataLengthProbe");function c(f,d,p,g,B){this.compressedSize=f,this.uncompressedSize=d,this.crc32=p,this.compression=g,this.compressedContent=B}c.prototype={getContentWorker:function(){var f=new i(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),d=this;return f.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new i(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(f,d,p){return f.pipe(new o).pipe(new u("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new u("compressedSize")).withStreamInfo("compression",d)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,n,r){var s=A("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,n,r){var s=A("./utils"),i=function(){for(var o,u=[],c=0;c<256;c++){o=c;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;u[c]=o}return u}();n.exports=function(o,u){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,f,d,p){var g=i,B=p+d;c^=-1;for(var m=p;m<B;m++)c=c>>>8^g[255&(c^f[m])];return-1^c}(0|u,o,o.length,0):function(c,f,d,p){var g=i,B=p+d;c^=-1;for(var m=p;m<B;m++)c=c>>>8^g[255&(c^f.charCodeAt(m))];return-1^c}(0|u,o,o.length,0):0}},{"./utils":32}],5:[function(A,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(A,n,r){var s=null;s=typeof Promise<"u"?Promise:A("lie"),n.exports={Promise:s}},{lie:37}],7:[function(A,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=A("pako"),o=A("./utils"),u=A("./stream/GenericWorker"),c=s?"uint8array":"array";function f(d,p){u.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}r.magic="\b\0",o.inherits(f,u),f.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,d.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},r.compressWorker=function(d){return new f("Deflate",d)},r.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,n,r){function s(g,B){var m,x="";for(m=0;m<B;m++)x+=String.fromCharCode(255&g),g>>>=8;return x}function i(g,B,m,x,C,w){var y,E,U=g.file,T=g.compression,Q=w!==c.utf8encode,M=o.transformTo("string",w(U.name)),D=o.transformTo("string",c.utf8encode(U.name)),R=U.comment,j=o.transformTo("string",w(R)),_=o.transformTo("string",c.utf8encode(R)),G=D.length!==U.name.length,F=_.length!==R.length,q="",Y="",J="",ee=U.dir,X=U.date,H={crc32:0,compressedSize:0,uncompressedSize:0};B&&!m||(H.crc32=g.crc32,H.compressedSize=g.compressedSize,H.uncompressedSize=g.uncompressedSize);var O=0;B&&(O|=8),Q||!G&&!F||(O|=2048);var N=0,le=0;ee&&(N|=16),C==="UNIX"?(le=798,N|=function(te,me){var oe=te;return te||(oe=me?16893:33204),(65535&oe)<<16}(U.unixPermissions,ee)):(le=20,N|=function(te){return 63&(te||0)}(U.dosPermissions)),y=X.getUTCHours(),y<<=6,y|=X.getUTCMinutes(),y<<=5,y|=X.getUTCSeconds()/2,E=X.getUTCFullYear()-1980,E<<=4,E|=X.getUTCMonth()+1,E<<=5,E|=X.getUTCDate(),G&&(Y=s(1,1)+s(f(M),4)+D,q+="up"+s(Y.length,2)+Y),F&&(J=s(1,1)+s(f(j),4)+_,q+="uc"+s(J.length,2)+J);var ae="";return ae+=`
\0`,ae+=s(O,2),ae+=T.magic,ae+=s(y,2),ae+=s(E,2),ae+=s(H.crc32,4),ae+=s(H.compressedSize,4),ae+=s(H.uncompressedSize,4),ae+=s(M.length,2),ae+=s(q.length,2),{fileRecord:d.LOCAL_FILE_HEADER+ae+M+q,dirRecord:d.CENTRAL_FILE_HEADER+s(le,2)+ae+s(j.length,2)+"\0\0\0\0"+s(N,4)+s(x,4)+M+q+j}}var o=A("../utils"),u=A("../stream/GenericWorker"),c=A("../utf8"),f=A("../crc32"),d=A("../signature");function p(g,B,m,x){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=B,this.zipPlatform=m,this.encodeFileName=x,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,u),p.prototype.push=function(g){var B=g.meta.percent||0,m=this.entriesCount,x=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,u.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:m?(B+100*(m-x-1))/m:100}}))},p.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var B=this.streamFiles&&!g.file.dir;if(B){var m=i(g,B,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(g){this.accumulate=!1;var B=this.streamFiles&&!g.file.dir,m=i(g,B,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),B)this.push({data:function(x){return d.DATA_DESCRIPTOR+s(x.crc32,4)+s(x.compressedSize,4)+s(x.uncompressedSize,4)}(g),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var g=this.bytesWritten,B=0;B<this.dirRecords.length;B++)this.push({data:this.dirRecords[B],meta:{percent:100}});var m=this.bytesWritten-g,x=function(C,w,y,E,U){var T=o.transformTo("string",U(E));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(C,2)+s(C,2)+s(w,4)+s(y,4)+s(T.length,2)+T}(this.dirRecords.length,m,g,this.zipComment,this.encodeFileName);this.push({data:x,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(g){this._sources.push(g);var B=this;return g.on("data",function(m){B.processChunk(m)}),g.on("end",function(){B.closedSource(B.previous.streamInfo),B._sources.length?B.prepareNextSource():B.end()}),g.on("error",function(m){B.error(m)}),this},p.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(g){var B=this._sources;if(!u.prototype.error.call(this,g))return!1;for(var m=0;m<B.length;m++)try{B[m].error(g)}catch{}return!0},p.prototype.lock=function(){u.prototype.lock.call(this);for(var g=this._sources,B=0;B<g.length;B++)g[B].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,n,r){var s=A("../compressions"),i=A("./ZipFileWorker");r.generateWorker=function(o,u,c){var f=new i(u.streamFiles,c,u.platform,u.encodeFileName),d=0;try{o.forEach(function(p,g){d++;var B=function(w,y){var E=w||y,U=s[E];if(!U)throw new Error(E+" is not a valid compression method !");return U}(g.options.compression,u.compression),m=g.options.compressionOptions||u.compressionOptions||{},x=g.dir,C=g.date;g._compressWorker(B,m).withStreamInfo("file",{name:p,dir:x,date:C,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=d}catch(p){f.error(p)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new s;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(s.prototype=A("./object")).loadAsync=A("./load"),s.support=A("./support"),s.defaults=A("./defaults"),s.version="3.10.1",s.loadAsync=function(i,o){return new s().loadAsync(i,o)},s.external=A("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,n,r){var s=A("./utils"),i=A("./external"),o=A("./utf8"),u=A("./zipEntries"),c=A("./stream/Crc32Probe"),f=A("./nodejsUtils");function d(p){return new i.Promise(function(g,B){var m=p.decompressed.getContentWorker().pipe(new c);m.on("error",function(x){B(x)}).on("end",function(){m.streamInfo.crc32!==p.decompressed.crc32?B(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(p,g){var B=this;return g=s.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(p)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,g.optimizedBinaryString,g.base64).then(function(m){var x=new u(g);return x.load(m),x}).then(function(m){var x=[i.Promise.resolve(m)],C=m.files;if(g.checkCRC32)for(var w=0;w<C.length;w++)x.push(d(C[w]));return i.Promise.all(x)}).then(function(m){for(var x=m.shift(),C=x.files,w=0;w<C.length;w++){var y=C[w],E=y.fileNameStr,U=s.resolve(y.fileNameStr);B.file(U,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:g.createFolders}),y.dir||(B.file(U).unsafeOriginalName=E)}return x.zipComment.length&&(B.comment=x.zipComment),B})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,n,r){var s=A("../utils"),i=A("../stream/GenericWorker");function o(u,c){i.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,i),o.prototype._bindStream=function(u){var c=this;(this._stream=u).pause(),u.on("data",function(f){c.push({data:f,meta:{percent:0}})}).on("error",function(f){c.isPaused?this.generatedError=f:c.error(f)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,n,r){var s=A("readable-stream").Readable;function i(o,u,c){s.call(this,u),this._helper=o;var f=this;o.on("data",function(d,p){f.push(d)||f._helper.pause(),c&&c(p)}).on("error",function(d){f.emit("error",d)}).on("end",function(){f.push(null)})}A("../utils").inherits(i,s),i.prototype._read=function(){this._helper.resume()},n.exports=i},{"../utils":32,"readable-stream":16}],14:[function(A,n,r){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,i);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,i)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var i=new Buffer(s);return i.fill(0),i},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(A,n,r){function s(U,T,Q){var M,D=o.getTypeOf(T),R=o.extend(Q||{},f);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(U=C(U)),R.createFolders&&(M=x(U))&&w.call(this,M,!0);var j=D==="string"&&R.binary===!1&&R.base64===!1;Q&&Q.binary!==void 0||(R.binary=!j),(T instanceof d&&T.uncompressedSize===0||R.dir||!T||T.length===0)&&(R.base64=!1,R.binary=!0,T="",R.compression="STORE",D="string");var _=null;_=T instanceof d||T instanceof u?T:B.isNode&&B.isStream(T)?new m(U,T):o.prepareContent(U,T,R.binary,R.optimizedBinaryString,R.base64);var G=new p(U,_,R);this.files[U]=G}var i=A("./utf8"),o=A("./utils"),u=A("./stream/GenericWorker"),c=A("./stream/StreamHelper"),f=A("./defaults"),d=A("./compressedObject"),p=A("./zipObject"),g=A("./generate"),B=A("./nodejsUtils"),m=A("./nodejs/NodejsStreamInputAdapter"),x=function(U){U.slice(-1)==="/"&&(U=U.substring(0,U.length-1));var T=U.lastIndexOf("/");return 0<T?U.substring(0,T):""},C=function(U){return U.slice(-1)!=="/"&&(U+="/"),U},w=function(U,T){return T=T!==void 0?T:f.createFolders,U=C(U),this.files[U]||s.call(this,U,null,{dir:!0,createFolders:T}),this.files[U]};function y(U){return Object.prototype.toString.call(U)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(U){var T,Q,M;for(T in this.files)M=this.files[T],(Q=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&U(Q,M)},filter:function(U){var T=[];return this.forEach(function(Q,M){U(Q,M)&&T.push(M)}),T},file:function(U,T,Q){if(arguments.length!==1)return U=this.root+U,s.call(this,U,T,Q),this;if(y(U)){var M=U;return this.filter(function(R,j){return!j.dir&&M.test(R)})}var D=this.files[this.root+U];return D&&!D.dir?D:null},folder:function(U){if(!U)return this;if(y(U))return this.filter(function(D,R){return R.dir&&U.test(D)});var T=this.root+U,Q=w.call(this,T),M=this.clone();return M.root=Q.name,M},remove:function(U){U=this.root+U;var T=this.files[U];if(T||(U.slice(-1)!=="/"&&(U+="/"),T=this.files[U]),T&&!T.dir)delete this.files[U];else for(var Q=this.filter(function(D,R){return R.name.slice(0,U.length)===U}),M=0;M<Q.length;M++)delete this.files[Q[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(U){var T,Q={};try{if((Q=o.extend(U||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=Q.type.toLowerCase(),Q.compression=Q.compression.toUpperCase(),Q.type==="binarystring"&&(Q.type="string"),!Q.type)throw new Error("No output type specified.");o.checkSupport(Q.type),Q.platform!=="darwin"&&Q.platform!=="freebsd"&&Q.platform!=="linux"&&Q.platform!=="sunos"||(Q.platform="UNIX"),Q.platform==="win32"&&(Q.platform="DOS");var M=Q.comment||this.comment||"";T=g.generateWorker(this,Q,M)}catch(D){(T=new u("error")).error(D)}return new c(T,Q.type||"string",Q.mimeType)},generateAsync:function(U,T){return this.generateInternalStream(U).accumulate(T)},generateNodeStream:function(U,T){return(U=U||{}).type||(U.type="nodebuffer"),this.generateInternalStream(U).toNodejsStream(T)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,n,r){n.exports=A("stream")},{stream:void 0}],17:[function(A,n,r){var s=A("./DataReader");function i(o){s.call(this,o);for(var u=0;u<this.data.length;u++)o[u]=255&o[u]}A("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var u=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),d=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===u&&this.data[p+1]===c&&this.data[p+2]===f&&this.data[p+3]===d)return p-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var u=o.charCodeAt(0),c=o.charCodeAt(1),f=o.charCodeAt(2),d=o.charCodeAt(3),p=this.readData(4);return u===p[0]&&c===p[1]&&f===p[2]&&d===p[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},n.exports=i},{"../utils":32,"./DataReader":18}],18:[function(A,n,r){var s=A("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u,c=0;for(this.checkOffset(o),u=this.index+o-1;u>=this.index;u--)c=(c<<8)+this.byteAt(u);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=i},{"../utils":32}],19:[function(A,n,r){var s=A("./Uint8ArrayReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.readData=function(o){this.checkOffset(o);var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},n.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,n,r){var s=A("./DataReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},n.exports=i},{"../utils":32,"./DataReader":18}],21:[function(A,n,r){var s=A("./ArrayReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},n.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(A,n,r){var s=A("../utils"),i=A("../support"),o=A("./ArrayReader"),u=A("./StringReader"),c=A("./NodeBufferReader"),f=A("./Uint8ArrayReader");n.exports=function(d){var p=s.getTypeOf(d);return s.checkSupport(p),p!=="string"||i.uint8array?p==="nodebuffer"?new c(d):i.uint8array?new f(s.transformTo("uint8array",d)):new o(s.transformTo("array",d)):new u(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(A,n,r){var s=A("./GenericWorker"),i=A("../utils");function o(u){s.call(this,"ConvertWorker to "+u),this.destType=u}i.inherits(o,s),o.prototype.processChunk=function(u){this.push({data:i.transformTo(this.destType,u.data),meta:u.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(A,n,r){var s=A("./GenericWorker"),i=A("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(o,s),o.prototype.processChunk=function(u){this.streamInfo.crc32=i(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,n,r){var s=A("../utils"),i=A("./GenericWorker");function o(u){i.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(o,i),o.prototype.processChunk=function(u){if(u){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+u.data.length}i.prototype.processChunk.call(this,u)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(A,n,r){var s=A("../utils"),i=A("./GenericWorker");function o(u){i.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){c.dataIsReady=!0,c.data=f,c.max=f&&f.length||0,c.type=s.getTypeOf(f),c.isPaused||c._tickAndRepeat()},function(f){c.error(f)})}s.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,c);break;case"uint8array":u=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":u=this.data.slice(this.index,c)}return this.index=c,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(A,n,r){function s(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var u=0;u<this._listeners[i].length;u++)this._listeners[i][u].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(u){o.processChunk(u)}),i.on("end",function(){o.end()}),i.on("error",function(u){o.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},n.exports=s},{}],29:[function(A,n,r){var s=A("../utils"),i=A("./ConvertWorker"),o=A("./GenericWorker"),u=A("../base64"),c=A("../support"),f=A("../external"),d=null;if(c.nodestream)try{d=A("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(B,m){return new f.Promise(function(x,C){var w=[],y=B._internalType,E=B._outputType,U=B._mimeType;B.on("data",function(T,Q){w.push(T),m&&m(Q)}).on("error",function(T){w=[],C(T)}).on("end",function(){try{var T=function(Q,M,D){switch(Q){case"blob":return s.newBlob(s.transformTo("arraybuffer",M),D);case"base64":return u.encode(M);default:return s.transformTo(Q,M)}}(E,function(Q,M){var D,R=0,j=null,_=0;for(D=0;D<M.length;D++)_+=M[D].length;switch(Q){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(j=new Uint8Array(_),D=0;D<M.length;D++)j.set(M[D],R),R+=M[D].length;return j;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+Q+"'")}}(y,w),U);x(T)}catch(Q){C(Q)}w=[]}).resume()})}function g(B,m,x){var C=m;switch(m){case"blob":case"arraybuffer":C="uint8array";break;case"base64":C="string"}try{this._internalType=C,this._outputType=m,this._mimeType=x,s.checkSupport(C),this._worker=B.pipe(new i(C)),B.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}g.prototype={accumulate:function(B){return p(this,B)},on:function(B,m){var x=this;return B==="data"?this._worker.on(B,function(C){m.call(x,C.data,C.meta)}):this._worker.on(B,function(){s.delay(m,arguments,x)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(B){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},B)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(s),r.blob=i.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!A("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(A,n,r){for(var s=A("./utils"),i=A("./support"),o=A("./nodejsUtils"),u=A("./stream/GenericWorker"),c=new Array(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;c[254]=c[254]=1;function d(){u.call(this,"utf-8 decode"),this.leftOver=null}function p(){u.call(this,"utf-8 encode")}r.utf8encode=function(g){return i.nodebuffer?o.newBufferFrom(g,"utf-8"):function(B){var m,x,C,w,y,E=B.length,U=0;for(w=0;w<E;w++)(64512&(x=B.charCodeAt(w)))==55296&&w+1<E&&(64512&(C=B.charCodeAt(w+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),w++),U+=x<128?1:x<2048?2:x<65536?3:4;for(m=i.uint8array?new Uint8Array(U):new Array(U),w=y=0;y<U;w++)(64512&(x=B.charCodeAt(w)))==55296&&w+1<E&&(64512&(C=B.charCodeAt(w+1)))==56320&&(x=65536+(x-55296<<10)+(C-56320),w++),x<128?m[y++]=x:(x<2048?m[y++]=192|x>>>6:(x<65536?m[y++]=224|x>>>12:(m[y++]=240|x>>>18,m[y++]=128|x>>>12&63),m[y++]=128|x>>>6&63),m[y++]=128|63&x);return m}(g)},r.utf8decode=function(g){return i.nodebuffer?s.transformTo("nodebuffer",g).toString("utf-8"):function(B){var m,x,C,w,y=B.length,E=new Array(2*y);for(m=x=0;m<y;)if((C=B[m++])<128)E[x++]=C;else if(4<(w=c[C]))E[x++]=65533,m+=w-1;else{for(C&=w===2?31:w===3?15:7;1<w&&m<y;)C=C<<6|63&B[m++],w--;1<w?E[x++]=65533:C<65536?E[x++]=C:(C-=65536,E[x++]=55296|C>>10&1023,E[x++]=56320|1023&C)}return E.length!==x&&(E.subarray?E=E.subarray(0,x):E.length=x),s.applyFromCharCode(E)}(g=s.transformTo(i.uint8array?"uint8array":"array",g))},s.inherits(d,u),d.prototype.processChunk=function(g){var B=s.transformTo(i.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var m=B;(B=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),B.set(m,this.leftOver.length)}else B=this.leftOver.concat(B);this.leftOver=null}var x=function(w,y){var E;for((y=y||w.length)>w.length&&(y=w.length),E=y-1;0<=E&&(192&w[E])==128;)E--;return E<0||E===0?y:E+c[w[E]]>y?E:y}(B),C=B;x!==B.length&&(i.uint8array?(C=B.subarray(0,x),this.leftOver=B.subarray(x,B.length)):(C=B.slice(0,x),this.leftOver=B.slice(x,B.length))),this.push({data:r.utf8decode(C),meta:g.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=d,s.inherits(p,u),p.prototype.processChunk=function(g){this.push({data:r.utf8encode(g.data),meta:g.meta})},r.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,n,r){var s=A("./support"),i=A("./base64"),o=A("./nodejsUtils"),u=A("./external");function c(m){return m}function f(m,x){for(var C=0;C<m.length;++C)x[C]=255&m.charCodeAt(C);return x}A("setimmediate"),r.newBlob=function(m,x){r.checkSupport("blob");try{return new Blob([m],{type:x})}catch{try{var C=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return C.append(m),C.getBlob(x)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(m,x,C){var w=[],y=0,E=m.length;if(E<=C)return String.fromCharCode.apply(null,m);for(;y<E;)x==="array"||x==="nodebuffer"?w.push(String.fromCharCode.apply(null,m.slice(y,Math.min(y+C,E)))):w.push(String.fromCharCode.apply(null,m.subarray(y,Math.min(y+C,E)))),y+=C;return w.join("")},stringifyByChar:function(m){for(var x="",C=0;C<m.length;C++)x+=String.fromCharCode(m[C]);return x},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(m){var x=65536,C=r.getTypeOf(m),w=!0;if(C==="uint8array"?w=d.applyCanBeUsed.uint8array:C==="nodebuffer"&&(w=d.applyCanBeUsed.nodebuffer),w)for(;1<x;)try{return d.stringifyByChunk(m,C,x)}catch{x=Math.floor(x/2)}return d.stringifyByChar(m)}function g(m,x){for(var C=0;C<m.length;C++)x[C]=m[C];return x}r.applyFromCharCode=p;var B={};B.string={string:c,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return B.string.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:function(m){return f(m,o.allocBuffer(m.length))}},B.array={string:p,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},B.arraybuffer={string:function(m){return p(new Uint8Array(m))},array:function(m){return g(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},B.uint8array={string:p,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},B.nodebuffer={string:p,array:function(m){return g(m,new Array(m.length))},arraybuffer:function(m){return B.nodebuffer.uint8array(m).buffer},uint8array:function(m){return g(m,new Uint8Array(m.length))},nodebuffer:c},r.transformTo=function(m,x){if(x=x||"",!m)return x;r.checkSupport(m);var C=r.getTypeOf(x);return B[C][m](x)},r.resolve=function(m){for(var x=m.split("/"),C=[],w=0;w<x.length;w++){var y=x[w];y==="."||y===""&&w!==0&&w!==x.length-1||(y===".."?C.pop():C.push(y))}return C.join("/")},r.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(m){var x,C,w="";for(C=0;C<(m||"").length;C++)w+="\\x"+((x=m.charCodeAt(C))<16?"0":"")+x.toString(16).toUpperCase();return w},r.delay=function(m,x,C){setImmediate(function(){m.apply(C||null,x||[])})},r.inherits=function(m,x){function C(){}C.prototype=x.prototype,m.prototype=new C},r.extend=function(){var m,x,C={};for(m=0;m<arguments.length;m++)for(x in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],x)&&C[x]===void 0&&(C[x]=arguments[m][x]);return C},r.prepareContent=function(m,x,C,w,y){return u.Promise.resolve(x).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new u.Promise(function(U,T){var Q=new FileReader;Q.onload=function(M){U(M.target.result)},Q.onerror=function(M){T(M.target.error)},Q.readAsArrayBuffer(E)}):E}).then(function(E){var U=r.getTypeOf(E);return U?(U==="arraybuffer"?E=r.transformTo("uint8array",E):U==="string"&&(y?E=i.decode(E):C&&w!==!0&&(E=function(T){return f(T,s.uint8array?new Uint8Array(T.length):new Array(T.length))}(E))),E):u.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(A,n,r){var s=A("./reader/readerFor"),i=A("./utils"),o=A("./signature"),u=A("./zipEntry"),c=A("./support");function f(d){this.files=[],this.loadOptions=d}f.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(p)+", expected "+i.pretty(d)+")")}},isSignature:function(d,p){var g=this.reader.index;this.reader.setIndex(d);var B=this.reader.readString(4)===p;return this.reader.setIndex(g),B},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",g=i.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,g,B=this.zip64EndOfCentralSize-44;0<B;)d=this.reader.readInt(2),p=this.reader.readInt(4),g=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var B=p-g;if(0<B)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=B);else if(B<0)throw new Error("Corrupted zip: missing "+Math.abs(B)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(A,n,r){var s=A("./reader/readerFor"),i=A("./utils"),o=A("./compressedObject"),u=A("./crc32"),c=A("./utf8"),f=A("./compressions"),d=A("./support");function p(g,B){this.options=g,this.loadOptions=B}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var B,m;if(g.skip(22),this.fileNameLength=g.readInt(2),m=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((B=function(x){for(var C in f)if(Object.prototype.hasOwnProperty.call(f,C)&&f[C].magic===x)return f[C];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,B,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var B=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(B),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=s(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var B,m,x,C=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<C;)B=g.readInt(2),m=g.readInt(2),x=g.readData(m),this.extraFields[B]={id:B,length:m,value:x};g.setIndex(C)},handleUTF8:function(){var g=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var B=this.findExtraFieldUnicodePath();if(B!==null)this.fileNameStr=B;else{var m=i.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var x=this.findExtraFieldUnicodeComment();if(x!==null)this.fileCommentStr=x;else{var C=i.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(C)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var B=s(g.value);return B.readInt(1)!==1||u(this.fileName)!==B.readInt(4)?null:c.utf8decode(B.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var B=s(g.value);return B.readInt(1)!==1||u(this.fileComment)!==B.readInt(4)?null:c.utf8decode(B.readData(g.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,n,r){function s(B,m,x){this.name=B,this.dir=x.dir,this.date=x.date,this.comment=x.comment,this.unixPermissions=x.unixPermissions,this.dosPermissions=x.dosPermissions,this._data=m,this._dataBinary=x.binary,this.options={compression:x.compression,compressionOptions:x.compressionOptions}}var i=A("./stream/StreamHelper"),o=A("./stream/DataWorker"),u=A("./utf8"),c=A("./compressedObject"),f=A("./stream/GenericWorker");s.prototype={internalStream:function(B){var m=null,x="string";try{if(!B)throw new Error("No output type specified.");var C=(x=B.toLowerCase())==="string"||x==="text";x!=="binarystring"&&x!=="text"||(x="string"),m=this._decompressWorker();var w=!this._dataBinary;w&&!C&&(m=m.pipe(new u.Utf8EncodeWorker)),!w&&C&&(m=m.pipe(new u.Utf8DecodeWorker))}catch(y){(m=new f("error")).error(y)}return new i(m,x,"")},async:function(B,m){return this.internalStream(B).accumulate(m)},nodeStream:function(B,m){return this.internalStream(B||"nodebuffer").toNodejsStream(m)},_compressWorker:function(B,m){if(this._data instanceof c&&this._data.compression.magic===B.magic)return this._data.getCompressedWorker();var x=this._decompressWorker();return this._dataBinary||(x=x.pipe(new u.Utf8EncodeWorker)),c.createWorkerFrom(x,B,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<d.length;g++)s.prototype[d[g]]=p;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,n,r){(function(s){var i,o,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var c=0,f=new u(B),d=s.document.createTextNode("");f.observe(d,{characterData:!0}),i=function(){d.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)i="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){B(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(B,0)};else{var p=new s.MessageChannel;p.port1.onmessage=B,i=function(){p.port2.postMessage(0)}}var g=[];function B(){var m,x;o=!0;for(var C=g.length;C;){for(x=g,g=[],m=-1;++m<C;)x[m]();C=g.length}o=!1}n.exports=function(m){g.push(m)!==1||o||i()}}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(A,n,r){var s=A("immediate");function i(){}var o={},u=["REJECTED"],c=["FULFILLED"],f=["PENDING"];function d(C){if(typeof C!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,C!==i&&m(this,C)}function p(C,w,y){this.promise=C,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function g(C,w,y){s(function(){var E;try{E=w(y)}catch(U){return o.reject(C,U)}E===C?o.reject(C,new TypeError("Cannot resolve promise with itself")):o.resolve(C,E)})}function B(C){var w=C&&C.then;if(C&&(typeof C=="object"||typeof C=="function")&&typeof w=="function")return function(){w.apply(C,arguments)}}function m(C,w){var y=!1;function E(Q){y||(y=!0,o.reject(C,Q))}function U(Q){y||(y=!0,o.resolve(C,Q))}var T=x(function(){w(U,E)});T.status==="error"&&E(T.value)}function x(C,w){var y={};try{y.value=C(w),y.status="success"}catch(E){y.status="error",y.value=E}return y}(n.exports=d).prototype.finally=function(C){if(typeof C!="function")return this;var w=this.constructor;return this.then(function(y){return w.resolve(C()).then(function(){return y})},function(y){return w.resolve(C()).then(function(){throw y})})},d.prototype.catch=function(C){return this.then(null,C)},d.prototype.then=function(C,w){if(typeof C!="function"&&this.state===c||typeof w!="function"&&this.state===u)return this;var y=new this.constructor(i);return this.state!==f?g(y,this.state===c?C:w,this.outcome):this.queue.push(new p(y,C,w)),y},p.prototype.callFulfilled=function(C){o.resolve(this.promise,C)},p.prototype.otherCallFulfilled=function(C){g(this.promise,this.onFulfilled,C)},p.prototype.callRejected=function(C){o.reject(this.promise,C)},p.prototype.otherCallRejected=function(C){g(this.promise,this.onRejected,C)},o.resolve=function(C,w){var y=x(B,w);if(y.status==="error")return o.reject(C,y.value);var E=y.value;if(E)m(C,E);else{C.state=c,C.outcome=w;for(var U=-1,T=C.queue.length;++U<T;)C.queue[U].callFulfilled(w)}return C},o.reject=function(C,w){C.state=u,C.outcome=w;for(var y=-1,E=C.queue.length;++y<E;)C.queue[y].callRejected(w);return C},d.resolve=function(C){return C instanceof this?C:o.resolve(new this(i),C)},d.reject=function(C){var w=new this(i);return o.reject(w,C)},d.all=function(C){var w=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=C.length,E=!1;if(!y)return this.resolve([]);for(var U=new Array(y),T=0,Q=-1,M=new this(i);++Q<y;)D(C[Q],Q);return M;function D(R,j){w.resolve(R).then(function(_){U[j]=_,++T!==y||E||(E=!0,o.resolve(M,U))},function(_){E||(E=!0,o.reject(M,_))})}},d.race=function(C){var w=this;if(Object.prototype.toString.call(C)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=C.length,E=!1;if(!y)return this.resolve([]);for(var U=-1,T=new this(i);++U<y;)Q=C[U],w.resolve(Q).then(function(M){E||(E=!0,o.resolve(T,M))},function(M){E||(E=!0,o.reject(T,M))});var Q;return T}},{immediate:36}],38:[function(A,n,r){var s={};(0,A("./lib/utils/common").assign)(s,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,n,r){var s=A("./zlib/deflate"),i=A("./utils/common"),o=A("./utils/strings"),u=A("./zlib/messages"),c=A("./zlib/zstream"),f=Object.prototype.toString,d=0,p=-1,g=0,B=8;function m(C){if(!(this instanceof m))return new m(C);this.options=i.assign({level:p,method:B,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},C||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(y!==d)throw new Error(u[y]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var E;if(E=typeof w.dictionary=="string"?o.string2buf(w.dictionary):f.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(y=s.deflateSetDictionary(this.strm,E))!==d)throw new Error(u[y]);this._dict_set=!0}}function x(C,w){var y=new m(w);if(y.push(C,!0),y.err)throw y.msg||u[y.err];return y.result}m.prototype.push=function(C,w){var y,E,U=this.strm,T=this.options.chunkSize;if(this.ended)return!1;E=w===~~w?w:w===!0?4:0,typeof C=="string"?U.input=o.string2buf(C):f.call(C)==="[object ArrayBuffer]"?U.input=new Uint8Array(C):U.input=C,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new i.Buf8(T),U.next_out=0,U.avail_out=T),(y=s.deflate(U,E))!==1&&y!==d)return this.onEnd(y),!(this.ended=!0);U.avail_out!==0&&(U.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(U.output,U.next_out))):this.onData(i.shrinkBuf(U.output,U.next_out)))}while((0<U.avail_in||U.avail_out===0)&&y!==1);return E===4?(y=s.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===d):E!==2||(this.onEnd(d),!(U.avail_out=0))},m.prototype.onData=function(C){this.chunks.push(C)},m.prototype.onEnd=function(C){C===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=C,this.msg=this.strm.msg},r.Deflate=m,r.deflate=x,r.deflateRaw=function(C,w){return(w=w||{}).raw=!0,x(C,w)},r.gzip=function(C,w){return(w=w||{}).gzip=!0,x(C,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,n,r){var s=A("./zlib/inflate"),i=A("./utils/common"),o=A("./utils/strings"),u=A("./zlib/constants"),c=A("./zlib/messages"),f=A("./zlib/zstream"),d=A("./zlib/gzheader"),p=Object.prototype.toString;function g(m){if(!(this instanceof g))return new g(m);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},m||{});var x=this.options;x.raw&&0<=x.windowBits&&x.windowBits<16&&(x.windowBits=-x.windowBits,x.windowBits===0&&(x.windowBits=-15)),!(0<=x.windowBits&&x.windowBits<16)||m&&m.windowBits||(x.windowBits+=32),15<x.windowBits&&x.windowBits<48&&!(15&x.windowBits)&&(x.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=s.inflateInit2(this.strm,x.windowBits);if(C!==u.Z_OK)throw new Error(c[C]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function B(m,x){var C=new g(x);if(C.push(m,!0),C.err)throw C.msg||c[C.err];return C.result}g.prototype.push=function(m,x){var C,w,y,E,U,T,Q=this.strm,M=this.options.chunkSize,D=this.options.dictionary,R=!1;if(this.ended)return!1;w=x===~~x?x:x===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof m=="string"?Q.input=o.binstring2buf(m):p.call(m)==="[object ArrayBuffer]"?Q.input=new Uint8Array(m):Q.input=m,Q.next_in=0,Q.avail_in=Q.input.length;do{if(Q.avail_out===0&&(Q.output=new i.Buf8(M),Q.next_out=0,Q.avail_out=M),(C=s.inflate(Q,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&D&&(T=typeof D=="string"?o.string2buf(D):p.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,C=s.inflateSetDictionary(this.strm,T)),C===u.Z_BUF_ERROR&&R===!0&&(C=u.Z_OK,R=!1),C!==u.Z_STREAM_END&&C!==u.Z_OK)return this.onEnd(C),!(this.ended=!0);Q.next_out&&(Q.avail_out!==0&&C!==u.Z_STREAM_END&&(Q.avail_in!==0||w!==u.Z_FINISH&&w!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=o.utf8border(Q.output,Q.next_out),E=Q.next_out-y,U=o.buf2string(Q.output,y),Q.next_out=E,Q.avail_out=M-E,E&&i.arraySet(Q.output,Q.output,y,E,0),this.onData(U)):this.onData(i.shrinkBuf(Q.output,Q.next_out)))),Q.avail_in===0&&Q.avail_out===0&&(R=!0)}while((0<Q.avail_in||Q.avail_out===0)&&C!==u.Z_STREAM_END);return C===u.Z_STREAM_END&&(w=u.Z_FINISH),w===u.Z_FINISH?(C=s.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===u.Z_OK):w!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(Q.avail_out=0))},g.prototype.onData=function(m){this.chunks.push(m)},g.prototype.onEnd=function(m){m===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Inflate=g,r.inflate=B,r.inflateRaw=function(m,x){return(x=x||{}).raw=!0,B(m,x)},r.ungzip=B},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(u){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var f=c.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var d in f)f.hasOwnProperty(d)&&(u[d]=f[d])}}return u},r.shrinkBuf=function(u,c){return u.length===c?u:u.subarray?u.subarray(0,c):(u.length=c,u)};var i={arraySet:function(u,c,f,d,p){if(c.subarray&&u.subarray)u.set(c.subarray(f,f+d),p);else for(var g=0;g<d;g++)u[p+g]=c[f+g]},flattenChunks:function(u){var c,f,d,p,g,B;for(c=d=0,f=u.length;c<f;c++)d+=u[c].length;for(B=new Uint8Array(d),c=p=0,f=u.length;c<f;c++)g=u[c],B.set(g,p),p+=g.length;return B}},o={arraySet:function(u,c,f,d,p){for(var g=0;g<d;g++)u[p+g]=c[f+g]},flattenChunks:function(u){return[].concat.apply([],u)}};r.setTyped=function(u){u?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(s)},{}],42:[function(A,n,r){var s=A("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new s.Buf8(256),c=0;c<256;c++)u[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function f(d,p){if(p<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,s.shrinkBuf(d,p));for(var g="",B=0;B<p;B++)g+=String.fromCharCode(d[B]);return g}u[254]=u[254]=1,r.string2buf=function(d){var p,g,B,m,x,C=d.length,w=0;for(m=0;m<C;m++)(64512&(g=d.charCodeAt(m)))==55296&&m+1<C&&(64512&(B=d.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(B-56320),m++),w+=g<128?1:g<2048?2:g<65536?3:4;for(p=new s.Buf8(w),m=x=0;x<w;m++)(64512&(g=d.charCodeAt(m)))==55296&&m+1<C&&(64512&(B=d.charCodeAt(m+1)))==56320&&(g=65536+(g-55296<<10)+(B-56320),m++),g<128?p[x++]=g:(g<2048?p[x++]=192|g>>>6:(g<65536?p[x++]=224|g>>>12:(p[x++]=240|g>>>18,p[x++]=128|g>>>12&63),p[x++]=128|g>>>6&63),p[x++]=128|63&g);return p},r.buf2binstring=function(d){return f(d,d.length)},r.binstring2buf=function(d){for(var p=new s.Buf8(d.length),g=0,B=p.length;g<B;g++)p[g]=d.charCodeAt(g);return p},r.buf2string=function(d,p){var g,B,m,x,C=p||d.length,w=new Array(2*C);for(g=B=0;g<C;)if((m=d[g++])<128)w[B++]=m;else if(4<(x=u[m]))w[B++]=65533,g+=x-1;else{for(m&=x===2?31:x===3?15:7;1<x&&g<C;)m=m<<6|63&d[g++],x--;1<x?w[B++]=65533:m<65536?w[B++]=m:(m-=65536,w[B++]=55296|m>>10&1023,w[B++]=56320|1023&m)}return f(w,B)},r.utf8border=function(d,p){var g;for((p=p||d.length)>d.length&&(p=d.length),g=p-1;0<=g&&(192&d[g])==128;)g--;return g<0||g===0?p:g+u[d[g]]>p?g:p}},{"./common":41}],43:[function(A,n,r){n.exports=function(s,i,o,u){for(var c=65535&s|0,f=s>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;f=f+(c=c+i[u++]|0)|0,--d;);c%=65521,f%=65521}return c|f<<16|0}},{}],44:[function(A,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,n,r){var s=function(){for(var i,o=[],u=0;u<256;u++){i=u;for(var c=0;c<8;c++)i=1&i?3988292384^i>>>1:i>>>1;o[u]=i}return o}();n.exports=function(i,o,u,c){var f=s,d=c+u;i^=-1;for(var p=c;p<d;p++)i=i>>>8^f[255&(i^o[p])];return-1^i}},{}],46:[function(A,n,r){var s,i=A("../utils/common"),o=A("./trees"),u=A("./adler32"),c=A("./crc32"),f=A("./messages"),d=0,p=4,g=0,B=-2,m=-1,x=4,C=2,w=8,y=9,E=286,U=30,T=19,Q=2*E+1,M=15,D=3,R=258,j=R+D+1,_=42,G=113,F=1,q=2,Y=3,J=4;function ee(v,L){return v.msg=f[L],L}function X(v){return(v<<1)-(4<v?9:0)}function H(v){for(var L=v.length;0<=--L;)v[L]=0}function O(v){var L=v.state,b=L.pending;b>v.avail_out&&(b=v.avail_out),b!==0&&(i.arraySet(v.output,L.pending_buf,L.pending_out,b,v.next_out),v.next_out+=b,L.pending_out+=b,v.total_out+=b,v.avail_out-=b,L.pending-=b,L.pending===0&&(L.pending_out=0))}function N(v,L){o._tr_flush_block(v,0<=v.block_start?v.block_start:-1,v.strstart-v.block_start,L),v.block_start=v.strstart,O(v.strm)}function le(v,L){v.pending_buf[v.pending++]=L}function ae(v,L){v.pending_buf[v.pending++]=L>>>8&255,v.pending_buf[v.pending++]=255&L}function te(v,L){var b,I,S=v.max_chain_length,k=v.strstart,P=v.prev_length,Z=v.nice_match,K=v.strstart>v.w_size-j?v.strstart-(v.w_size-j):0,ne=v.window,fe=v.w_mask,se=v.prev,ue=v.strstart+R,Ee=ne[k+P-1],W=ne[k+P];v.prev_length>=v.good_match&&(S>>=2),Z>v.lookahead&&(Z=v.lookahead);do if(ne[(b=L)+P]===W&&ne[b+P-1]===Ee&&ne[b]===ne[k]&&ne[++b]===ne[k+1]){k+=2,b++;do;while(ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&ne[++k]===ne[++b]&&k<ue);if(I=R-(ue-k),k=ue-R,P<I){if(v.match_start=L,Z<=(P=I))break;Ee=ne[k+P-1],W=ne[k+P]}}while((L=se[L&fe])>K&&--S!=0);return P<=v.lookahead?P:v.lookahead}function me(v){var L,b,I,S,k,P,Z,K,ne,fe,se=v.w_size;do{if(S=v.window_size-v.lookahead-v.strstart,v.strstart>=se+(se-j)){for(i.arraySet(v.window,v.window,se,se,0),v.match_start-=se,v.strstart-=se,v.block_start-=se,L=b=v.hash_size;I=v.head[--L],v.head[L]=se<=I?I-se:0,--b;);for(L=b=se;I=v.prev[--L],v.prev[L]=se<=I?I-se:0,--b;);S+=se}if(v.strm.avail_in===0)break;if(P=v.strm,Z=v.window,K=v.strstart+v.lookahead,ne=S,fe=void 0,fe=P.avail_in,ne<fe&&(fe=ne),b=fe===0?0:(P.avail_in-=fe,i.arraySet(Z,P.input,P.next_in,fe,K),P.state.wrap===1?P.adler=u(P.adler,Z,fe,K):P.state.wrap===2&&(P.adler=c(P.adler,Z,fe,K)),P.next_in+=fe,P.total_in+=fe,fe),v.lookahead+=b,v.lookahead+v.insert>=D)for(k=v.strstart-v.insert,v.ins_h=v.window[k],v.ins_h=(v.ins_h<<v.hash_shift^v.window[k+1])&v.hash_mask;v.insert&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[k+D-1])&v.hash_mask,v.prev[k&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=k,k++,v.insert--,!(v.lookahead+v.insert<D)););}while(v.lookahead<j&&v.strm.avail_in!==0)}function oe(v,L){for(var b,I;;){if(v.lookahead<j){if(me(v),v.lookahead<j&&L===d)return F;if(v.lookahead===0)break}if(b=0,v.lookahead>=D&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+D-1])&v.hash_mask,b=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),b!==0&&v.strstart-b<=v.w_size-j&&(v.match_length=te(v,b)),v.match_length>=D)if(I=o._tr_tally(v,v.strstart-v.match_start,v.match_length-D),v.lookahead-=v.match_length,v.match_length<=v.max_lazy_match&&v.lookahead>=D){for(v.match_length--;v.strstart++,v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+D-1])&v.hash_mask,b=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart,--v.match_length!=0;);v.strstart++}else v.strstart+=v.match_length,v.match_length=0,v.ins_h=v.window[v.strstart],v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+1])&v.hash_mask;else I=o._tr_tally(v,0,v.window[v.strstart]),v.lookahead--,v.strstart++;if(I&&(N(v,!1),v.strm.avail_out===0))return F}return v.insert=v.strstart<D-1?v.strstart:D-1,L===p?(N(v,!0),v.strm.avail_out===0?Y:J):v.last_lit&&(N(v,!1),v.strm.avail_out===0)?F:q}function we(v,L){for(var b,I,S;;){if(v.lookahead<j){if(me(v),v.lookahead<j&&L===d)return F;if(v.lookahead===0)break}if(b=0,v.lookahead>=D&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+D-1])&v.hash_mask,b=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),v.prev_length=v.match_length,v.prev_match=v.match_start,v.match_length=D-1,b!==0&&v.prev_length<v.max_lazy_match&&v.strstart-b<=v.w_size-j&&(v.match_length=te(v,b),v.match_length<=5&&(v.strategy===1||v.match_length===D&&4096<v.strstart-v.match_start)&&(v.match_length=D-1)),v.prev_length>=D&&v.match_length<=v.prev_length){for(S=v.strstart+v.lookahead-D,I=o._tr_tally(v,v.strstart-1-v.prev_match,v.prev_length-D),v.lookahead-=v.prev_length-1,v.prev_length-=2;++v.strstart<=S&&(v.ins_h=(v.ins_h<<v.hash_shift^v.window[v.strstart+D-1])&v.hash_mask,b=v.prev[v.strstart&v.w_mask]=v.head[v.ins_h],v.head[v.ins_h]=v.strstart),--v.prev_length!=0;);if(v.match_available=0,v.match_length=D-1,v.strstart++,I&&(N(v,!1),v.strm.avail_out===0))return F}else if(v.match_available){if((I=o._tr_tally(v,0,v.window[v.strstart-1]))&&N(v,!1),v.strstart++,v.lookahead--,v.strm.avail_out===0)return F}else v.match_available=1,v.strstart++,v.lookahead--}return v.match_available&&(I=o._tr_tally(v,0,v.window[v.strstart-1]),v.match_available=0),v.insert=v.strstart<D-1?v.strstart:D-1,L===p?(N(v,!0),v.strm.avail_out===0?Y:J):v.last_lit&&(N(v,!1),v.strm.avail_out===0)?F:q}function re(v,L,b,I,S){this.good_length=v,this.max_lazy=L,this.nice_length=b,this.max_chain=I,this.func=S}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*Q),this.dyn_dtree=new i.Buf16(2*(2*U+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(M+1),this.heap=new i.Buf16(2*E+1),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*E+1),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ae(v){var L;return v&&v.state?(v.total_in=v.total_out=0,v.data_type=C,(L=v.state).pending=0,L.pending_out=0,L.wrap<0&&(L.wrap=-L.wrap),L.status=L.wrap?_:G,v.adler=L.wrap===2?0:1,L.last_flush=d,o._tr_init(L),g):ee(v,B)}function de(v){var L=Ae(v);return L===g&&function(b){b.window_size=2*b.w_size,H(b.head),b.max_lazy_match=s[b.level].max_lazy,b.good_match=s[b.level].good_length,b.nice_match=s[b.level].nice_length,b.max_chain_length=s[b.level].max_chain,b.strstart=0,b.block_start=0,b.lookahead=0,b.insert=0,b.match_length=b.prev_length=D-1,b.match_available=0,b.ins_h=0}(v.state),L}function z(v,L,b,I,S,k){if(!v)return B;var P=1;if(L===m&&(L=6),I<0?(P=0,I=-I):15<I&&(P=2,I-=16),S<1||y<S||b!==w||I<8||15<I||L<0||9<L||k<0||x<k)return ee(v,B);I===8&&(I=9);var Z=new V;return(v.state=Z).strm=v,Z.wrap=P,Z.gzhead=null,Z.w_bits=I,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=S+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+D-1)/D),Z.window=new i.Buf8(2*Z.w_size),Z.head=new i.Buf16(Z.hash_size),Z.prev=new i.Buf16(Z.w_size),Z.lit_bufsize=1<<S+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new i.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=L,Z.strategy=k,Z.method=b,de(v)}s=[new re(0,0,0,0,function(v,L){var b=65535;for(b>v.pending_buf_size-5&&(b=v.pending_buf_size-5);;){if(v.lookahead<=1){if(me(v),v.lookahead===0&&L===d)return F;if(v.lookahead===0)break}v.strstart+=v.lookahead,v.lookahead=0;var I=v.block_start+b;if((v.strstart===0||v.strstart>=I)&&(v.lookahead=v.strstart-I,v.strstart=I,N(v,!1),v.strm.avail_out===0)||v.strstart-v.block_start>=v.w_size-j&&(N(v,!1),v.strm.avail_out===0))return F}return v.insert=0,L===p?(N(v,!0),v.strm.avail_out===0?Y:J):(v.strstart>v.block_start&&(N(v,!1),v.strm.avail_out),F)}),new re(4,4,8,4,oe),new re(4,5,16,8,oe),new re(4,6,32,32,oe),new re(4,4,16,16,we),new re(8,16,32,32,we),new re(8,16,128,128,we),new re(8,32,128,256,we),new re(32,128,258,1024,we),new re(32,258,258,4096,we)],r.deflateInit=function(v,L){return z(v,L,w,15,8,0)},r.deflateInit2=z,r.deflateReset=de,r.deflateResetKeep=Ae,r.deflateSetHeader=function(v,L){return v&&v.state?v.state.wrap!==2?B:(v.state.gzhead=L,g):B},r.deflate=function(v,L){var b,I,S,k;if(!v||!v.state||5<L||L<0)return v?ee(v,B):B;if(I=v.state,!v.output||!v.input&&v.avail_in!==0||I.status===666&&L!==p)return ee(v,v.avail_out===0?-5:B);if(I.strm=v,b=I.last_flush,I.last_flush=L,I.status===_)if(I.wrap===2)v.adler=0,le(I,31),le(I,139),le(I,8),I.gzhead?(le(I,(I.gzhead.text?1:0)+(I.gzhead.hcrc?2:0)+(I.gzhead.extra?4:0)+(I.gzhead.name?8:0)+(I.gzhead.comment?16:0)),le(I,255&I.gzhead.time),le(I,I.gzhead.time>>8&255),le(I,I.gzhead.time>>16&255),le(I,I.gzhead.time>>24&255),le(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),le(I,255&I.gzhead.os),I.gzhead.extra&&I.gzhead.extra.length&&(le(I,255&I.gzhead.extra.length),le(I,I.gzhead.extra.length>>8&255)),I.gzhead.hcrc&&(v.adler=c(v.adler,I.pending_buf,I.pending,0)),I.gzindex=0,I.status=69):(le(I,0),le(I,0),le(I,0),le(I,0),le(I,0),le(I,I.level===9?2:2<=I.strategy||I.level<2?4:0),le(I,3),I.status=G);else{var P=w+(I.w_bits-8<<4)<<8;P|=(2<=I.strategy||I.level<2?0:I.level<6?1:I.level===6?2:3)<<6,I.strstart!==0&&(P|=32),P+=31-P%31,I.status=G,ae(I,P),I.strstart!==0&&(ae(I,v.adler>>>16),ae(I,65535&v.adler)),v.adler=1}if(I.status===69)if(I.gzhead.extra){for(S=I.pending;I.gzindex<(65535&I.gzhead.extra.length)&&(I.pending!==I.pending_buf_size||(I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),O(v),S=I.pending,I.pending!==I.pending_buf_size));)le(I,255&I.gzhead.extra[I.gzindex]),I.gzindex++;I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),I.gzindex===I.gzhead.extra.length&&(I.gzindex=0,I.status=73)}else I.status=73;if(I.status===73)if(I.gzhead.name){S=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),O(v),S=I.pending,I.pending===I.pending_buf_size)){k=1;break}k=I.gzindex<I.gzhead.name.length?255&I.gzhead.name.charCodeAt(I.gzindex++):0,le(I,k)}while(k!==0);I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),k===0&&(I.gzindex=0,I.status=91)}else I.status=91;if(I.status===91)if(I.gzhead.comment){S=I.pending;do{if(I.pending===I.pending_buf_size&&(I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),O(v),S=I.pending,I.pending===I.pending_buf_size)){k=1;break}k=I.gzindex<I.gzhead.comment.length?255&I.gzhead.comment.charCodeAt(I.gzindex++):0,le(I,k)}while(k!==0);I.gzhead.hcrc&&I.pending>S&&(v.adler=c(v.adler,I.pending_buf,I.pending-S,S)),k===0&&(I.status=103)}else I.status=103;if(I.status===103&&(I.gzhead.hcrc?(I.pending+2>I.pending_buf_size&&O(v),I.pending+2<=I.pending_buf_size&&(le(I,255&v.adler),le(I,v.adler>>8&255),v.adler=0,I.status=G)):I.status=G),I.pending!==0){if(O(v),v.avail_out===0)return I.last_flush=-1,g}else if(v.avail_in===0&&X(L)<=X(b)&&L!==p)return ee(v,-5);if(I.status===666&&v.avail_in!==0)return ee(v,-5);if(v.avail_in!==0||I.lookahead!==0||L!==d&&I.status!==666){var Z=I.strategy===2?function(K,ne){for(var fe;;){if(K.lookahead===0&&(me(K),K.lookahead===0)){if(ne===d)return F;break}if(K.match_length=0,fe=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,fe&&(N(K,!1),K.strm.avail_out===0))return F}return K.insert=0,ne===p?(N(K,!0),K.strm.avail_out===0?Y:J):K.last_lit&&(N(K,!1),K.strm.avail_out===0)?F:q}(I,L):I.strategy===3?function(K,ne){for(var fe,se,ue,Ee,W=K.window;;){if(K.lookahead<=R){if(me(K),K.lookahead<=R&&ne===d)return F;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=D&&0<K.strstart&&(se=W[ue=K.strstart-1])===W[++ue]&&se===W[++ue]&&se===W[++ue]){Ee=K.strstart+R;do;while(se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&se===W[++ue]&&ue<Ee);K.match_length=R-(Ee-ue),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=D?(fe=o._tr_tally(K,1,K.match_length-D),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(fe=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),fe&&(N(K,!1),K.strm.avail_out===0))return F}return K.insert=0,ne===p?(N(K,!0),K.strm.avail_out===0?Y:J):K.last_lit&&(N(K,!1),K.strm.avail_out===0)?F:q}(I,L):s[I.level].func(I,L);if(Z!==Y&&Z!==J||(I.status=666),Z===F||Z===Y)return v.avail_out===0&&(I.last_flush=-1),g;if(Z===q&&(L===1?o._tr_align(I):L!==5&&(o._tr_stored_block(I,0,0,!1),L===3&&(H(I.head),I.lookahead===0&&(I.strstart=0,I.block_start=0,I.insert=0))),O(v),v.avail_out===0))return I.last_flush=-1,g}return L!==p?g:I.wrap<=0?1:(I.wrap===2?(le(I,255&v.adler),le(I,v.adler>>8&255),le(I,v.adler>>16&255),le(I,v.adler>>24&255),le(I,255&v.total_in),le(I,v.total_in>>8&255),le(I,v.total_in>>16&255),le(I,v.total_in>>24&255)):(ae(I,v.adler>>>16),ae(I,65535&v.adler)),O(v),0<I.wrap&&(I.wrap=-I.wrap),I.pending!==0?g:1)},r.deflateEnd=function(v){var L;return v&&v.state?(L=v.state.status)!==_&&L!==69&&L!==73&&L!==91&&L!==103&&L!==G&&L!==666?ee(v,B):(v.state=null,L===G?ee(v,-3):g):B},r.deflateSetDictionary=function(v,L){var b,I,S,k,P,Z,K,ne,fe=L.length;if(!v||!v.state||(k=(b=v.state).wrap)===2||k===1&&b.status!==_||b.lookahead)return B;for(k===1&&(v.adler=u(v.adler,L,fe,0)),b.wrap=0,fe>=b.w_size&&(k===0&&(H(b.head),b.strstart=0,b.block_start=0,b.insert=0),ne=new i.Buf8(b.w_size),i.arraySet(ne,L,fe-b.w_size,b.w_size,0),L=ne,fe=b.w_size),P=v.avail_in,Z=v.next_in,K=v.input,v.avail_in=fe,v.next_in=0,v.input=L,me(b);b.lookahead>=D;){for(I=b.strstart,S=b.lookahead-(D-1);b.ins_h=(b.ins_h<<b.hash_shift^b.window[I+D-1])&b.hash_mask,b.prev[I&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=I,I++,--S;);b.strstart=I,b.lookahead=D-1,me(b)}return b.strstart+=b.lookahead,b.block_start=b.strstart,b.insert=b.lookahead,b.lookahead=0,b.match_length=b.prev_length=D-1,b.match_available=0,v.next_in=Z,v.input=K,v.avail_in=P,b.wrap=k,g},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,n,r){n.exports=function(s,i){var o,u,c,f,d,p,g,B,m,x,C,w,y,E,U,T,Q,M,D,R,j,_,G,F,q;o=s.state,u=s.next_in,F=s.input,c=u+(s.avail_in-5),f=s.next_out,q=s.output,d=f-(i-s.avail_out),p=f+(s.avail_out-257),g=o.dmax,B=o.wsize,m=o.whave,x=o.wnext,C=o.window,w=o.hold,y=o.bits,E=o.lencode,U=o.distcode,T=(1<<o.lenbits)-1,Q=(1<<o.distbits)-1;e:do{y<15&&(w+=F[u++]<<y,y+=8,w+=F[u++]<<y,y+=8),M=E[w&T];t:for(;;){if(w>>>=D=M>>>24,y-=D,(D=M>>>16&255)===0)q[f++]=65535&M;else{if(!(16&D)){if(!(64&D)){M=E[(65535&M)+(w&(1<<D)-1)];continue t}if(32&D){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}R=65535&M,(D&=15)&&(y<D&&(w+=F[u++]<<y,y+=8),R+=w&(1<<D)-1,w>>>=D,y-=D),y<15&&(w+=F[u++]<<y,y+=8,w+=F[u++]<<y,y+=8),M=U[w&Q];A:for(;;){if(w>>>=D=M>>>24,y-=D,!(16&(D=M>>>16&255))){if(!(64&D)){M=U[(65535&M)+(w&(1<<D)-1)];continue A}s.msg="invalid distance code",o.mode=30;break e}if(j=65535&M,y<(D&=15)&&(w+=F[u++]<<y,(y+=8)<D&&(w+=F[u++]<<y,y+=8)),g<(j+=w&(1<<D)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=D,y-=D,(D=f-d)<j){if(m<(D=j-D)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(G=C,(_=0)===x){if(_+=B-D,D<R){for(R-=D;q[f++]=C[_++],--D;);_=f-j,G=q}}else if(x<D){if(_+=B+x-D,(D-=x)<R){for(R-=D;q[f++]=C[_++],--D;);if(_=0,x<R){for(R-=D=x;q[f++]=C[_++],--D;);_=f-j,G=q}}}else if(_+=x-D,D<R){for(R-=D;q[f++]=C[_++],--D;);_=f-j,G=q}for(;2<R;)q[f++]=G[_++],q[f++]=G[_++],q[f++]=G[_++],R-=3;R&&(q[f++]=G[_++],1<R&&(q[f++]=G[_++]))}else{for(_=f-j;q[f++]=q[_++],q[f++]=q[_++],q[f++]=q[_++],2<(R-=3););R&&(q[f++]=q[_++],1<R&&(q[f++]=q[_++]))}break}}break}}while(u<c&&f<p);u-=R=y>>3,w&=(1<<(y-=R<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<c?c-u+5:5-(u-c),s.avail_out=f<p?p-f+257:257-(f-p),o.hold=w,o.bits=y}},{}],49:[function(A,n,r){var s=A("../utils/common"),i=A("./adler32"),o=A("./crc32"),u=A("./inffast"),c=A("./inftrees"),f=1,d=2,p=0,g=-2,B=1,m=852,x=592;function C(_){return(_>>>24&255)+(_>>>8&65280)+((65280&_)<<8)+((255&_)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(_){var G;return _&&_.state?(G=_.state,_.total_in=_.total_out=G.total=0,_.msg="",G.wrap&&(_.adler=1&G.wrap),G.mode=B,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new s.Buf32(m),G.distcode=G.distdyn=new s.Buf32(x),G.sane=1,G.back=-1,p):g}function E(_){var G;return _&&_.state?((G=_.state).wsize=0,G.whave=0,G.wnext=0,y(_)):g}function U(_,G){var F,q;return _&&_.state?(q=_.state,G<0?(F=0,G=-G):(F=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?g:(q.window!==null&&q.wbits!==G&&(q.window=null),q.wrap=F,q.wbits=G,E(_))):g}function T(_,G){var F,q;return _?(q=new w,(_.state=q).window=null,(F=U(_,G))!==p&&(_.state=null),F):g}var Q,M,D=!0;function R(_){if(D){var G;for(Q=new s.Buf32(512),M=new s.Buf32(32),G=0;G<144;)_.lens[G++]=8;for(;G<256;)_.lens[G++]=9;for(;G<280;)_.lens[G++]=7;for(;G<288;)_.lens[G++]=8;for(c(f,_.lens,0,288,Q,0,_.work,{bits:9}),G=0;G<32;)_.lens[G++]=5;c(d,_.lens,0,32,M,0,_.work,{bits:5}),D=!1}_.lencode=Q,_.lenbits=9,_.distcode=M,_.distbits=5}function j(_,G,F,q){var Y,J=_.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new s.Buf8(J.wsize)),q>=J.wsize?(s.arraySet(J.window,G,F-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(q<(Y=J.wsize-J.wnext)&&(Y=q),s.arraySet(J.window,G,F-q,Y,J.wnext),(q-=Y)?(s.arraySet(J.window,G,F-q,q,0),J.wnext=q,J.whave=J.wsize):(J.wnext+=Y,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=Y))),0}r.inflateReset=E,r.inflateReset2=U,r.inflateResetKeep=y,r.inflateInit=function(_){return T(_,15)},r.inflateInit2=T,r.inflate=function(_,G){var F,q,Y,J,ee,X,H,O,N,le,ae,te,me,oe,we,re,V,Ae,de,z,v,L,b,I,S=0,k=new s.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!_||!_.state||!_.output||!_.input&&_.avail_in!==0)return g;(F=_.state).mode===12&&(F.mode=13),ee=_.next_out,Y=_.output,H=_.avail_out,J=_.next_in,q=_.input,X=_.avail_in,O=F.hold,N=F.bits,le=X,ae=H,L=p;e:for(;;)switch(F.mode){case B:if(F.wrap===0){F.mode=13;break}for(;N<16;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(2&F.wrap&&O===35615){k[F.check=0]=255&O,k[1]=O>>>8&255,F.check=o(F.check,k,2,0),N=O=0,F.mode=2;break}if(F.flags=0,F.head&&(F.head.done=!1),!(1&F.wrap)||(((255&O)<<8)+(O>>8))%31){_.msg="incorrect header check",F.mode=30;break}if((15&O)!=8){_.msg="unknown compression method",F.mode=30;break}if(N-=4,v=8+(15&(O>>>=4)),F.wbits===0)F.wbits=v;else if(v>F.wbits){_.msg="invalid window size",F.mode=30;break}F.dmax=1<<v,_.adler=F.check=1,F.mode=512&O?10:12,N=O=0;break;case 2:for(;N<16;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(F.flags=O,(255&F.flags)!=8){_.msg="unknown compression method",F.mode=30;break}if(57344&F.flags){_.msg="unknown header flags set",F.mode=30;break}F.head&&(F.head.text=O>>8&1),512&F.flags&&(k[0]=255&O,k[1]=O>>>8&255,F.check=o(F.check,k,2,0)),N=O=0,F.mode=3;case 3:for(;N<32;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.head&&(F.head.time=O),512&F.flags&&(k[0]=255&O,k[1]=O>>>8&255,k[2]=O>>>16&255,k[3]=O>>>24&255,F.check=o(F.check,k,4,0)),N=O=0,F.mode=4;case 4:for(;N<16;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.head&&(F.head.xflags=255&O,F.head.os=O>>8),512&F.flags&&(k[0]=255&O,k[1]=O>>>8&255,F.check=o(F.check,k,2,0)),N=O=0,F.mode=5;case 5:if(1024&F.flags){for(;N<16;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.length=O,F.head&&(F.head.extra_len=O),512&F.flags&&(k[0]=255&O,k[1]=O>>>8&255,F.check=o(F.check,k,2,0)),N=O=0}else F.head&&(F.head.extra=null);F.mode=6;case 6:if(1024&F.flags&&(X<(te=F.length)&&(te=X),te&&(F.head&&(v=F.head.extra_len-F.length,F.head.extra||(F.head.extra=new Array(F.head.extra_len)),s.arraySet(F.head.extra,q,J,te,v)),512&F.flags&&(F.check=o(F.check,q,te,J)),X-=te,J+=te,F.length-=te),F.length))break e;F.length=0,F.mode=7;case 7:if(2048&F.flags){if(X===0)break e;for(te=0;v=q[J+te++],F.head&&v&&F.length<65536&&(F.head.name+=String.fromCharCode(v)),v&&te<X;);if(512&F.flags&&(F.check=o(F.check,q,te,J)),X-=te,J+=te,v)break e}else F.head&&(F.head.name=null);F.length=0,F.mode=8;case 8:if(4096&F.flags){if(X===0)break e;for(te=0;v=q[J+te++],F.head&&v&&F.length<65536&&(F.head.comment+=String.fromCharCode(v)),v&&te<X;);if(512&F.flags&&(F.check=o(F.check,q,te,J)),X-=te,J+=te,v)break e}else F.head&&(F.head.comment=null);F.mode=9;case 9:if(512&F.flags){for(;N<16;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(O!==(65535&F.check)){_.msg="header crc mismatch",F.mode=30;break}N=O=0}F.head&&(F.head.hcrc=F.flags>>9&1,F.head.done=!0),_.adler=F.check=0,F.mode=12;break;case 10:for(;N<32;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}_.adler=F.check=C(O),N=O=0,F.mode=11;case 11:if(F.havedict===0)return _.next_out=ee,_.avail_out=H,_.next_in=J,_.avail_in=X,F.hold=O,F.bits=N,2;_.adler=F.check=1,F.mode=12;case 12:if(G===5||G===6)break e;case 13:if(F.last){O>>>=7&N,N-=7&N,F.mode=27;break}for(;N<3;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}switch(F.last=1&O,N-=1,3&(O>>>=1)){case 0:F.mode=14;break;case 1:if(R(F),F.mode=20,G!==6)break;O>>>=2,N-=2;break e;case 2:F.mode=17;break;case 3:_.msg="invalid block type",F.mode=30}O>>>=2,N-=2;break;case 14:for(O>>>=7&N,N-=7&N;N<32;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if((65535&O)!=(O>>>16^65535)){_.msg="invalid stored block lengths",F.mode=30;break}if(F.length=65535&O,N=O=0,F.mode=15,G===6)break e;case 15:F.mode=16;case 16:if(te=F.length){if(X<te&&(te=X),H<te&&(te=H),te===0)break e;s.arraySet(Y,q,J,te,ee),X-=te,J+=te,H-=te,ee+=te,F.length-=te;break}F.mode=12;break;case 17:for(;N<14;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(F.nlen=257+(31&O),O>>>=5,N-=5,F.ndist=1+(31&O),O>>>=5,N-=5,F.ncode=4+(15&O),O>>>=4,N-=4,286<F.nlen||30<F.ndist){_.msg="too many length or distance symbols",F.mode=30;break}F.have=0,F.mode=18;case 18:for(;F.have<F.ncode;){for(;N<3;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.lens[P[F.have++]]=7&O,O>>>=3,N-=3}for(;F.have<19;)F.lens[P[F.have++]]=0;if(F.lencode=F.lendyn,F.lenbits=7,b={bits:F.lenbits},L=c(0,F.lens,0,19,F.lencode,0,F.work,b),F.lenbits=b.bits,L){_.msg="invalid code lengths set",F.mode=30;break}F.have=0,F.mode=19;case 19:for(;F.have<F.nlen+F.ndist;){for(;re=(S=F.lencode[O&(1<<F.lenbits)-1])>>>16&255,V=65535&S,!((we=S>>>24)<=N);){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(V<16)O>>>=we,N-=we,F.lens[F.have++]=V;else{if(V===16){for(I=we+2;N<I;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(O>>>=we,N-=we,F.have===0){_.msg="invalid bit length repeat",F.mode=30;break}v=F.lens[F.have-1],te=3+(3&O),O>>>=2,N-=2}else if(V===17){for(I=we+3;N<I;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}N-=we,v=0,te=3+(7&(O>>>=we)),O>>>=3,N-=3}else{for(I=we+7;N<I;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}N-=we,v=0,te=11+(127&(O>>>=we)),O>>>=7,N-=7}if(F.have+te>F.nlen+F.ndist){_.msg="invalid bit length repeat",F.mode=30;break}for(;te--;)F.lens[F.have++]=v}}if(F.mode===30)break;if(F.lens[256]===0){_.msg="invalid code -- missing end-of-block",F.mode=30;break}if(F.lenbits=9,b={bits:F.lenbits},L=c(f,F.lens,0,F.nlen,F.lencode,0,F.work,b),F.lenbits=b.bits,L){_.msg="invalid literal/lengths set",F.mode=30;break}if(F.distbits=6,F.distcode=F.distdyn,b={bits:F.distbits},L=c(d,F.lens,F.nlen,F.ndist,F.distcode,0,F.work,b),F.distbits=b.bits,L){_.msg="invalid distances set",F.mode=30;break}if(F.mode=20,G===6)break e;case 20:F.mode=21;case 21:if(6<=X&&258<=H){_.next_out=ee,_.avail_out=H,_.next_in=J,_.avail_in=X,F.hold=O,F.bits=N,u(_,ae),ee=_.next_out,Y=_.output,H=_.avail_out,J=_.next_in,q=_.input,X=_.avail_in,O=F.hold,N=F.bits,F.mode===12&&(F.back=-1);break}for(F.back=0;re=(S=F.lencode[O&(1<<F.lenbits)-1])>>>16&255,V=65535&S,!((we=S>>>24)<=N);){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(re&&!(240&re)){for(Ae=we,de=re,z=V;re=(S=F.lencode[z+((O&(1<<Ae+de)-1)>>Ae)])>>>16&255,V=65535&S,!(Ae+(we=S>>>24)<=N);){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}O>>>=Ae,N-=Ae,F.back+=Ae}if(O>>>=we,N-=we,F.back+=we,F.length=V,re===0){F.mode=26;break}if(32&re){F.back=-1,F.mode=12;break}if(64&re){_.msg="invalid literal/length code",F.mode=30;break}F.extra=15&re,F.mode=22;case 22:if(F.extra){for(I=F.extra;N<I;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.length+=O&(1<<F.extra)-1,O>>>=F.extra,N-=F.extra,F.back+=F.extra}F.was=F.length,F.mode=23;case 23:for(;re=(S=F.distcode[O&(1<<F.distbits)-1])>>>16&255,V=65535&S,!((we=S>>>24)<=N);){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(!(240&re)){for(Ae=we,de=re,z=V;re=(S=F.distcode[z+((O&(1<<Ae+de)-1)>>Ae)])>>>16&255,V=65535&S,!(Ae+(we=S>>>24)<=N);){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}O>>>=Ae,N-=Ae,F.back+=Ae}if(O>>>=we,N-=we,F.back+=we,64&re){_.msg="invalid distance code",F.mode=30;break}F.offset=V,F.extra=15&re,F.mode=24;case 24:if(F.extra){for(I=F.extra;N<I;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}F.offset+=O&(1<<F.extra)-1,O>>>=F.extra,N-=F.extra,F.back+=F.extra}if(F.offset>F.dmax){_.msg="invalid distance too far back",F.mode=30;break}F.mode=25;case 25:if(H===0)break e;if(te=ae-H,F.offset>te){if((te=F.offset-te)>F.whave&&F.sane){_.msg="invalid distance too far back",F.mode=30;break}me=te>F.wnext?(te-=F.wnext,F.wsize-te):F.wnext-te,te>F.length&&(te=F.length),oe=F.window}else oe=Y,me=ee-F.offset,te=F.length;for(H<te&&(te=H),H-=te,F.length-=te;Y[ee++]=oe[me++],--te;);F.length===0&&(F.mode=21);break;case 26:if(H===0)break e;Y[ee++]=F.length,H--,F.mode=21;break;case 27:if(F.wrap){for(;N<32;){if(X===0)break e;X--,O|=q[J++]<<N,N+=8}if(ae-=H,_.total_out+=ae,F.total+=ae,ae&&(_.adler=F.check=F.flags?o(F.check,Y,ae,ee-ae):i(F.check,Y,ae,ee-ae)),ae=H,(F.flags?O:C(O))!==F.check){_.msg="incorrect data check",F.mode=30;break}N=O=0}F.mode=28;case 28:if(F.wrap&&F.flags){for(;N<32;){if(X===0)break e;X--,O+=q[J++]<<N,N+=8}if(O!==(4294967295&F.total)){_.msg="incorrect length check",F.mode=30;break}N=O=0}F.mode=29;case 29:L=1;break e;case 30:L=-3;break e;case 31:return-4;case 32:default:return g}return _.next_out=ee,_.avail_out=H,_.next_in=J,_.avail_in=X,F.hold=O,F.bits=N,(F.wsize||ae!==_.avail_out&&F.mode<30&&(F.mode<27||G!==4))&&j(_,_.output,_.next_out,ae-_.avail_out)?(F.mode=31,-4):(le-=_.avail_in,ae-=_.avail_out,_.total_in+=le,_.total_out+=ae,F.total+=ae,F.wrap&&ae&&(_.adler=F.check=F.flags?o(F.check,Y,ae,_.next_out-ae):i(F.check,Y,ae,_.next_out-ae)),_.data_type=F.bits+(F.last?64:0)+(F.mode===12?128:0)+(F.mode===20||F.mode===15?256:0),(le==0&&ae===0||G===4)&&L===p&&(L=-5),L)},r.inflateEnd=function(_){if(!_||!_.state)return g;var G=_.state;return G.window&&(G.window=null),_.state=null,p},r.inflateGetHeader=function(_,G){var F;return _&&_.state&&2&(F=_.state).wrap?((F.head=G).done=!1,p):g},r.inflateSetDictionary=function(_,G){var F,q=G.length;return _&&_.state?(F=_.state).wrap!==0&&F.mode!==11?g:F.mode===11&&i(1,G,q,0)!==F.check?-3:j(_,G,q,q)?(F.mode=31,-4):(F.havedict=1,p):g},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,n,r){var s=A("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,d,p,g,B,m,x,C){var w,y,E,U,T,Q,M,D,R,j=C.bits,_=0,G=0,F=0,q=0,Y=0,J=0,ee=0,X=0,H=0,O=0,N=null,le=0,ae=new s.Buf16(16),te=new s.Buf16(16),me=null,oe=0;for(_=0;_<=15;_++)ae[_]=0;for(G=0;G<g;G++)ae[d[p+G]]++;for(Y=j,q=15;1<=q&&ae[q]===0;q--);if(q<Y&&(Y=q),q===0)return B[m++]=20971520,B[m++]=20971520,C.bits=1,0;for(F=1;F<q&&ae[F]===0;F++);for(Y<F&&(Y=F),_=X=1;_<=15;_++)if(X<<=1,(X-=ae[_])<0)return-1;if(0<X&&(f===0||q!==1))return-1;for(te[1]=0,_=1;_<15;_++)te[_+1]=te[_]+ae[_];for(G=0;G<g;G++)d[p+G]!==0&&(x[te[d[p+G]]++]=G);if(Q=f===0?(N=me=x,19):f===1?(N=i,le-=257,me=o,oe-=257,256):(N=u,me=c,-1),_=F,T=m,ee=G=O=0,E=-1,U=(H=1<<(J=Y))-1,f===1&&852<H||f===2&&592<H)return 1;for(;;){for(M=_-ee,R=x[G]<Q?(D=0,x[G]):x[G]>Q?(D=me[oe+x[G]],N[le+x[G]]):(D=96,0),w=1<<_-ee,F=y=1<<J;B[T+(O>>ee)+(y-=w)]=M<<24|D<<16|R|0,y!==0;);for(w=1<<_-1;O&w;)w>>=1;if(w!==0?(O&=w-1,O+=w):O=0,G++,--ae[_]==0){if(_===q)break;_=d[p+x[G]]}if(Y<_&&(O&U)!==E){for(ee===0&&(ee=Y),T+=F,X=1<<(J=_-ee);J+ee<q&&!((X-=ae[J+ee])<=0);)J++,X<<=1;if(H+=1<<J,f===1&&852<H||f===2&&592<H)return 1;B[E=O&U]=Y<<24|J<<16|T-m|0}}return O!==0&&(B[T+O]=_-ee<<24|64<<16|0),C.bits=Y,0}},{"../utils/common":41}],51:[function(A,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,n,r){var s=A("../utils/common"),i=0,o=1;function u(S){for(var k=S.length;0<=--k;)S[k]=0}var c=0,f=29,d=256,p=d+1+f,g=30,B=19,m=2*p+1,x=15,C=16,w=7,y=256,E=16,U=17,T=18,Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(p+2));u(j);var _=new Array(2*g);u(_);var G=new Array(512);u(G);var F=new Array(256);u(F);var q=new Array(f);u(q);var Y,J,ee,X=new Array(g);function H(S,k,P,Z,K){this.static_tree=S,this.extra_bits=k,this.extra_base=P,this.elems=Z,this.max_length=K,this.has_stree=S&&S.length}function O(S,k){this.dyn_tree=S,this.max_code=0,this.stat_desc=k}function N(S){return S<256?G[S]:G[256+(S>>>7)]}function le(S,k){S.pending_buf[S.pending++]=255&k,S.pending_buf[S.pending++]=k>>>8&255}function ae(S,k,P){S.bi_valid>C-P?(S.bi_buf|=k<<S.bi_valid&65535,le(S,S.bi_buf),S.bi_buf=k>>C-S.bi_valid,S.bi_valid+=P-C):(S.bi_buf|=k<<S.bi_valid&65535,S.bi_valid+=P)}function te(S,k,P){ae(S,P[2*k],P[2*k+1])}function me(S,k){for(var P=0;P|=1&S,S>>>=1,P<<=1,0<--k;);return P>>>1}function oe(S,k,P){var Z,K,ne=new Array(x+1),fe=0;for(Z=1;Z<=x;Z++)ne[Z]=fe=fe+P[Z-1]<<1;for(K=0;K<=k;K++){var se=S[2*K+1];se!==0&&(S[2*K]=me(ne[se]++,se))}}function we(S){var k;for(k=0;k<p;k++)S.dyn_ltree[2*k]=0;for(k=0;k<g;k++)S.dyn_dtree[2*k]=0;for(k=0;k<B;k++)S.bl_tree[2*k]=0;S.dyn_ltree[2*y]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function re(S){8<S.bi_valid?le(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function V(S,k,P,Z){var K=2*k,ne=2*P;return S[K]<S[ne]||S[K]===S[ne]&&Z[k]<=Z[P]}function Ae(S,k,P){for(var Z=S.heap[P],K=P<<1;K<=S.heap_len&&(K<S.heap_len&&V(k,S.heap[K+1],S.heap[K],S.depth)&&K++,!V(k,Z,S.heap[K],S.depth));)S.heap[P]=S.heap[K],P=K,K<<=1;S.heap[P]=Z}function de(S,k,P){var Z,K,ne,fe,se=0;if(S.last_lit!==0)for(;Z=S.pending_buf[S.d_buf+2*se]<<8|S.pending_buf[S.d_buf+2*se+1],K=S.pending_buf[S.l_buf+se],se++,Z===0?te(S,K,k):(te(S,(ne=F[K])+d+1,k),(fe=Q[ne])!==0&&ae(S,K-=q[ne],fe),te(S,ne=N(--Z),P),(fe=M[ne])!==0&&ae(S,Z-=X[ne],fe)),se<S.last_lit;);te(S,y,k)}function z(S,k){var P,Z,K,ne=k.dyn_tree,fe=k.stat_desc.static_tree,se=k.stat_desc.has_stree,ue=k.stat_desc.elems,Ee=-1;for(S.heap_len=0,S.heap_max=m,P=0;P<ue;P++)ne[2*P]!==0?(S.heap[++S.heap_len]=Ee=P,S.depth[P]=0):ne[2*P+1]=0;for(;S.heap_len<2;)ne[2*(K=S.heap[++S.heap_len]=Ee<2?++Ee:0)]=1,S.depth[K]=0,S.opt_len--,se&&(S.static_len-=fe[2*K+1]);for(k.max_code=Ee,P=S.heap_len>>1;1<=P;P--)Ae(S,ne,P);for(K=ue;P=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Ae(S,ne,1),Z=S.heap[1],S.heap[--S.heap_max]=P,S.heap[--S.heap_max]=Z,ne[2*K]=ne[2*P]+ne[2*Z],S.depth[K]=(S.depth[P]>=S.depth[Z]?S.depth[P]:S.depth[Z])+1,ne[2*P+1]=ne[2*Z+1]=K,S.heap[1]=K++,Ae(S,ne,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(W,ce){var he,ge,xe,Be,Ue,De,$e=ce.dyn_tree,be=ce.max_code,ft=ce.stat_desc.static_tree,Me=ce.stat_desc.has_stree,Ke=ce.stat_desc.extra_bits,Qe=ce.stat_desc.extra_base,Se=ce.stat_desc.max_length,Oe=0;for(Be=0;Be<=x;Be++)W.bl_count[Be]=0;for($e[2*W.heap[W.heap_max]+1]=0,he=W.heap_max+1;he<m;he++)Se<(Be=$e[2*$e[2*(ge=W.heap[he])+1]+1]+1)&&(Be=Se,Oe++),$e[2*ge+1]=Be,be<ge||(W.bl_count[Be]++,Ue=0,Qe<=ge&&(Ue=Ke[ge-Qe]),De=$e[2*ge],W.opt_len+=De*(Be+Ue),Me&&(W.static_len+=De*(ft[2*ge+1]+Ue)));if(Oe!==0){do{for(Be=Se-1;W.bl_count[Be]===0;)Be--;W.bl_count[Be]--,W.bl_count[Be+1]+=2,W.bl_count[Se]--,Oe-=2}while(0<Oe);for(Be=Se;Be!==0;Be--)for(ge=W.bl_count[Be];ge!==0;)be<(xe=W.heap[--he])||($e[2*xe+1]!==Be&&(W.opt_len+=(Be-$e[2*xe+1])*$e[2*xe],$e[2*xe+1]=Be),ge--)}}(S,k),oe(ne,Ee,S.bl_count)}function v(S,k,P){var Z,K,ne=-1,fe=k[1],se=0,ue=7,Ee=4;for(fe===0&&(ue=138,Ee=3),k[2*(P+1)+1]=65535,Z=0;Z<=P;Z++)K=fe,fe=k[2*(Z+1)+1],++se<ue&&K===fe||(se<Ee?S.bl_tree[2*K]+=se:K!==0?(K!==ne&&S.bl_tree[2*K]++,S.bl_tree[2*E]++):se<=10?S.bl_tree[2*U]++:S.bl_tree[2*T]++,ne=K,Ee=(se=0)===fe?(ue=138,3):K===fe?(ue=6,3):(ue=7,4))}function L(S,k,P){var Z,K,ne=-1,fe=k[1],se=0,ue=7,Ee=4;for(fe===0&&(ue=138,Ee=3),Z=0;Z<=P;Z++)if(K=fe,fe=k[2*(Z+1)+1],!(++se<ue&&K===fe)){if(se<Ee)for(;te(S,K,S.bl_tree),--se!=0;);else K!==0?(K!==ne&&(te(S,K,S.bl_tree),se--),te(S,E,S.bl_tree),ae(S,se-3,2)):se<=10?(te(S,U,S.bl_tree),ae(S,se-3,3)):(te(S,T,S.bl_tree),ae(S,se-11,7));ne=K,Ee=(se=0)===fe?(ue=138,3):K===fe?(ue=6,3):(ue=7,4)}}u(X);var b=!1;function I(S,k,P,Z){ae(S,(c<<1)+(Z?1:0),3),function(K,ne,fe,se){re(K),le(K,fe),le(K,~fe),s.arraySet(K.pending_buf,K.window,ne,fe,K.pending),K.pending+=fe}(S,k,P)}r._tr_init=function(S){b||(function(){var k,P,Z,K,ne,fe=new Array(x+1);for(K=Z=0;K<f-1;K++)for(q[K]=Z,k=0;k<1<<Q[K];k++)F[Z++]=K;for(F[Z-1]=K,K=ne=0;K<16;K++)for(X[K]=ne,k=0;k<1<<M[K];k++)G[ne++]=K;for(ne>>=7;K<g;K++)for(X[K]=ne<<7,k=0;k<1<<M[K]-7;k++)G[256+ne++]=K;for(P=0;P<=x;P++)fe[P]=0;for(k=0;k<=143;)j[2*k+1]=8,k++,fe[8]++;for(;k<=255;)j[2*k+1]=9,k++,fe[9]++;for(;k<=279;)j[2*k+1]=7,k++,fe[7]++;for(;k<=287;)j[2*k+1]=8,k++,fe[8]++;for(oe(j,p+1,fe),k=0;k<g;k++)_[2*k+1]=5,_[2*k]=me(k,5);Y=new H(j,Q,d+1,p,x),J=new H(_,M,0,g,x),ee=new H(new Array(0),D,0,B,w)}(),b=!0),S.l_desc=new O(S.dyn_ltree,Y),S.d_desc=new O(S.dyn_dtree,J),S.bl_desc=new O(S.bl_tree,ee),S.bi_buf=0,S.bi_valid=0,we(S)},r._tr_stored_block=I,r._tr_flush_block=function(S,k,P,Z){var K,ne,fe=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(se){var ue,Ee=4093624447;for(ue=0;ue<=31;ue++,Ee>>>=1)if(1&Ee&&se.dyn_ltree[2*ue]!==0)return i;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return o;for(ue=32;ue<d;ue++)if(se.dyn_ltree[2*ue]!==0)return o;return i}(S)),z(S,S.l_desc),z(S,S.d_desc),fe=function(se){var ue;for(v(se,se.dyn_ltree,se.l_desc.max_code),v(se,se.dyn_dtree,se.d_desc.max_code),z(se,se.bl_desc),ue=B-1;3<=ue&&se.bl_tree[2*R[ue]+1]===0;ue--);return se.opt_len+=3*(ue+1)+5+5+4,ue}(S),K=S.opt_len+3+7>>>3,(ne=S.static_len+3+7>>>3)<=K&&(K=ne)):K=ne=P+5,P+4<=K&&k!==-1?I(S,k,P,Z):S.strategy===4||ne===K?(ae(S,2+(Z?1:0),3),de(S,j,_)):(ae(S,4+(Z?1:0),3),function(se,ue,Ee,W){var ce;for(ae(se,ue-257,5),ae(se,Ee-1,5),ae(se,W-4,4),ce=0;ce<W;ce++)ae(se,se.bl_tree[2*R[ce]+1],3);L(se,se.dyn_ltree,ue-1),L(se,se.dyn_dtree,Ee-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,fe+1),de(S,S.dyn_ltree,S.dyn_dtree)),we(S),Z&&re(S)},r._tr_tally=function(S,k,P){return S.pending_buf[S.d_buf+2*S.last_lit]=k>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&k,S.pending_buf[S.l_buf+S.last_lit]=255&P,S.last_lit++,k===0?S.dyn_ltree[2*P]++:(S.matches++,k--,S.dyn_ltree[2*(F[P]+d+1)]++,S.dyn_dtree[2*N(k)]++),S.last_lit===S.lit_bufsize-1},r._tr_align=function(S){ae(S,2,3),te(S,y,j),function(k){k.bi_valid===16?(le(k,k.bi_buf),k.bi_buf=0,k.bi_valid=0):8<=k.bi_valid&&(k.pending_buf[k.pending++]=255&k.bi_buf,k.bi_buf>>=8,k.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(A,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,n,r){(function(s){(function(i,o){if(!i.setImmediate){var u,c,f,d,p=1,g={},B=!1,m=i.document,x=Object.getPrototypeOf&&Object.getPrototypeOf(i);x=x&&x.setTimeout?x:i,u={}.toString.call(i.process)==="[object process]"?function(E){process.nextTick(function(){w(E)})}:function(){if(i.postMessage&&!i.importScripts){var E=!0,U=i.onmessage;return i.onmessage=function(){E=!1},i.postMessage("","*"),i.onmessage=U,E}}()?(d="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",y,!1):i.attachEvent("onmessage",y),function(E){i.postMessage(d+E,"*")}):i.MessageChannel?((f=new MessageChannel).port1.onmessage=function(E){w(E.data)},function(E){f.port2.postMessage(E)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(E){var U=m.createElement("script");U.onreadystatechange=function(){w(E),U.onreadystatechange=null,c.removeChild(U),U=null},c.appendChild(U)}):function(E){setTimeout(w,0,E)},x.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var U=new Array(arguments.length-1),T=0;T<U.length;T++)U[T]=arguments[T+1];var Q={callback:E,args:U};return g[p]=Q,u(p),p++},x.clearImmediate=C}function C(E){delete g[E]}function w(E){if(B)setTimeout(w,0,E);else{var U=g[E];if(U){B=!0;try{(function(T){var Q=T.callback,M=T.args;switch(M.length){case 0:Q();break;case 1:Q(M[0]);break;case 2:Q(M[0],M[1]);break;case 3:Q(M[0],M[1],M[2]);break;default:Q.apply(o,M)}})(U)}finally{C(E),B=!1}}}}function y(E){E.source===i&&typeof E.data=="string"&&E.data.indexOf(d)===0&&w(+E.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Li<"u"?Li:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Rw);var qN=Rw.exports;const Zr=vg(qN),gi="https://mobile.ktl.re.kr/labview/api",Pw="/uploadfiles",Hw="/env",XN="/kakaotalkmsg",Bi=9e4,IA=t=>t?t.replace(/[^\w\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3040-\u30FF\u3200-\u32FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF\-]+/g,"_").replace(/__+/g,"_"):"untitled",ZN=t=>t.includes("image/jpeg")?"jpg":t.includes("image/png")?"png":t.includes("image/webp")?"webp":t.includes("image/gif")?"gif":"bin";async function wi(t,e=2,A=2e3,n="KTL API"){var s;let r;for(let i=0;i<=e;i++)try{return await t()}catch(o){r=o;const u=String(o.message||"").toLowerCase(),c=o.isAxiosError?(s=o.response)==null?void 0:s.status:void 0,f=u.includes("network error")||c===503||c===504;if(i===e){if(console.error(`[ClaydoxAPI] ${n} call failed after ${i+1} attempt(s). Final error:`,r.message||r),u.includes("network error")){const p=new Error(`${n} 전송 실패 (네트워크 오류). 인터넷 연결을 확인하거나 잠시 후 다시 시도해 주세요. 문제가 지속될 경우 KTL 서버 또는 프록시 서버의 문제일 수 있습니다. (원인: ${r.message})`);throw p.isNetworkError=!0,p}}else if(!f){console.error(`[ClaydoxAPI] ${n} call failed with non-retryable error (attempt ${i+1}). Error:`,r.message||r);break}const d=A*Math.pow(2,i);console.warn(`[ClaydoxAPI] ${n} call failed (attempt ${i+1}/${e+1}). Retrying in ${d}ms... Error:`,o.message||o),await new Promise(p=>setTimeout(p,d))}throw r}const Kw=(t,e,A)=>{var B;const n={},r=A.find(m=>(m.endsWith(".jpg")||m.endsWith(".jpeg")||m.endsWith(".png"))&&!m.includes("datatable")),s=A.find(m=>m.endsWith(".zip")),i=A.find(m=>m.includes("datatable.png"));t.ocrData.forEach(m=>{var x,C;if(t.pageType==="DrinkingWater"){const w=["Z 2시간 시작 - 종료","드리프트 완료","반복성 완료"];if(m.identifier&&w.includes(m.identifier))return;if(m.identifier==="응답"){if(m.value&&m.value.trim().startsWith("["))try{const y=JSON.parse(m.value);if(Array.isArray(y)){const[E,U,T]=y.map(Q=>String(Q||"").trim());E&&(n.응답시간_초=E),U&&(n.응답시간_분=U),T&&(n.응답시간_길이=T)}}catch(y){console.warn("Could not parse TU response time value for KTL JSON:",m.value,y)}if(t.item==="TU/CL"&&m.valueTP&&m.valueTP.trim().startsWith("["))try{const y=JSON.parse(m.valueTP);if(Array.isArray(y)){const[E,U,T]=y.map(Q=>String(Q||"").trim());E&&(n.응답시간_초C=E),U&&(n.응답시간_분C=U),T&&(n.응답시간_길이C=T)}}catch(y){console.warn("Could not parse Cl response time value for KTL JSON:",m.valueTP,y)}return}if(m.identifier){if(typeof m.value=="string"&&m.value.trim()){const y=((x=m.value.match(/^-?\d+(\.\d+)?/))==null?void 0:x[0])||null;y!==null&&(n[m.identifier]=y)}if(t.item==="TU/CL"&&typeof m.valueTP=="string"&&m.valueTP.trim()){const y=((C=m.valueTP.match(/^-?\d+(\.\d+)?/))==null?void 0:C[0])||null;if(y!==null){const E=m.identifier==="M"?"MC":`${m.identifier}C`;n[E]=y}}}}else if(t.item==="TN/TP"){if(m.identifier&&typeof m.value=="string"&&m.value.trim()){const w=m.value.match(/^-?\d+(\.\d+)?/),y=w?w[0]:null;y!==null&&(n[m.identifier]=y)}if(m.identifierTP&&typeof m.valueTP=="string"&&m.valueTP.trim()){const w=m.valueTP.match(/^-?\d+(\.\d+)?/),y=w?w[0]:null;y!==null&&(n[m.identifierTP]=y)}}else if(m.identifier&&typeof m.value=="string"&&m.value.trim()){const w=m.value.match(/^-?\d+(\.\d+)?/),y=w?w[0]:null;y!==null&&(n[m.identifier]=y)}});let o=null;n.hasOwnProperty("M1")?o="M1":t.item==="TN/TP"&&n.hasOwnProperty("M1P")&&(o="M1P"),o?(r&&(n[`${o}_사진`]=r),s&&(n[`${o}_압축`]=s)):(r&&(n.PHOTO_사진=r),s&&(n.PHOTO_압축=s)),t.ocrData.length===0&&(r&&!n.PHOTO_사진&&(!o||!n[`${o}_사진`])&&(n.PHOTO_사진=r),s&&!n.PHOTO_압축&&(!o||!n[`${o}_압축`])&&(n.PHOTO_압축=s)),i&&(n.PHOTO_데이터테이블=i),t.identifierSequence&&t.identifierSequence.length>0&&(n.sequence_code=t.identifierSequence),typeof t.maxDecimalPlaces=="number"&&t.maxDecimalPlaces>=0&&(n.소수점=String(t.maxDecimalPlaces)),typeof t.maxDecimalPlacesCl=="number"&&t.maxDecimalPlacesCl>=0&&(n.소수점C=String(t.maxDecimalPlacesCl)),t.updateUser&&(n.시험자=t.updateUser),t.siteLocation&&(n.현장=t.siteLocation);let u="수질";const c=((B=Kn.find(m=>m.label==="먹는물"))==null?void 0:B.items)||[];t.pageType==="FieldCount"?u="현장계수":(t.pageType==="DrinkingWater"||c.includes(t.item))&&(u="먹는물");let f=t.siteLocation;if(u==="먹는물"&&t.siteLocation.includes(" / ")){const m=t.siteLocation.split(" / ").map(w=>w.trim()).filter(w=>w),x=m[0],C=m.slice(1).join(" / ");x&&C&&(f=`${x}_(${C})`)}const p={comment:`${u} (항목: ${t.item}, 현장: ${f})`};return{LABVIEW_GUBN:`${u}_${t.item.replace("/","_")}`,LABVIEW_DESC:JSON.stringify(p),LABVIEW_RECEIPTNO:t.receiptNumber,UPDATE_USER:t.updateUser,LABVIEW_ITEM:JSON.stringify(n)}},Ow=["LABVIEW_GUBN","LABVIEW_DESC","LABVIEW_RECEIPTNO","UPDATE_USER","LABVIEW_ITEM"],gd=(t,e,A)=>{const n=Kw(t,e,A);return JSON.stringify(n,Ow,2)},Ci=async(t,e,A,n)=>{var o,u;const r=new FormData;e.forEach(c=>{r.append("files",c,c.name)});let s="Page 1";t.pageType==="FieldCount"?s="Page 2":t.pageType==="DrinkingWater"&&(s="Page 3");const i=`[ClaydoxAPI - ${s}]`;try{e.length>0&&(console.log(`${i} Uploading files:`,e.map(d=>d.name)),await wi(()=>We.post(`${gi}${Pw}`,r,{headers:{"Content-Type":"multipart/form-data"},timeout:Bi}),2,2e3,`${s} File Upload`),console.log(`${i} Files uploaded successfully.`));const c=Kw(t,A,n);console.log(`${i} Sending JSON data to KTL:`,c);const f=await wi(()=>We.post(`${gi}${Hw}`,c,{headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:Bi}),2,2e3,`${s} JSON Data Send to /env`);return console.log(`${i} JSON sent successfully. Response:`,f.data),{message:((o=f.data)==null?void 0:o.message)||`데이터 및 파일 전송 완료 (${s})`,data:f.data}}catch(c){let f=`알 수 없는 오류 발생 (${s})`;if(We.isAxiosError(c)){const d=c,p=(u=d.response)==null?void 0:u.data;console.error(`${i} KTL API Error after retries:`,p||d.message),p&&typeof p=="object"&&"message"in p&&typeof p.message=="string"?f=p.message:typeof p=="string"?p.trim().length>0&&p.length<500?f=p.trim():f=d.message||`KTL API 응답 문자열 처리 오류 (${s})`:d.message?f=d.message:f=`KTL API와 통신 중 알 수 없는 오류가 발생했습니다. (${s})`}else f=c.isNetworkError?c.message:c.message||`알 수 없는 비-Axios 오류 발생 (${s})`;throw console.error(`${i} Final error message to throw:`,f),new Error(f)}},Vw=(t,e,A,n)=>{const r={};return t.forEach(s=>{if(s.postInspectionDateValue){let o=s.postInspectionDateValue,u="";if(o==="1년 후"?u="1년후":o==="2년 후"&&(u="2년후"),u){const f=`구조_사후검사일${s.mainItemKey==="TP"?"P":s.mainItemKey==="Cl"?"C":""}_주기`;r[f]=u}}if(s.mainItemKey==="TOC"){const o=s.checklistData[Yr];o&&o.notes&&o.notes.trim()!==""&&(r.구조_배출기준_입력값=o.notes.trim());const u=s.checklistData[mi];u&&u.notes&&u.notes.trim()!==""&&(r.구조_응답시간_입력값=u.notes.trim())}Object.entries(s.checklistData).forEach(([o,u])=>{var d;if(s.mainItemKey==="TOC"&&(o===Yr||o===mi))return;const c=IA(o).replace(/_/g,"");let f=`구조_${c}`;if(s.mainItemKey==="TP"?f=`구조_${c}P`:s.mainItemKey==="Cl"&&(f=`구조_${c}C`),o!=="기기번호 확인"){let p;u.status==="선택 안됨"?p="":u.status==="적합"?p="적 합":p=u.status,r[`${f}_상태`]=p,u.confirmedAt&&u.confirmedAt.trim()!==""&&(r[`${f}_확인일시`]=u.confirmedAt.trim())}if(o==="측정범위확인"){r[`${f}_노트`]=u.notes||"";let p="";const g=(d=u.notes)==null?void 0:d.trim();if(g&&g!==Ia){let B=g;if(g.startsWith(Le)){const m=g.match(/\(([^)]+)\)/);m&&m[1]?B=m[1].trim():B=""}if(B){const m=B.match(/\d+(\.\d+)?/g);m&&m.length>0&&(p=m[m.length-1])}}r[`${f}_상한값`]=p}else u.specialNotes&&u.specialNotes.trim()!==""&&(r[`${f}_특이사항`]=u.specialNotes.trim());if(o==="정도검사 증명서"&&u.notes)try{const p=JSON.parse(u.notes);let g="";switch(p.presence){case"present":g="있음";break;case"initial_new":g="최초정도검사";break;case"reissued_lost":g="분실 후 재발행";break;default:g=p.presence&&p.presence!=="not_selected"?String(p.presence):"선택 안됨"}if(r[`${f}_세부상태`]=g,p.productName&&p.productName.trim()!==""&&(r[`${f}_품명`]=p.productName.trim()),p.manufacturer&&p.manufacturer.trim()!==""&&(r[`${f}_제작사`]=p.manufacturer.trim()),p.serialNumber&&p.serialNumber.trim()!==""&&(r[`${f}_기기번호`]=p.serialNumber.trim()),p.typeApprovalNumber&&p.typeApprovalNumber.trim()!==""&&(r[`${f}_번호`]=p.typeApprovalNumber.trim()),p.inspectionDate&&p.inspectionDate.trim()!==""){const B=p.inspectionDate.replace(/\s/g,"").replace(/\./g,"-");r[`${f}_검사일자`]=B}if(p.validity&&p.validity.trim()!==""){const B=p.validity.replace(/\s/g,"").replace(/\./g,"-");r[`${f}_유효기간`]=B}p.previousReceiptNumber&&p.previousReceiptNumber.trim()!==""&&(r[`${f}_직전접수번호`]=p.previousReceiptNumber.trim()),p.specialNotes&&p.specialNotes.trim()!==""&&!r[`${f}_특이사항`]&&(r[`${f}_특이사항`]=p.specialNotes.trim())}catch{u.notes&&u.notes.trim()!==""&&!r[`${f}_특이사항`]&&(r[`${f}_노트`]=u.notes.trim())}else if(o==="표시사항확인"){let p=!1;if(u.notes&&u.notes.trim().startsWith("{")&&u.notes.trim().endsWith("}"))try{const g=JSON.parse(u.notes);if(typeof g=="object"&&g!==null){for(const[B,m]of Object.entries(g))if(typeof m=="string"||typeof m=="number"||typeof m=="boolean"){const x=IA(B).replace(/_/g,"");r[`${f}_${x}`]=String(m)}p=!0}}catch{}!p&&u.notes&&u.notes.trim()!==""&&!r[`${f}_특이사항`]&&(r[`${f}_노트`]=u.notes.trim())}else u.notes&&u.notes.trim()!==""&&!r[`${f}_특이사항`]&&(r[`${f}_노트`]=u.notes.trim())});let i="구조";s.mainItemKey==="TP"?i="구조P":s.mainItemKey==="Cl"&&(i="구조C"),s.checklistImageFileName&&(r[`${i}_체크리스트사진`]=s.checklistImageFileName),A&&(r[`${i}_개별사진묶음`]=A),n&&(r[`${i}_압축`]=n)}),e&&(r.시험자=e),r},jN=(t,e,A,n,r,s)=>{if(!t||t.length===0)return"미리보기할 작업 데이터가 없습니다.";const i=t[0],o=t.map(m=>{const x=IA(m.receiptNumber);let C="";m.mainItemKey==="TN"||(m.mainItemKey==="TP"?C="P":m.mainItemKey==="Cl"?C="C":C=IA(m.mainItemKey));const w=`${x}${C?`_${C}`:""}_checklist.png`;return{...m,photoFileNames:{},checklistImageFileName:w}}),u=Vw(o,n,r,s),d={comment:`구조 (항목: ${Array.from(new Set(t.map(m=>{var x;return((x=lt.find(C=>C.key===m.mainItemKey))==null?void 0:x.name)||m.mainItemKey}))).join(", ")}, 현장: ${e}`},B={LABVIEW_GUBN:`구조_${Array.from(new Set(t.map(m=>m.mainItemKey))).sort().join(",")}`,LABVIEW_DESC:JSON.stringify(d),LABVIEW_RECEIPTNO:i.receiptNumber,UPDATE_USER:n,LABVIEW_ITEM:JSON.stringify(u)};return JSON.stringify(B,Ow,2)},Gw=t=>`${IA(t)}_composite.png`,$w=t=>`${IA(t)}_압축.zip`,Cm=async(t,e,A,n,r)=>{var g;const s=[],i=[],o=new Map,u=new Map,c=[],f=[];for(const B of t)B.photos.forEach(m=>{var x;f.push({...m,jobId:B.id,jobReceipt:B.receiptNumber,jobItemKey:B.mainItemKey,jobItemName:((x=lt.find(C=>C.key===B.mainItemKey))==null?void 0:x.name)||B.mainItemKey})}),c.push({receiptNumber:B.receiptNumber,siteLocation:A,mainItemKey:B.mainItemKey,checklistData:B.checklistData,updateUser:r,photoFileNames:{},postInspectionDateValue:B.postInspectionDate});const d=Array.from(new Set(t.map(B=>B.receiptNumber)));for(const B of d){const m=f.filter(x=>x.jobReceipt===B);if(m.length>0){const x=m.map(E=>{const U=t.find(Q=>Q.id===E.jobId),T=U==null?void 0:U.photoComments[E.uid];return{base64:E.base64,mimeType:E.mimeType,comment:T}}),C=t.filter(E=>E.receiptNumber===B).map(E=>{var U;return((U=lt.find(T=>T.key===E.mainItemKey))==null?void 0:U.name)||E.mainItemKey}),w=Array.from(new Set(C)).join(", "),y={receiptNumber:B,siteLocation:A,item:w,inspectionStartDate:n};try{const E=await Xr(x,y,"image/png"),U=Ot(E),T=Gw(B),Q=new File([U],T,{type:"image/png"});i.push(Q),o.set(B,T)}catch(E){console.error(`[ClaydoxAPI - Page 2] Error generating composite image for ${B}:`,E),t.filter(U=>U.receiptNumber===B).forEach(U=>{var T;s.find(Q=>{var M;return Q.receiptNo===U.receiptNumber&&Q.mainItem===(((M=lt.find(D=>D.key===U.mainItemKey))==null?void 0:M.name)||U.mainItemKey)})||s.push({receiptNo:U.receiptNumber,mainItem:((T=lt.find(Q=>Q.key===U.mainItemKey))==null?void 0:T.name)||U.mainItemKey,success:!1,message:`참고사진 종합 이미지 생성 실패: ${E.message||"알 수 없는 오류"}`})});continue}}if(m.length>0){const x=new Zr;let C=1;for(const w of m)try{const y=t.find(R=>R.id===w.jobId),E=y==null?void 0:y.photoComments[w.uid],U=await qr(w.base64,w.mimeType,w.jobReceipt,A,n||"",w.jobItemName,E),T=Ot(U),Q=IA(w.jobItemKey),M=ZN(w.mimeType),D=`${IA(w.jobReceipt)}_${Q}_${C++}.${M}`;x.file(D,T)}catch(y){console.error(`[ClaydoxAPI - Page 2] Error stamping individual photo ${w.file.name} for ZIP for ${B}:`,y)}if(Object.keys(x.files).length>0)try{const w=await x.generateAsync({type:"blob"}),y=$w(B),E=new File([w],y,{type:"application/zip"});i.push(E),u.set(B,y)}catch(w){console.error(`[ClaydoxAPI - Page 2] Error generating ZIP file for ${B}:`,w),t.filter(y=>y.receiptNumber===B).forEach(y=>{var E;s.find(U=>{var T;return U.receiptNo===y.receiptNumber&&U.mainItem===(((T=lt.find(Q=>Q.key===y.mainItemKey))==null?void 0:T.name)||y.mainItemKey)&&U.message.includes("ZIP 생성 실패")})||s.push({receiptNo:y.receiptNumber,mainItem:((E=lt.find(U=>U.key===y.mainItemKey))==null?void 0:E.name)||y.mainItemKey,success:!1,message:`참고사진 ZIP 생성 실패: ${w.message||"알 수 없는 오류"}`})})}}}if(e.forEach(B=>{const m=Ot(`data:${B.mimeType};base64,${B.base64}`),x=new File([m],B.file.name,{type:B.mimeType});i.push(x);const C=c.find(w=>{const y=IA(w.receiptNumber);let E="";w.mainItemKey==="TN"?E="":w.mainItemKey==="TP"?E="P":w.mainItemKey==="Cl"?E="C":E=IA(w.mainItemKey);const U=`${y}${E?`_${E}`:""}_checklist.png`;return B.file.name===U});C?C.checklistImageFileName=B.file.name:console.warn(`[ClaydoxAPI - Page 2] Could not find related job for checklist image: ${B.file.name}`)}),i.length>0){const B=new FormData;i.forEach(m=>{B.append("files",m,m.name)});try{console.log("[ClaydoxAPI - Page 2] Uploading all files directly to KTL /uploadfiles:",i.map(m=>m.name)),await wi(()=>We.post(`${gi}${Pw}`,B,{headers:{"Content-Type":"multipart/form-data"},timeout:Bi}),2,2e3,"Page 2 All Files Upload (Direct to KTL /uploadfiles)"),console.log("[ClaydoxAPI - Page 2] All files for Page 2 uploaded successfully to KTL /uploadfiles.")}catch(m){return console.error("[ClaydoxAPI - Page 2] Files upload to KTL /uploadfiles failed:",m),t.forEach(x=>{var C;s.find(w=>{var y;return w.receiptNo===x.receiptNumber&&(((y=lt.find(E=>E.key===x.mainItemKey))==null?void 0:y.name)||x.mainItemKey)===w.mainItem})||s.push({receiptNo:x.receiptNumber,mainItem:((C=lt.find(w=>w.key===x.mainItemKey))==null?void 0:C.name)||x.mainItemKey,success:!1,message:`파일 업로드 실패 (KTL /uploadfiles): ${m.message||"알 수 없는 파일 업로드 오류"}`})}),s}}const p={};c.forEach(B=>{B.inspectionStartDate=n,p[B.receiptNumber]||(p[B.receiptNumber]=[]),p[B.receiptNumber].push(B)});for(const B in p){const m=p[B],x=o.get(B),C=u.get(B),w=Vw(m,r,x,C),y=new Date,E=y.getFullYear(),U=String(y.getMonth()+1).padStart(2,"0"),T=String(y.getDate()).padStart(2,"0");w.검사시작일=`${E}-${U}-${T}`;const Q=Array.from(new Set(m.map(q=>{var Y;return((Y=lt.find(J=>J.key===q.mainItemKey))==null?void 0:Y.name)||q.mainItemKey}))),D={comment:`구조 (항목: ${Q.join(", ")}, 현장: ${A}`},_={LABVIEW_GUBN:`구조_${Array.from(new Set(m.map(q=>q.mainItemKey))).sort().join(",")}`,LABVIEW_DESC:JSON.stringify(D),LABVIEW_RECEIPTNO:B,UPDATE_USER:r,LABVIEW_ITEM:JSON.stringify(w)},G=`${gi}${Hw}`,F=`Page 2 JSON Send for ${B} directly to /env`;console.log(`[ClaydoxAPI - Page 2] Sending MERGED JSON for ${B} (Items: ${Q.join(", ")}) directly to URL: ${G}`),console.log(`[ClaydoxAPI - Page 2] Stringified JSON length for ${B}: ${JSON.stringify(_).length}`);try{const q=await wi(()=>We.post(G,_,{headers:{"Content-Type":"application/json",Accept:"application/json"},timeout:Bi}),2,2e3,F);console.log(`[ClaydoxAPI - Page 2] MERGED JSON for ${B} sent. Response:`,q.data),m.forEach(Y=>{var J,ee;s.push({receiptNo:Y.receiptNumber,mainItem:((J=lt.find(X=>X.key===Y.mainItemKey))==null?void 0:J.name)||Y.mainItemKey,success:!0,message:((ee=q.data)==null?void 0:ee.message)||"성공"})})}catch(q){let Y="알 수 없는 오류 (직접 전송)";if(We.isAxiosError(q)){const J=q,ee=(g=J.response)==null?void 0:g.data;console.error(`[ClaydoxAPI - Page 2] Axios MERGED JSON send for ${B} directly to /env failed. TargetURL: ${G}. Error:`,ee||J.message),ee&&typeof ee=="object"&&"message"in ee&&typeof ee.message=="string"?Y=ee.message:typeof ee=="string"?ee.trim().length>0&&ee.length<500?Y=ee.trim():Y=J.message||`KTL API 응답 문자열 처리 오류 (${B}, 직접 Axios 오류)`:J.message?Y=J.message:Y=`KTL 서버와 통신 중 알 수 없는 오류 (${B}, 직접 Axios 오류)`}else Y=q.isNetworkError?q.message:q.message||`알 수 없는 비-Axios 오류 (${B}, 직접 전송)`;console.error(`[ClaydoxAPI - Page 2] Final error message for ${B} (direct to /env):`,Y),m.forEach(J=>{var ee;s.push({receiptNo:J.receiptNumber,mainItem:((ee=lt.find(X=>X.key===J.mainItemKey))==null?void 0:ee.name)||J.mainItemKey,success:!1,message:`JSON 전송 실패 (직접 전송): ${Y}`})})}}return s},e4="9f04ece57d9f1f613b8888dae1997c57d3f",t4=async(t,e,A)=>{var i,o;const n={APIKEY:e4,MSG:t,PHONE:e};A&&(n.RESERVETIME=A);const r=JSON.stringify(n),s={LABVIEW_ITEM:r};try{console.log("[ClaydoxAPI - Page 3] Sending KakaoTalk message with payload:",r);const u=await wi(()=>We.post(`${gi}${XN}`,s,{headers:{"Content-Type":"application/json"},timeout:Bi}),2,2e3,"Page 3 KakaoTalk Send");return console.log("[ClaydoxAPI - Page 3] KakaoTalk message sent. Response:",u.data),{message:((i=u.data)==null?void 0:i.message)||"카카오톡 메시지 전송 요청 완료",data:u.data}}catch(u){let c="알 수 없는 오류 발생 (Page 3)";if(We.isAxiosError(u)){const f=u,d=(o=f.response)==null?void 0:o.data;d&&typeof d=="object"&&"message"in d&&typeof d.message=="string"?c=d.message:typeof d=="string"&&d.length<500&&d.trim()?c=d.trim():f.message?c=f.message:c="KTL API와 통신 중 알 수 없는 오류가 발생했습니다. (Page 3)"}else c=u.message||"알 수 없는 비-Axios 오류 발생 (Page 3)";throw console.error("[ClaydoxAPI - Page 3] Final error message to throw:",c),new Error(c)}},dl=({isOpen:t,onClose:e,onConfirm:A,preflightData:n})=>{if(!t||!n)return null;const{jsonPayload:r,fileNames:s,context:i}=n,o=!i.receiptNumber.toLowerCase().includes("일괄 작업")&&!i.receiptNumber.toLowerCase().includes("batch"),u=async(c,f)=>{if(!c){alert(`${f} 내용이 없습니다.`);return}try{await navigator.clipboard.writeText(c),alert(`${f} 복사 완료!`)}catch(d){console.error(`클립보드에 ${f} 복사 실패:`,d),alert(`${f} 복사에 실패했습니다. 콘솔을 확인해주세요.`)}};return h.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-75 backdrop-blur-sm flex items-center justify-center p-4 z-50","aria-labelledby":"ktl-preflight-modal-title",role:"dialog","aria-modal":"true",children:h.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[h.jsx("h2",{id:"ktl-preflight-modal-title",className:"text-2xl font-bold text-sky-400 mb-4 pb-3 border-b border-slate-700",children:"KTL 전송 전 최종 확인"}),h.jsxs("div",{className:"overflow-y-auto space-y-6 pr-2 flex-grow",children:[h.jsxs("section",{children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:"주요 정보"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-sm bg-slate-700/50 p-3 rounded-md",children:[h.jsxs("div",{children:[h.jsx("strong",{className:"text-slate-400",children:"접수번호/작업:"})," ",h.jsx("span",{className:"text-slate-100",children:i.receiptNumber})]}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-slate-400",children:"현장:"})," ",h.jsx("span",{className:"text-slate-100",children:i.siteLocation})]}),h.jsxs("div",{className:"sm:col-span-2",children:[h.jsx("strong",{className:"text-slate-400",children:"항목/내용:"})," ",h.jsx("span",{className:"text-slate-100 break-all",children:i.selectedItem})]}),h.jsxs("div",{children:[h.jsx("strong",{className:"text-slate-400",children:"사용자:"})," ",h.jsx("span",{className:"text-slate-100",children:i.userName})]}),i.inspectionStartDate&&i.inspectionStartDate.trim()!==""&&h.jsxs("div",{children:[h.jsx("strong",{className:"text-slate-400",children:"검사시작일:"})," ",h.jsx("span",{className:"text-slate-100",children:i.inspectionStartDate})]})]})]}),h.jsxs("section",{children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:["전송될 파일 목록 (",s.length,"개)"]}),s.length>0?h.jsx("ul",{className:"list-disc list-inside bg-slate-700/50 p-3 rounded-md text-sm text-slate-300 max-h-40 overflow-y-auto",children:s.map((c,f)=>h.jsx("li",{className:"truncate py-0.5",children:c},f))}):h.jsx("p",{className:"text-sm text-slate-400 bg-slate-700/50 p-3 rounded-md",children:"전송될 파일이 없습니다 (사진이 없는 경우 정상)."})]}),h.jsxs("section",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"JSON 데이터 미리보기"}),h.jsx(He,{onClick:()=>u(r,"KTL JSON"),variant:"secondary",className:"text-xs py-1 px-2","aria-label":"KTL JSON 데이터 클립보드에 복사",disabled:r.startsWith("표시할 JSON 예시가 없습니다"),children:"JSON 복사"})]}),h.jsx("pre",{className:"bg-slate-900 p-3 rounded-md text-xs text-slate-300 overflow-x-auto max-h-60 border border-slate-700",children:r}),r.startsWith("표시할 JSON 예시가 없습니다")&&h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"참고: 현재 작업에 대한 JSON 예시를 생성할 수 없습니다. 데이터를 확인하세요."}),!r.startsWith("표시할 JSON 예시가 없습니다")&&h.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["참고: 전체 일괄 작업이 KTL 서버로 전송됩니다.",o?" 여기에 표시된 JSON은 위 '접수번호/작업'에 해당하는 항목들의 최종 통합 KTL 데이터입니다.":" 여기에 표시된 JSON은 그 중 하나의 예시입니다."]})]})]}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700 flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3",children:[h.jsx(He,{onClick:e,variant:"secondary",className:"w-full sm:w-auto",children:"취소"}),h.jsx(He,{onClick:A,variant:"primary",className:"w-full sm:w-auto",children:"최종 확인 및 전송"})]})]})})},A4=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),n4=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",className:"w-3 h-3 text-white",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),pl=({images:t,currentIndex:e,onSelectImage:A,onDeleteImage:n,disabled:r=!1,analysisStatusForPhotos:s})=>!t||t.length<=1?null:h.jsxs("div",{className:"mt-4",children:[h.jsxs("h3",{className:"text-md font-medium text-slate-300 mb-2",children:["선택된 사진 (",t.length,"개):"]}),h.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 gap-2 bg-slate-700/50 p-2 rounded-lg",children:t.map((i,o)=>{const u=(s==null?void 0:s[o])&&s[o].size>0;return h.jsxs("div",{className:"relative group",children:[h.jsx("button",{type:"button",onClick:()=>A(o),className:`w-full aspect-square block rounded-md overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-sky-500 transition-all
                            ${e===o?"ring-2 ring-sky-400":"ring-1 ring-slate-600 hover:ring-sky-500"}`,disabled:r,"aria-label":`사진 ${o+1} 보기`,children:h.jsx("img",{src:`data:${i.mimeType};base64,${i.base64}`,alt:i.file.name,className:"w-full h-full object-cover"})}),h.jsx("button",{type:"button",onClick:c=>{c.stopPropagation(),n(o)},className:"absolute top-1 right-1 bg-red-600/80 hover:bg-red-500 text-white rounded-full p-1 transition-opacity opacity-0 group-hover:opacity-100 focus:opacity-100 disabled:opacity-50 disabled:cursor-not-allowed",disabled:r,"aria-label":`사진 ${o+1} 삭제`,children:h.jsx(A4,{})}),u&&h.jsx("div",{className:"absolute bottom-1 left-1 bg-green-500 rounded-full p-0.5 shadow-lg pointer-events-none",title:"이 사진은 판별에 사용되었습니다.",children:h.jsx(n4,{})})]},`${i.file.name}-${o}`)})})]}),Jw=t=>{var n;const e=(n=String(t).match(/^-?\d+(\.\d+)?/))==null?void 0:n[0];if(!e)return null;const A=parseFloat(e);return isNaN(A)?null:A},r4=(t,e)=>{const A=Jw(t);return A===null?"unknown":A<=e.boundary1?"low":A<=e.boundary2?"medium":"high"},s4=(t,e,A)=>{if(!t||t.length===0||!e)return t.map(()=>({}));const n=t.map(()=>({})),r=new Set,s=t.map((c,f)=>({index:f,originalEntry:c,numericValue:Jw(c.value),concentration:r4(c.value,e)})),i=(c,f,d)=>{let p=!1;const g=c.length;for(let B=0;B<=s.length-g;B++){const x=Array.from({length:g},(w,y)=>B+y).map(w=>s[w]);if(x.some(w=>r.has(w.index)))continue;x.every((w,y)=>w.concentration===c[y])&&(x.forEach((w,y)=>{n[w.index].tn=f[y],A&&(n[w.index].tp=d[y]),r.add(w.index)}),p=!0)}return p};i(["low","high","low","high","low","high"],["Z5","S5","Z6","S6","Z7","S7"],["Z5P","S5P","Z6P","S6P","Z7P","S7P"]);const o=[],u=4;for(let c=0;c<=s.length-u;c++){const d=Array.from({length:u},(g,B)=>c+B).map(g=>s[g]);if(d.some(g=>r.has(g.index)))continue;d.every((g,B)=>g.concentration===["low","low","high","high"][B])&&(d.forEach((g,B)=>{n[g.index].tn=["Z1","Z2","S1","S2"][B],A&&(n[g.index].tp=["Z1P","Z2P","S1P","S2P"][B]),r.add(g.index)}),o.push(c))}for(const c of o){const f=c+u;if(f<=s.length-u){const p=Array.from({length:u},(B,m)=>f+m).map(B=>s[B]);if(p.some(B=>r.has(B.index)))continue;p.every((B,m)=>B.concentration===["low","low","high","high"][m])&&p.forEach((B,m)=>{n[B.index].tn=["Z3","Z4","S3","S4"][m],A&&(n[B.index].tp=["Z3P","Z4P","S3P","S4P"][m]),r.add(B.index)})}}if(r.size>0){const c=Array.from(r).sort((B,m)=>B-m),f=c[0],d=c[c.length-1],p=5;let g=!1;for(let B=f-3;B>=0&&B>=f-p-3;B--){const x=[B,B+1,B+2].map(C=>s[C]);if(x.every(C=>C&&!r.has(C.index)&&C.concentration==="medium")){x.forEach((C,w)=>{n[C.index].tn=["M1","M2","M3"][w],A&&(n[C.index].tp=["M1P","M2P","M3P"][w]),r.add(C.index)}),g=!0;break}}if(!g)for(let B=d+1;B<s.length-2&&B<=d+p;B++){const x=[B,B+1,B+2].map(C=>s[C]);if(x.every(C=>C&&!r.has(C.index)&&C.concentration==="medium")){x.forEach((C,w)=>{n[C.index].tn=["M1","M2","M3"][w],A&&(n[C.index].tp=["M1P","M2P","M3P"][w]),r.add(C.index)});break}}}return i(["low","high"],["Z5","S5"],["Z5P","S5P"]),n},i4=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),Bd=t=>{var n;const e=(n=String(t).match(/^-?\d+(\.\d+)?/))==null?void 0:n[0];if(!e)return null;const A=parseFloat(e);return isNaN(A)?null:A},o4=(t,e)=>{var i;const A=String(t).trim(),n=(i=A.match(/^-?\d+(\.\d+)?/))==null?void 0:i[0],r=n?A.substring(n.length).trim():A;if(r.includes("고"))return"high";if(r.includes("중"))return"medium";if(r.includes("저"))return"low";if(!e)return"unknown";const s=Bd(t);return s===null?"unknown":s<=e.boundary1?"low":s<=e.boundary2?"medium":"high"},a4=t=>{if(!t||t.length===0)return null;const e=[];t.forEach(u=>{const c=Bd(u.value);c!==null&&e.push(c)});const A=Array.from(new Set(e)).sort((u,c)=>u-c);if(A.length===0)return null;const n=A[0],r=A[A.length-1],s=r-n;let i,o;if(A.length<2)i=n,o=r;else if(A.length===2)i=A[0],o=A[0];else if(A.length===3)i=A[0],o=A[1];else if(s>0){if(i=n+s/3,o=n+2*s/3,i>=o){const u=A.length;let c=Math.max(0,Math.floor(u/3)-1),f=Math.max(c+1,Math.floor(2*u/3)-1);f=Math.min(u-2,f),c=Math.min(c,Math.max(0,f-1)),c>=0&&c<f&&f<u&&A[c]<A[f]?(i=A[c],o=A[f]):(i=n,o=(n+r)/2)}}else i=n,o=r;if(i>o&&r>n&&([i,o]=[o,i]),A.length!==2&&i===o&&A.length>1&&n<r&&o<r){const u=A.findIndex(c=>c>o);if(u!==-1&&(o=A[u]),i===o&&i>n){let c=-1;for(let f=A.length-1;f>=0;f--)if(A[f]<i){c=f;break}c!==-1&&(i=A[c])}}return A.length===2?(i=A[0],o=A[0]):i>=o&&A.length>2&&(i=n,o=(n+r)/2,i>=o&&n<r&&(o=r)),{overallMin:n,overallMax:r,span:s,boundary1:i,boundary2:o}},_n=t=>t?t.replace(/[/\\[\]:*?"<>|]/g,"_").replace(/__+/g,"_"):"",ru=(t,e)=>{if(!t)return"";let A="";const n=["현장"],r=s=>{if(!s)return null;let i=s.replace(/[0-9]/g,"");return i.endsWith("P")&&(i=i.slice(0,-1)),n.includes(i)?null:i.length>0?i:null};for(const s of t)if(e==="TN/TP"){const i=r(s.identifier);i&&(A+=i);const o=r(s.identifierTP);o&&(A+=o)}else{const i=r(s.identifier);i&&(A+=i)}return A},vm=t=>{if(typeof t!="string"||t.trim()==="")return 0;const e=String(t).match(/^-?\d+(\.\d+)?/);if(!e||!e[0])return 0;const n=e[0].split(".")[1];return n?n.length:0},l4=(t,e)=>{if(!t||t.length===0)return 0;let A=0;return t.forEach(n=>{const r=vm(n.value);if(r>A&&(A=r),e==="TN/TP"&&n.valueTP){const s=vm(n.valueTP);s>A&&(A=s)}}),A},u4=({userName:t,jobs:e,setJobs:A,activeJobId:n,setActiveJobId:r,siteLocation:s,onDeleteJob:i})=>{const o=$.useMemo(()=>e.find(z=>z.id===n),[e,n]),[u,c]=$.useState(!1),[f,d]=$.useState(!1),[p,g]=$.useState(null),[B,m]=$.useState(!1),[x,C]=$.useState(!1),[w,y]=$.useState(!1),[E,U]=$.useState(null),[T,Q]=$.useState(-1),[M,D]=$.useState(null),R=$.useRef(null),j=$.useMemo(()=>o&&(o.submissionStatus==="success"||o.submissionStatus==="error")?o.submissionStatus:"idle",[o]);$.useEffect(()=>{o&&o.photos.length>0?(T<0||T>=o.photos.length)&&Q(0):Q(-1)},[o,T]);const _=$.useCallback(z=>{n&&A(v=>v.map(L=>L.id===n?z(L):L))},[n,A]),G=$.useCallback(()=>{_(z=>({...z,photos:[],photoComments:{},processedOcrData:null,rangeDifferenceResults:null,concentrationBoundaries:null,decimalPlaces:0,submissionStatus:"idle",submissionMessage:void 0})),Q(-1),R.current&&(R.current.value=""),g(null)},[_]),F=$.useMemo(()=>{if(!o||o.photos.length===0)return[];const z=_n(s),v=_n(o.selectedItem==="TN/TP"?"TN_TP":o.selectedItem),L=`${o.receiptNumber}_${z}_${v}`;return[`${L}_composite.jpg`,`${L}_Compression.zip`]},[o,s]),q=$.useMemo(()=>{if(!o||!t)return null;const z=ru(o.processedOcrData,o.selectedItem),v={receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,ocrData:o.processedOcrData||[],updateUser:t,identifierSequence:z,pageType:"PhotoLog",maxDecimalPlaces:o.decimalPlaces};return gd(v,o.selectedItem,F)},[o,t,s,F]);$.useEffect(()=>{if(!o)return;if(!o.processedOcrData){(o.rangeDifferenceResults!==null||o.concentrationBoundaries!==null||o.decimalPlaces!==0)&&_(b=>({...b,rangeDifferenceResults:null,concentrationBoundaries:null,decimalPlaces:0}));return}const z=a4(o.processedOcrData),v=l4(o.processedOcrData,o.selectedItem);let L=null;if(z){const b=[],I=[],S=[];o.processedOcrData.forEach(P=>{const Z=o4(P.value,z),K=Bd(P.value);K!==null&&(Z==="low"?b.push(K):Z==="medium"?I.push(K):Z==="high"&&S.push(K))});const k=P=>{if(P.length<2)return null;const Z=Math.min(...P),K=Math.max(...P);return{min:Z,max:K,diff:K-Z}};L={low:k(b),medium:k(I),high:k(S)}}(JSON.stringify(o.concentrationBoundaries)!==JSON.stringify(z)||JSON.stringify(o.rangeDifferenceResults)!==JSON.stringify(L)||o.decimalPlaces!==v)&&_(b=>({...b,concentrationBoundaries:z,rangeDifferenceResults:L,decimalPlaces:v}))},[o==null?void 0:o.processedOcrData,o==null?void 0:o.selectedItem,_,o]);const Y=$.useCallback(z=>{z.length===0&&(o!=null&&o.photos)&&o.photos.length>0||(_(v=>{const L=v.photos||[],b=[...L,...z],I=new Map;b.forEach(k=>{const P=`${k.file.name}-${k.file.size}-${k.file.lastModified}`;I.has(P)||I.set(P,k)});const S=Array.from(I.values());return L.length===0&&S.length>0&&Q(0),{...v,photos:S,processedOcrData:null,rangeDifferenceResults:null,submissionStatus:"idle",submissionMessage:void 0}}),g(null))},[o,_]),J=$.useCallback(()=>m(!0),[]),ee=$.useCallback(()=>m(!1),[]),X=$.useCallback((z,v,L)=>{const b={file:z,base64:v,mimeType:L};_(I=>{const S=[...I.photos||[],b];return Q(S.length-1),{...I,photos:S,processedOcrData:null,rangeDifferenceResults:null,submissionStatus:"idle",submissionMessage:void 0}}),m(!1),g(null)},[_]),H=$.useCallback(z=>{!o||z<0||z>=o.photos.length||(_(v=>{const L=v.photos.filter((b,I)=>I!==z);return L.length===0?Q(-1):T>=L.length?Q(L.length-1):T>z&&Q(b=>b-1),{...v,photos:L,processedOcrData:null,rangeDifferenceResults:null,submissionStatus:"idle",submissionMessage:void 0}}),g(null))},[o,T,_]),O=(z,v,L)=>{let b=`제공된 측정 장비의 이미지를 분석해주세요.
컨텍스트:`;return z&&(b+=`
- 접수번호: ${z}`),v&&(b+=`
- 현장/위치: ${v}`),L==="TN/TP"?(b+=`
- 항목/파라미터: TN 및 TP. 이미지에서 TN과 TP 각각의 시간 및 값 쌍을 추출해야 합니다.`,b+=`
- 각 시간(time) 항목에 대해 TN 값은 "value_tn" 키에, TP 값은 "value_tp" 키에 할당해야 합니다.`,b+=`

중요 규칙:
1.  **두 값 모두 추출:** 같은 시간대에 TN과 TP 값이 모두 표시된 경우, JSON 객체에 "value_tn"과 "value_tp" 키를 **둘 다 포함해야 합니다.**
    예시: { "time": "...", "value_tn": "1.23", "value_tp": "0.45" }`,b+=`
2.  **한 값만 있는 경우:** 특정 시간대에 TN 또는 TP 값 중 하나만 명확하게 식별 가능한 경우 (예를 들어, 다른 값의 칸이 비어 있거나 'null' 또는 '-'로 표시된 경우), 해당 값의 키만 포함하고 다른 키는 **생략(omit)합니다**.
    예시 (TN만 있고 TP 칸이 비어 있음): { "time": "...", "value_tn": "1.23" }
    예시 (TP만 있고 TN 칸이 비어 있음): { "time": "...", "value_tp": "0.45" }`,b+=`
3.  **값 형식:** 모든 값 필드에는 이미지에서 보이는 **순수한 숫자 값만** 포함해야 합니다. 단위(mg/L, mgN/L 등), 지시자(N, P), 주석(저, 고, [M_] 등)은 **모두 제외**하세요.`,b+=`

JSON 출력 형식 예시 (항목: TN/TP):
[
  { "time": "2025/04/23 05:00", "value_tn": "46.2", "value_tp": "1.2" },
  { "time": "2025/04/23 06:00", "value_tn": "5.388", "value_tp": "0.1" },
  { "time": "2025/05/21 09:38", "value_tn": "89.629" },
  { "time": "2025/05/21 10:25", "value_tp": "2.5" }
]`):(b+=`
- 항목/파라미터: ${L}. 이 항목의 측정값을 이미지에서 추출해주세요.`,b+=`
  "value" 필드에는 각 측정 항목의 **순수한 숫자 값만** 포함해야 합니다. 예를 들어, 이미지에 "N 89.629 mgN/L [M_]"라고 표시되어 있다면 "value"에는 "89.629"만 와야 합니다.`,b+=`
  항목 지시자(예: "N ", "TOC "), 단위(예: "mgN/L", "mg/L"), 상태 또는 주석(예: "[M_]", "(A)") 등은 **모두 제외**해야 합니다.`,b+=`

JSON 출력 형식 예시 (항목: ${L}):`,L==="TN"?b+=`
[
  { "time": "2025/05/21 09:38", "value": "89.629" },
  { "time": "2025/05/21 10:25", "value": "44.978" },
  { "time": "2025/05/21 12:46", "value": "6.488" }
]`:L==="TP"?b+=`
[
  { "time": "YYYY/MM/DD HH:MM", "value": "X.XXX" }
]`:b+=`
[
  { "time": "YYYY/MM/DD HH:MM", "value": "X.XXX" },
  { "time": "YYYY/MM/DD HH:MM", "value": "Y.YYY" }
]`),b+=`

작업:
이미지에서 데이터 테이블이나 목록을 식별해주세요.
장치 화면에 보이는 모든 "Time"(시각) 및 관련 값 쌍을 추출해주세요.

JSON 출력 및 데이터 추출을 위한 특정 지침:
1.  전체 응답은 **반드시** 유효한 단일 JSON 배열이어야 합니다. 응답은 대괄호 '['로 시작해서 대괄호 ']'로 끝나야 하며, 이 배열 구조 외부에는 **어떠한 다른 텍스트도 포함되어서는 안 됩니다.**
2.  JSON 데이터 자체를 제외하고는, JSON 배열 외부 또는 내부에 \`\`\`json\`\`\`와(과) 같은 마크다운 구분 기호, 소개, 설명, 주석 또는 기타 텍스트를 **절대로 포함하지 마세요.**
3.  배열 내의 각 JSON 객체는 정확한 JSON 형식이어야 합니다. 특히, 속성 값 뒤 (예: "value": "202.0" 에서 "202.0" 뒤)에는 다음 문자가 와야 합니다:
    *   쉼표(,) : 객체에 속성이 더 있는 경우
    *   닫는 중괄호(}) : 객체의 마지막 속성인 경우
    이 외의 다른 텍스트나 문자를 **절대로 추가하지 마세요.**
4.  지정된 "항목/파라미터" 관련 데이터를 우선적으로 추출하되, 장치 화면에서 식별 가능한 모든 "Time"(시각) 및 관련 값 쌍을 반드시 추출해야 합니다.
5.  **"Time"(시각) 추출 규칙:**
    - **표 전체에 대한 날짜 식별:** 먼저, 데이터 표 전체에 적용되는 주요 날짜(예: \`25/06/30\`)를 화면에서 찾으세요. 이 날짜는 종종 표의 상단이나 근처에 표시됩니다.
    - **행별 시간 구성:** 표의 각 행에 대해, 행의 시각 표시자(예: \`00\`부터 \`23\`까지의 숫자, 이는 시간(hour)을 나타냄)를 위에서 식별한 주요 날짜와 결합하여 완전한 타임스탬프를 만드세요. 분(minute)은 \`00\`으로 설정하세요. (예: 날짜가 \`25/07/01\`이고 행 표시자가 \`08\`이면, 시간은 \`2025/07/01 08:00\`이 됩니다. 2자리 연도는 현재 세기를 기준으로 \`20xx\`로 변환하세요.)
    - **최종 시간 형식:** 최종 시간은 \`YYYY/MM/DD HH:MM\` 형식으로 일관되게 포맷해주세요.
    - **개별 타임스탬프:** 만약 표 전체에 적용되는 날짜가 없고 각 행에 완전한 날짜와 시간이 이미 있다면, 그 값을 그대로 사용하세요. 시간만 표시된 경우 날짜 없이 시간만 추출하세요.
6.  값 필드 ("value", "value_tn", "value_tp"): **오직 숫자 부분만** 추출해주세요. 이미지에 "N 89.629 mgN/L [M_]"와 같이 표시되어 있다면, 해당 값 필드에는 "89.629"와 같이 순수한 숫자 문자열만 포함해야 합니다. 접두사(예: "N "), 단위(예: "mgN/L"), 텍스트 주석(예: "[M_]", "(A)", "저", "고 S") 등은 **모두 제외**해야 합니다. 만약 숫자 값을 명확히 식별할 수 없다면, 해당 값 필드를 JSON 객체에서 생략하거나 빈 문자열 ""로 설정해주세요.
7.  항목이 "TN/TP"인 경우:
    - 각 객체는 "time"을 포함해야 합니다.
    - TN 데이터가 있으면 "value_tn"을 포함해야 합니다.
    - TP 데이터가 있으면 "value_tp"를 포함해야 합니다.
    - 특정 시간 항목에 대해 TN 또는 TP 값 중 하나만 있을 수 있습니다. 해당 값만 포함합니다. (예: {"time": "...", "value_tn": "..."} 또는 {"time": "...", "value_tp": "..."})
8.  카메라에서 생성된 타임스탬프 및 UI 버튼 텍스트는 실제 데이터의 일부가 아닌 한 제외하세요.
9.  장치 화면에서 "Time" 및 관련 값 쌍을 전혀 찾을 수 없거나 이미지가 인식 가능한 데이터 표시를 포함하지 않는 경우 빈 JSON 배열([])을 반환하세요.
10. "reactors_input" 또는 "reactors_output" 또는 유사한 마커를 응답에 포함하지 마세요. JSON 응답은 순수하게 데이터 객체의 배열이어야 합니다.
`,b},N=$.useCallback(async()=>{if(!o||o.photos.length===0){g("먼저 이미지를 선택하거나 촬영해주세요.");return}c(!0),g(null),_(b=>({...b,processedOcrData:null,decimalPlaces:0,submissionStatus:"idle",submissionMessage:void 0}));let z=[],v=!1,L=null;try{let b;o.selectedItem==="TN/TP"?b={type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{time:{type:Ie.STRING},value_tn:{type:Ie.STRING},value_tp:{type:Ie.STRING}},required:["time"]}}:b={type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{time:{type:Ie.STRING},value:{type:Ie.STRING}},required:["time","value"]}};const I=o.photos.map(async k=>{var Z,K;let P="";try{const ne=O(o.receiptNumber,s,o.selectedItem),fe={responseMimeType:"application/json",responseSchema:b};P=await cd(k.base64,k.mimeType,ne,fe);const se=JSON.parse(P);return Array.isArray(se)?{status:"fulfilled",value:se}:{status:"rejected",reason:`Image ${k.file.name} did not return a valid JSON array.`}}catch(ne){return((Z=ne.message)!=null&&Z.includes("API_KEY")||(K=ne.message)!=null&&K.includes("Quota exceeded"))&&(L=ne.message),{status:"rejected",reason:ne instanceof SyntaxError?`JSON parsing failed: ${ne.message}. AI response: ${P}`:ne.message}}});if((await Promise.all(I)).forEach(k=>{k.status==="fulfilled"&&k.value?Array.isArray(k.value)&&z.push(...k.value):k.status==="rejected"&&(v=!0)}),L)throw new Error(L);if(z.length>0){const k=K=>{if(!K)return"";const ne=K.replace(/-/g,"/"),fe=ne.match(/(\d{4}\/\d{2}\/\d{2}\s\d{2}:\d{2})/);return fe?fe[1]:ne},P=new Map;z.forEach(K=>{const ne=k(K.time);if(!P.has(ne))P.set(ne,{...K,time:ne});else{const fe=P.get(ne);if(o.selectedItem==="TN/TP"){const se=fe,ue=K;ue.value_tn&&!se.value_tn&&(se.value_tn=ue.value_tn),ue.value_tp&&!se.value_tp&&(se.value_tp=ue.value_tp)}else{const se=fe,ue=K;ue.value&&!se.value&&(se.value=ue.value)}}});const Z=Array.from(P.values()).sort((K,ne)=>K.time.localeCompare(ne.time)).map(K=>{let ne="",fe;if(o.selectedItem==="TN/TP"){const se=K;ne=se.value_tn||"",fe=se.value_tp}else ne=K.value||"";return{id:self.crypto.randomUUID(),time:K.time,value:ne,valueTP:fe}});_(K=>({...K,processedOcrData:Z})),v&&g("일부 이미지를 처리하지 못했습니다.")}else g("AI가 이미지에서 유효한 데이터를 추출하지 못했습니다.")}catch(b){g(b.message||"데이터 추출 중 알 수 없는 오류가 발생했습니다.")}finally{c(!1)}},[o,s,_]),le=$.useCallback((z,v,L)=>{_(b=>{if(!b.processedOcrData)return b;const I=b.processedOcrData.map(S=>S.id===z?{...S,[v]:L}:S);return{...b,processedOcrData:I,submissionStatus:"idle",submissionMessage:void 0}})},[_]),ae=$.useCallback(()=>{_(z=>{if(!z)return z;const v={id:self.crypto.randomUUID(),time:"",value:"",valueTP:z.selectedItem==="TN/TP"?"":void 0},L=[...z.processedOcrData||[],v];return{...z,processedOcrData:L,submissionStatus:"idle",submissionMessage:void 0}})},[_]),te=$.useCallback((z,v)=>{if(!o||!o.processedOcrData)return;const L=[...o.processedOcrData],b=[];if(z.includes("-")){const[P,Z]=z.split("-").map(K=>parseInt(K.trim(),10)-1);if(!isNaN(P)&&!isNaN(Z)&&P<=Z)for(let K=P;K<=Z;K++)b.push(K)}else{const P=parseInt(z.trim(),10)-1;isNaN(P)||b.push(P)}const I=[...new Set(b)].sort((P,Z)=>Z-P);if(I.length===0||I.some(P=>P<0||P>=L.length)){alert("유효하지 않은 행 번호입니다. 데이터 범위 내의 숫자나 '시작-끝' 형식으로 입력해주세요.");return}const S=I.map(P=>L[P]).reverse();I.forEach(P=>L.splice(P,1));let k=L.length;if(v&&v.trim()){const P=parseInt(v.trim(),10)-1;if(!isNaN(P)&&P>=0&&P<=L.length)k=P;else{alert(`새 위치 번호가 잘못되었습니다. 1부터 ${L.length+1} 사이의 숫자를 입력해주세요.`);return}}L.splice(k,0,...S),_(P=>({...P,processedOcrData:L,submissionStatus:"idle",submissionMessage:void 0}))},[o,_]),me=$.useCallback(()=>{if(!o||!o.processedOcrData||!o.concentrationBoundaries){g("자동 할당을 위해선 추출된 데이터와 농도 분석이 필요합니다.");return}const z=o.selectedItem==="TN/TP",v=s4(o.processedOcrData,o.concentrationBoundaries,z),L=o.processedOcrData.map((b,I)=>{const S=v[I],k=S.tn!==void 0?S.tn:b.identifier,P=S.tp!==void 0?S.tp:b.identifierTP;return{...b,identifier:k,identifierTP:z?P:void 0}});_(b=>({...b,processedOcrData:L,submissionStatus:"idle",submissionMessage:void 0})),g(null)},[o,_]),oe=$.useCallback(()=>{if(!o||!q){alert("KTL 전송을 위한 모든 조건(작업 선택, 데이터, 사진, 필수정보)이 충족되지 않았습니다.");return}U({jsonPayload:q,fileNames:F,context:{receiptNumber:o.receiptNumber,siteLocation:s,selectedItem:o.selectedItem,userName:t}}),y(!0)},[o,t,s,q,F]),we=$.useCallback(async()=>{if(y(!1),!o||!o.processedOcrData||!t||o.photos.length===0){_(z=>({...z,submissionStatus:"error",submissionMessage:"KTL 전송을 위한 필수 데이터가 누락되었습니다."}));return}_(z=>({...z,submissionStatus:"sending",submissionMessage:"전송 중..."}));try{const z=ru(o.processedOcrData,o.selectedItem),v={receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,updateUser:t,ocrData:o.processedOcrData,identifierSequence:z,maxDecimalPlaces:o.decimalPlaces,pageType:"PhotoLog"},L=_n(s),b=_n(o.selectedItem.replace("/","_")),I=`${o.receiptNumber}_${L}_${b}`,S=o.photos.map(se=>({base64:se.base64,mimeType:se.mimeType,comment:o.photoComments[se.file.name]})),k=await Xr(S,{receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem},"image/jpeg"),P=new File([Ot(k)],`${I}_composite.jpg`,{type:"image/jpeg"}),Z=new Zr;for(let se=0;se<o.photos.length;se++){const ue=o.photos[se],Ee=await qr(ue.base64,ue.mimeType,o.receiptNumber,s,"",o.selectedItem,o.photoComments[ue.file.name]);Z.file(`${I}_${se+1}.png`,Ot(Ee))}const K=await Z.generateAsync({type:"blob"}),ne=new File([K],`${I}_Compression.zip`,{type:"application/zip"}),fe=await Ci(v,[P,ne],o.selectedItem,[P.name,ne.name]);_(se=>({...se,submissionStatus:"success",submissionMessage:fe.message}))}catch(z){_(v=>({...v,submissionStatus:"error",submissionMessage:`KTL 전송 실패: ${z.message}`}))}},[o,s,t,_]),re=async()=>{const z=e.filter(v=>v.processedOcrData&&v.processedOcrData.length>0&&v.photos.length>0);if(z.length===0){alert("전송할 데이터가 있는 작업이 없습니다. 각 작업에 사진과 추출된 데이터가 있는지 확인하세요.");return}C(!0),D(`(0/${z.length}) 작업 처리 시작...`),A(v=>v.map(L=>z.find(b=>b.id===L.id)?{...L,submissionStatus:"sending",submissionMessage:"대기 중..."}:L));for(let v=0;v<z.length;v++){const L=z[v];D(`(${v+1}/${z.length}) '${L.receiptNumber}' 전송 중...`),A(b=>b.map(I=>I.id===L.id?{...I,submissionMessage:"파일 생성 및 전송 중..."}:I));try{const b=ru(L.processedOcrData,L.selectedItem),I={receiptNumber:L.receiptNumber,siteLocation:s,item:L.selectedItem,updateUser:t,ocrData:L.processedOcrData,identifierSequence:b,maxDecimalPlaces:L.decimalPlaces,pageType:"PhotoLog"},S=_n(s),k=_n(L.selectedItem.replace("/","_")),P=`${L.receiptNumber}_${S}_${k}`,Z=L.photos.map(W=>({base64:W.base64,mimeType:W.mimeType,comment:L.photoComments[W.file.name]})),K=await Xr(Z,{receiptNumber:L.receiptNumber,siteLocation:s,item:L.selectedItem},"image/jpeg"),ne=new File([Ot(K)],`${P}_composite.jpg`,{type:"image/jpeg"}),fe=new Zr;for(const W of L.photos){const ce=await qr(W.base64,W.mimeType,L.receiptNumber,s,"",L.selectedItem,L.photoComments[W.file.name]);fe.file(`${P}_${_n(W.file.name)}.png`,Ot(ce))}const se=await fe.generateAsync({type:"blob"}),ue=new File([se],`${P}_Compression.zip`,{type:"application/zip"}),Ee=await Ci(I,[ne,ue],L.selectedItem,[ne.name,ue.name]);A(W=>W.map(ce=>ce.id===L.id?{...ce,submissionStatus:"success",submissionMessage:Ee.message||"전송 성공"}:ce))}catch(b){A(I=>I.map(S=>S.id===L.id?{...S,submissionStatus:"error",submissionMessage:`전송 실패: ${b.message}`}:S))}}D("일괄 전송 완료."),C(!1),setTimeout(()=>D(null),5e3)},V=u||x||B||!!M,Ae=o&&T!==-1?o.photos[T]:null,de=({status:z,message:v})=>z==="idle"||!v?null:z==="sending"?h.jsx("span",{className:"text-xs text-sky-400 animate-pulse",children:v}):z==="success"?h.jsxs("span",{className:"text-xs text-green-400",children:["✅ ",v]}):z==="error"?h.jsxs("span",{className:"text-xs text-red-400",title:v,children:["❌ ",v.length>30?v.substring(0,27)+"...":v]}):null;return h.jsxs("div",{className:"w-full max-w-3xl bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-sky-400 border-b border-slate-700 pb-3",children:"수질 분석 (P1)"}),e.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h3",{className:"text-md font-semibold text-slate-200",children:["작업 목록 (",e.length,"개):"]}),h.jsx("div",{className:"max-h-48 overflow-y-auto bg-slate-700/20 p-2 rounded-md border border-slate-600/40 space-y-1.5",children:e.map(z=>h.jsxs("div",{className:`p-2.5 rounded-md transition-all ${n===z.id?"bg-sky-600 shadow-md ring-2 ring-sky-400":"bg-slate-600 hover:bg-slate-500"}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>r(z.id),children:h.jsxs("span",{className:`text-sm font-medium ${n===z.id?"text-white":"text-slate-200"}`,children:[z.receiptNumber," / ",z.selectedItem]})}),h.jsx("button",{onClick:v=>{v.stopPropagation(),i(z.id)},className:"ml-2 p-1.5 rounded-full text-slate-400 hover:text-white hover:bg-red-600 transition-colors flex-shrink-0",title:"이 작업 삭제","aria-label":`'${z.receiptNumber}' 작업 삭제`,children:h.jsx(i4,{})})]}),h.jsx("div",{className:"mt-1 text-right cursor-pointer",onClick:()=>r(z.id),children:h.jsx(de,{status:z.submissionStatus,message:z.submissionMessage})})]},z.id))})]}),!o&&e.length>0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"계속하려면 위 목록에서 작업을 선택하세요."}),!o&&e.length===0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"시작하려면 '공통 정보 및 작업 관리' 섹션에서 작업을 추가하세요."}),o&&h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[B?h.jsx(Al,{onCapture:X,onClose:ee}):h.jsxs(h.Fragment,{children:[h.jsx(Ii,{onImagesSet:Y,onOpenCamera:J,isLoading:V,ref:R,selectedImageCount:o.photos.length}),Ae&&h.jsx(nl,{imageBase64:Ae.base64,fileName:Ae.file.name,mimeType:Ae.mimeType,receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,showOverlay:!0,totalSelectedImages:o.photos.length,currentImageIndex:T,onDelete:()=>H(T)}),h.jsx(pl,{images:o.photos,currentIndex:T,onSelectImage:Q,onDeleteImage:H,disabled:V})]}),h.jsx(sd,{onExtract:N,onClear:G,isExtractDisabled:V||o.photos.length===0,isClearDisabled:V||o.photos.length===0,onInitiateSendToKtl:oe,isClaydoxDisabled:V||!o.processedOcrData||o.processedOcrData.length===0,isSendingToClaydox:x||o.submissionStatus==="sending",ktlApiCallStatus:j,onAutoAssignIdentifiers:me,isAutoAssignDisabled:V||!o.processedOcrData||o.processedOcrData.length===0}),h.jsx(Ox,{results:o.rangeDifferenceResults}),h.jsx(id,{ocrData:o.processedOcrData,error:p,isLoading:u,contextProvided:!0,hasImage:o.photos.length>0,selectedItem:o.selectedItem,onEntryIdentifierChange:(z,v)=>le(z,"identifier",v),onEntryIdentifierTPChange:(z,v)=>le(z,"identifierTP",v),onEntryTimeChange:(z,v)=>le(z,"time",v),onEntryPrimaryValueChange:(z,v)=>le(z,"value",v),onEntryValueTPChange:(z,v)=>le(z,"valueTP",v),onAddEntry:ae,onReorderRows:te,availableIdentifiers:Dw,tnIdentifiers:hd,tpIdentifiers:md,rawJsonForCopy:JSON.stringify(o.processedOcrData,null,2),ktlJsonToPreview:q})]}),e.length>0&&h.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700 space-y-3",children:[h.jsx("h3",{className:"text-xl font-bold text-teal-400",children:"KTL 일괄 전송"}),h.jsx("p",{className:"text-sm text-slate-400",children:"이 페이지의 모든 유효한 작업(사진 및 데이터가 있는)을 KTL로 전송합니다. 안정적인 Wi-Fi 환경에서 실행하는 것을 권장합니다."}),M&&h.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-md text-sky-300 text-sm flex items-center gap-2",children:[h.jsx(jt,{size:"sm"}),h.jsx("span",{children:M})]}),h.jsx(He,{onClick:re,disabled:V||e.filter(z=>z.processedOcrData&&z.photos.length>0).length===0,fullWidth:!0,variant:"secondary",className:"bg-teal-600 hover:bg-teal-500",children:x?"전송 중...":`이 페이지의 모든 작업 전송 (${e.filter(z=>z.processedOcrData&&z.photos.length>0).length}건)`})]}),w&&E&&h.jsx(dl,{isOpen:w,onClose:()=>y(!1),onConfirm:we,preflightData:E})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Hc=function(t,e){return Hc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(A[r]=n[r])},Hc(t,e)};function xA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Hc(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var Kc=function(){return Kc=Object.assign||function(e){for(var A,n=1,r=arguments.length;n<r;n++){A=arguments[n];for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(e[s]=A[s])}return e},Kc.apply(this,arguments)};function kt(t,e,A,n){function r(s){return s instanceof A?s:new A(function(i){i(s)})}return new(A||(A=Promise))(function(s,i){function o(f){try{c(n.next(f))}catch(d){i(d)}}function u(f){try{c(n.throw(f))}catch(d){i(d)}}function c(f){f.done?s(f.value):r(f.value).then(o,u)}c((n=n.apply(t,[])).next())})}function Ut(t,e){var A={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,i;return i={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(f){return u([c,f])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return A.label++,{value:c[1],done:!1};case 5:A.label++,r=c[1],c=[0];continue;case 7:c=A.ops.pop(),A.trys.pop();continue;default:if(s=A.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){A=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){A.label=c[1];break}if(c[0]===6&&A.label<s[1]){A.label=s[1],s=c;break}if(s&&A.label<s[2]){A.label=s[2],A.ops.push(c);break}s[2]&&A.ops.pop(),A.trys.pop();continue}c=e.call(t,A)}catch(f){c=[6,f],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function so(t,e,A){if(arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var ZA=function(){function t(e,A,n,r){this.left=e,this.top=A,this.width=n,this.height=r}return t.prototype.add=function(e,A,n,r){return new t(this.left+e,this.top+A,this.width+n,this.height+r)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var n=Array.from(A).find(function(r){return r.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),hl=function(t,e){return ZA.fromClientRect(t,e.getBoundingClientRect())},c4=function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),r=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new ZA(0,0,n,r)},ml=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=t.charCodeAt(A++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},ot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=t[r];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ym="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var io=0;io<ym.length;io++)f4[ym.charCodeAt(io)]=io;var xm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qs=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oo=0;oo<xm.length;oo++)Qs[xm.charCodeAt(oo)]=oo;var d4=function(t){var e=t.length*.75,A=t.length,n,r=0,s,i,o,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<A;n+=4)s=Qs[t.charCodeAt(n)],i=Qs[t.charCodeAt(n+1)],o=Qs[t.charCodeAt(n+2)],u=Qs[t.charCodeAt(n+3)],f[r++]=s<<2|i>>4,f[r++]=(i&15)<<4|o>>2,f[r++]=(o&3)<<6|u&63;return c},p4=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},h4=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},Jn=5,wd=11,su=2,m4=wd-Jn,zw=65536>>Jn,g4=1<<Jn,iu=g4-1,B4=1024>>Jn,w4=zw+B4,C4=w4,v4=32,y4=C4+v4,x4=65536>>wd,E4=1<<m4,T4=E4-1,Em=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},U4=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},F4=function(t,e){var A=d4(t),n=Array.isArray(A)?h4(A):new Uint32Array(A),r=Array.isArray(A)?p4(A):new Uint16Array(A),s=24,i=Em(r,s/2,n[4]/2),o=n[5]===2?Em(r,(s+n[4])/2):U4(n,Math.ceil((s+n[4])/4));return new S4(n[0],n[1],n[2],n[3],i,o)},S4=function(){function t(e,A,n,r,s,i){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>Jn],A=(A<<su)+(e&iu),this.data[A];if(e<=65535)return A=this.index[zw+(e-55296>>Jn)],A=(A<<su)+(e&iu),this.data[A];if(e<this.highStart)return A=y4-x4+(e>>wd),A=this.index[A],A+=e>>Jn&T4,A=this.index[A],A=(A<<su)+(e&iu),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",I4=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ao=0;ao<Tm.length;ao++)I4[Tm.charCodeAt(ao)]=ao;var Q4="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Um=50,_4=1,Ww=2,Yw=3,N4=4,k4=5,Fm=7,qw=8,Sm=9,fn=10,Oc=11,Im=12,Vc=13,b4=14,_s=15,Gc=16,lo=17,vs=18,D4=19,Qm=20,$c=21,ys=22,ou=23,or=24,Yt=25,Ns=26,ks=27,ar=28,M4=29,Mn=30,L4=31,uo=32,co=33,Jc=34,zc=35,Wc=36,vi=37,Yc=38,Yo=39,qo=40,au=41,Xw=42,R4=43,P4=[9001,65288],Zw="!",ke="×",fo="÷",qc=F4(Q4),HA=[Mn,Wc],Xc=[_4,Ww,Yw,k4],jw=[fn,qw],_m=[ks,Ns],H4=Xc.concat(jw),Nm=[Yc,Yo,qo,Jc,zc],K4=[_s,Vc],O4=function(t,e){e===void 0&&(e="strict");var A=[],n=[],r=[];return t.forEach(function(s,i){var o=qc.get(s);if(o>Um?(r.push(!0),o-=Um):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),A.push(Gc);if(o===N4||o===Oc){if(i===0)return n.push(i),A.push(Mn);var u=A[i-1];return H4.indexOf(u)===-1?(n.push(n[i-1]),A.push(u)):(n.push(i),A.push(Mn))}if(n.push(i),o===L4)return A.push(e==="strict"?$c:vi);if(o===Xw||o===M4)return A.push(Mn);if(o===R4)return s>=131072&&s<=196605||s>=196608&&s<=262141?A.push(vi):A.push(Mn);A.push(o)}),[n,A,r]},lu=function(t,e,A,n){var r=n[A];if(Array.isArray(t)?t.indexOf(r)!==-1:t===r)for(var s=A;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==fn)break}if(r===fn)for(var s=A;s>0;){s--;var o=n[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var u=A;u<=n.length;){u++;var i=n[u];if(i===e)return!0;if(i!==fn)break}if(o!==fn)break}return!1},km=function(t,e){for(var A=t;A>=0;){var n=e[A];if(n===fn)A--;else return n}return 0},V4=function(t,e,A,n,r){if(A[n]===0)return ke;var s=n-1;if(Array.isArray(r)&&r[s]===!0)return ke;var i=s-1,o=s+1,u=e[s],c=i>=0?e[i]:0,f=e[o];if(u===Ww&&f===Yw)return ke;if(Xc.indexOf(u)!==-1)return Zw;if(Xc.indexOf(f)!==-1||jw.indexOf(f)!==-1)return ke;if(km(s,e)===qw)return fo;if(qc.get(t[s])===Oc||(u===uo||u===co)&&qc.get(t[o])===Oc||u===Fm||f===Fm||u===Sm||[fn,Vc,_s].indexOf(u)===-1&&f===Sm||[lo,vs,D4,or,ar].indexOf(f)!==-1||km(s,e)===ys||lu(ou,ys,s,e)||lu([lo,vs],$c,s,e)||lu(Im,Im,s,e))return ke;if(u===fn)return fo;if(u===ou||f===ou)return ke;if(f===Gc||u===Gc)return fo;if([Vc,_s,$c].indexOf(f)!==-1||u===b4||c===Wc&&K4.indexOf(u)!==-1||u===ar&&f===Wc||f===Qm||HA.indexOf(f)!==-1&&u===Yt||HA.indexOf(u)!==-1&&f===Yt||u===ks&&[vi,uo,co].indexOf(f)!==-1||[vi,uo,co].indexOf(u)!==-1&&f===Ns||HA.indexOf(u)!==-1&&_m.indexOf(f)!==-1||_m.indexOf(u)!==-1&&HA.indexOf(f)!==-1||[ks,Ns].indexOf(u)!==-1&&(f===Yt||[ys,_s].indexOf(f)!==-1&&e[o+1]===Yt)||[ys,_s].indexOf(u)!==-1&&f===Yt||u===Yt&&[Yt,ar,or].indexOf(f)!==-1)return ke;if([Yt,ar,or,lo,vs].indexOf(f)!==-1)for(var d=s;d>=0;){var p=e[d];if(p===Yt)return ke;if([ar,or].indexOf(p)!==-1)d--;else break}if([ks,Ns].indexOf(f)!==-1)for(var d=[lo,vs].indexOf(u)!==-1?i:s;d>=0;){var p=e[d];if(p===Yt)return ke;if([ar,or].indexOf(p)!==-1)d--;else break}if(Yc===u&&[Yc,Yo,Jc,zc].indexOf(f)!==-1||[Yo,Jc].indexOf(u)!==-1&&[Yo,qo].indexOf(f)!==-1||[qo,zc].indexOf(u)!==-1&&f===qo||Nm.indexOf(u)!==-1&&[Qm,Ns].indexOf(f)!==-1||Nm.indexOf(f)!==-1&&u===ks||HA.indexOf(u)!==-1&&HA.indexOf(f)!==-1||u===or&&HA.indexOf(f)!==-1||HA.concat(Yt).indexOf(u)!==-1&&f===ys&&P4.indexOf(t[o])===-1||HA.concat(Yt).indexOf(f)!==-1&&u===vs)return ke;if(u===au&&f===au){for(var g=A[s],B=1;g>0&&(g--,e[g]===au);)B++;if(B%2!==0)return ke}return u===uo&&f===co?ke:fo},G4=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=O4(t,e.lineBreak),n=A[0],r=A[1],s=A[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(o){return[Yt,Mn,Xw].indexOf(o)!==-1?vi:o}));var i=e.wordBreak==="keep-all"?s.map(function(o,u){return o&&t[u]>=19968&&t[u]<=40959}):void 0;return[n,r,i]},$4=function(){function t(e,A,n,r){this.codePoints=e,this.required=A===Zw,this.start=n,this.end=r}return t.prototype.slice=function(){return ot.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),J4=function(t,e){var A=ml(t),n=G4(A,e),r=n[0],s=n[1],i=n[2],o=A.length,u=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var f=ke;c<o&&(f=V4(A,s,r,++c,i))===ke;);if(f!==ke||c===o){var d=new $4(A,f,u,c);return u=c,{value:d,done:!1}}return{done:!0,value:null}}}},z4=1,W4=2,Di=4,bm=8,Qa=10,Dm=47,zs=92,Y4=9,q4=32,po=34,xs=61,X4=35,Z4=36,j4=37,ho=39,mo=40,Es=41,ek=95,Pt=45,tk=33,Ak=60,nk=62,rk=64,sk=91,ik=93,ok=61,ak=123,go=63,lk=125,Mm=124,uk=126,ck=128,Lm=65533,uu=42,On=43,fk=44,dk=58,pk=59,yi=46,hk=0,mk=8,gk=11,Bk=14,wk=31,Ck=127,UA=-1,eC=48,tC=97,AC=101,vk=102,yk=117,xk=122,nC=65,rC=69,sC=70,Ek=85,Tk=90,Ft=function(t){return t>=eC&&t<=57},Uk=function(t){return t>=55296&&t<=57343},lr=function(t){return Ft(t)||t>=nC&&t<=sC||t>=tC&&t<=vk},Fk=function(t){return t>=tC&&t<=xk},Sk=function(t){return t>=nC&&t<=Tk},Ik=function(t){return Fk(t)||Sk(t)},Qk=function(t){return t>=ck},Bo=function(t){return t===Qa||t===Y4||t===q4},_a=function(t){return Ik(t)||Qk(t)||t===ek},Rm=function(t){return _a(t)||Ft(t)||t===Pt},_k=function(t){return t>=hk&&t<=mk||t===gk||t>=Bk&&t<=wk||t===Ck},on=function(t,e){return t!==zs?!1:e!==Qa},wo=function(t,e,A){return t===Pt?_a(e)||on(e,A):_a(t)?!0:!!(t===zs&&on(t,e))},cu=function(t,e,A){return t===On||t===Pt?Ft(e)?!0:e===yi&&Ft(A):Ft(t===yi?e:t)},Nk=function(t){var e=0,A=1;(t[e]===On||t[e]===Pt)&&(t[e]===Pt&&(A=-1),e++);for(var n=[];Ft(t[e]);)n.push(t[e++]);var r=n.length?parseInt(ot.apply(void 0,n),10):0;t[e]===yi&&e++;for(var s=[];Ft(t[e]);)s.push(t[e++]);var i=s.length,o=i?parseInt(ot.apply(void 0,s),10):0;(t[e]===rC||t[e]===AC)&&e++;var u=1;(t[e]===On||t[e]===Pt)&&(t[e]===Pt&&(u=-1),e++);for(var c=[];Ft(t[e]);)c.push(t[e++]);var f=c.length?parseInt(ot.apply(void 0,c),10):0;return A*(r+o*Math.pow(10,-i))*Math.pow(10,u*f)},kk={type:2},bk={type:3},Dk={type:4},Mk={type:13},Lk={type:8},Rk={type:21},Pk={type:9},Hk={type:10},Kk={type:11},Ok={type:12},Vk={type:14},Co={type:23},Gk={type:1},$k={type:25},Jk={type:24},zk={type:26},Wk={type:27},Yk={type:28},qk={type:29},Xk={type:31},Zc={type:32},iC=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(ml(e))},t.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==Zc;)e.push(A),A=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case po:return this.consumeStringToken(po);case X4:var A=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(Rm(A)||on(n,r)){var s=wo(A,n,r)?W4:z4,i=this.consumeName();return{type:5,value:i,flags:s}}break;case Z4:if(this.peekCodePoint(0)===xs)return this.consumeCodePoint(),Mk;break;case ho:return this.consumeStringToken(ho);case mo:return kk;case Es:return bk;case uu:if(this.peekCodePoint(0)===xs)return this.consumeCodePoint(),Vk;break;case On:if(cu(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case fk:return Dk;case Pt:var o=e,u=this.peekCodePoint(0),c=this.peekCodePoint(1);if(cu(o,u,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(wo(o,u,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(u===Pt&&c===nk)return this.consumeCodePoint(),this.consumeCodePoint(),Jk;break;case yi:if(cu(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Dm:if(this.peekCodePoint(0)===uu)for(this.consumeCodePoint();;){var f=this.consumeCodePoint();if(f===uu&&(f=this.consumeCodePoint(),f===Dm))return this.consumeToken();if(f===UA)return this.consumeToken()}break;case dk:return zk;case pk:return Wk;case Ak:if(this.peekCodePoint(0)===tk&&this.peekCodePoint(1)===Pt&&this.peekCodePoint(2)===Pt)return this.consumeCodePoint(),this.consumeCodePoint(),$k;break;case rk:var d=this.peekCodePoint(0),p=this.peekCodePoint(1),g=this.peekCodePoint(2);if(wo(d,p,g)){var i=this.consumeName();return{type:7,value:i}}break;case sk:return Yk;case zs:if(on(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ik:return qk;case ok:if(this.peekCodePoint(0)===xs)return this.consumeCodePoint(),Lk;break;case ak:return Kk;case lk:return Ok;case yk:case Ek:var B=this.peekCodePoint(0),m=this.peekCodePoint(1);return B===On&&(lr(m)||m===go)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case Mm:if(this.peekCodePoint(0)===xs)return this.consumeCodePoint(),Pk;if(this.peekCodePoint(0)===Mm)return this.consumeCodePoint(),Rk;break;case uk:if(this.peekCodePoint(0)===xs)return this.consumeCodePoint(),Hk;break;case UA:return Zc}return Bo(e)?(this.consumeWhiteSpace(),Xk):Ft(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):_a(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ot(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();lr(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var n=!1;A===go&&e.length<6;)e.push(A),A=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(ot.apply(void 0,e.map(function(u){return u===go?eC:u})),16),s=parseInt(ot.apply(void 0,e.map(function(u){return u===go?sC:u})),16);return{type:30,start:r,end:s}}var i=parseInt(ot.apply(void 0,e),16);if(this.peekCodePoint(0)===Pt&&lr(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var o=[];lr(A)&&o.length<6;)o.push(A),A=this.consumeCodePoint();var s=parseInt(ot.apply(void 0,o),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===mo?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===mo?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===UA)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===ho||A===po){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===UA||this.peekCodePoint(0)===Es)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Co)}for(;;){var r=this.consumeCodePoint();if(r===UA||r===Es)return{type:22,value:ot.apply(void 0,e)};if(Bo(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===UA||this.peekCodePoint(0)===Es?(this.consumeCodePoint(),{type:22,value:ot.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Co);if(r===po||r===ho||r===mo||_k(r))return this.consumeBadUrlRemnants(),Co;if(r===zs)if(on(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Co;else e.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;Bo(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Es||e===UA)return;on(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var A=5e4,n="";e>0;){var r=Math.min(A,e);n+=ot.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var A="",n=0;do{var r=this._value[n];if(r===UA||r===void 0||r===e)return A+=this.consumeStringSlice(n),{type:0,value:A};if(r===Qa)return this._value.splice(0,n),Gk;if(r===zs){var s=this._value[n+1];s!==UA&&s!==void 0&&(s===Qa?(A+=this.consumeStringSlice(n),n=-1,this._value.shift()):on(r,s)&&(A+=this.consumeStringSlice(n),A+=ot(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],A=Di,n=this.peekCodePoint(0);for((n===On||n===Pt)&&e.push(this.consumeCodePoint());Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===yi&&Ft(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=bm;Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===rC||n===AC)&&((r===On||r===Pt)&&Ft(s)||Ft(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=bm;Ft(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Nk(e),A]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(wo(r,s,i)){var o=this.consumeName();return{type:15,number:A,flags:n,unit:o}}return r===j4?(this.consumeCodePoint(),{type:16,number:A,flags:n}):{type:17,number:A,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(lr(e)){for(var A=ot(e);lr(this.peekCodePoint(0))&&A.length<6;)A+=ot(this.consumeCodePoint());Bo(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(A,16);return n===0||Uk(n)||n>1114111?Lm:n}return e===UA?Lm:e},t.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(Rm(A))e+=ot(A);else if(on(A,this.peekCodePoint(0)))e+=ot(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),e}},t}(),oC=function(){function t(e){this._tokens=e}return t.create=function(e){var A=new iC;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(A.type===32)return e;e.push(A),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||jk(n,e))return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Zc:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),Mi=function(t){return t.type===15},us=function(t){return t.type===17},ze=function(t){return t.type===20},Zk=function(t){return t.type===0},jc=function(t,e){return ze(t)&&t.value===e},aC=function(t){return t.type!==31},jr=function(t){return t.type!==31&&t.type!==4},NA=function(t){var e=[],A=[];return t.forEach(function(n){if(n.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(A),A=[];return}n.type!==31&&A.push(n)}),A.length&&e.push(A),e},jk=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Fn=function(t){return t.type===17||t.type===15},ut=function(t){return t.type===16||Fn(t)},lC=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},vt={type:17,number:0,flags:Di},Cd={type:16,number:50,flags:Di},dn={type:16,number:100,flags:Di},bs=function(t,e,A){var n=t[0],r=t[1];return[Ye(n,e),Ye(typeof r<"u"?r:n,A)]},Ye=function(t,e){if(t.type===16)return t.number/100*e;if(Mi(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},uC="deg",cC="grad",fC="rad",dC="turn",gl={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case uC:return Math.PI*e.number/180;case cC:return Math.PI/200*e.number;case fC:return e.number;case dC:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},pC=function(t){return t.type===15&&(t.unit===uC||t.unit===cC||t.unit===fC||t.unit===dC)},hC=function(t){var e=t.filter(ze).map(function(A){return A.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[vt,vt];case"to top":case"bottom":return aA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[vt,dn];case"to right":case"left":return aA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[dn,dn];case"to bottom":case"top":return aA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[dn,vt];case"to left":case"right":return aA(270)}return 0},aA=function(t){return Math.PI*t/180},xn={name:"color",parse:function(t,e){if(e.type===18){var A=eb[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3);return pn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),r=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return pn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6);return pn(parseInt(n,16),parseInt(r,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),r=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return pn(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var o=zA[e.value.toUpperCase()];if(typeof o<"u")return o}return zA.TRANSPARENT}},En=function(t){return(255&t)===0},mt=function(t){var e=255&t,A=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+A+","+e/255+")":"rgb("+r+","+n+","+A+")"},pn=function(t,e,A,n){return(t<<24|e<<16|A<<8|Math.round(n*255)<<0)>>>0},Pm=function(t,e){if(t.type===17)return t.number;if(t.type===16){var A=e===3?1:255;return e===3?t.number/100*A:Math.round(t.number/100*A)}return 0},Hm=function(t,e){var A=e.filter(jr);if(A.length===3){var n=A.map(Pm),r=n[0],s=n[1],i=n[2];return pn(r,s,i,1)}if(A.length===4){var o=A.map(Pm),r=o[0],s=o[1],i=o[2],u=o[3];return pn(r,s,i,u)}return 0};function fu(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<1/2?e:A<2/3?(e-t)*6*(2/3-A)+t:t}var Km=function(t,e){var A=e.filter(jr),n=A[0],r=A[1],s=A[2],i=A[3],o=(n.type===17?aA(n.number):gl.parse(t,n))/(Math.PI*2),u=ut(r)?r.number/100:0,c=ut(s)?s.number/100:0,f=typeof i<"u"&&ut(i)?Ye(i,1):1;if(u===0)return pn(c*255,c*255,c*255,1);var d=c<=.5?c*(u+1):c+u-c*u,p=c*2-d,g=fu(p,d,o+1/3),B=fu(p,d,o),m=fu(p,d,o-1/3);return pn(g*255,B*255,m*255,f)},eb={hsl:Km,hsla:Km,rgb:Hm,rgba:Hm},Ws=function(t,e){return xn.parse(t,oC.create(e).parseComponentValue())},zA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},tb={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if(ze(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ab={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Bl=function(t,e){var A=xn.parse(t,e[0]),n=e[1];return n&&ut(n)?{color:A,stop:n}:{color:A,stop:null}},Om=function(t,e){var A=t[0],n=t[t.length-1];A.stop===null&&(A.stop=vt),n.stop===null&&(n.stop=dn);for(var r=[],s=0,i=0;i<t.length;i++){var o=t[i].stop;if(o!==null){var u=Ye(o,e);u>s?r.push(u):r.push(s),s=u}else r.push(null)}for(var c=null,i=0;i<r.length;i++){var f=r[i];if(f===null)c===null&&(c=i);else if(c!==null){for(var d=i-c,p=r[c-1],g=(f-p)/(d+1),B=1;B<=d;B++)r[c+B-1]=g*B;c=null}}return t.map(function(m,x){var C=m.color;return{color:C,stop:Math.max(Math.min(1,r[x]/e),0)}})},nb=function(t,e,A){var n=e/2,r=A/2,s=Ye(t[0],e)-n,i=r-Ye(t[1],A);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},rb=function(t,e,A){var n=typeof t=="number"?t:nb(t,e,A),r=Math.abs(e*Math.sin(n))+Math.abs(A*Math.cos(n)),s=e/2,i=A/2,o=r/2,u=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[r,s-c,s+c,i-u,i+u]},hA=function(t,e){return Math.sqrt(t*t+e*e)},Vm=function(t,e,A,n,r){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(i,o){var u=o[0],c=o[1],f=hA(A-u,n-c);return(r?f<i.optimumDistance:f>i.optimumDistance)?{optimumCorner:o,optimumDistance:f}:i},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},sb=function(t,e,A,n,r){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(t.shape===0)s=i=Math.min(hA(e,A),hA(e,A-r),hA(e-n,A),hA(e-n,A-r));else if(t.shape===1){var o=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(e),Math.abs(e-n)),u=Vm(n,r,e,A,!0),c=u[0],f=u[1];s=hA(c-e,(f-A)/o),i=o*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(t.shape===0)s=i=Math.max(hA(e,A),hA(e,A-r),hA(e-n,A),hA(e-n,A-r));else if(t.shape===1){var o=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(e),Math.abs(e-n)),d=Vm(n,r,e,A,!1),c=d[0],f=d[1];s=hA(c-e,(f-A)/o),i=o*s}break}return Array.isArray(t.size)&&(s=Ye(t.size[0],n),i=t.size.length===2?Ye(t.size[1],r):s),[s,i]},ib=function(t,e){var A=aA(180),n=[];return NA(e).forEach(function(r,s){if(s===0){var i=r[0];if(i.type===20&&i.value==="to"){A=hC(r);return}else if(pC(i)){A=gl.parse(t,i);return}}var o=Bl(t,r);n.push(o)}),{angle:A,stops:n,type:1}},vo=function(t,e){var A=aA(180),n=[];return NA(e).forEach(function(r,s){if(s===0){var i=r[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){A=hC(r);return}else if(pC(i)){A=(gl.parse(t,i)+aA(270))%aA(360);return}}var o=Bl(t,r);n.push(o)}),{angle:A,stops:n,type:1}},ob=function(t,e){var A=aA(180),n=[],r=1,s=0,i=3,o=[];return NA(e).forEach(function(u,c){var f=u[0];if(c===0){if(ze(f)&&f.value==="linear"){r=1;return}else if(ze(f)&&f.value==="radial"){r=2;return}}if(f.type===18){if(f.name==="from"){var d=xn.parse(t,f.values[0]);n.push({stop:vt,color:d})}else if(f.name==="to"){var d=xn.parse(t,f.values[0]);n.push({stop:dn,color:d})}else if(f.name==="color-stop"){var p=f.values.filter(jr);if(p.length===2){var d=xn.parse(t,p[1]),g=p[0];us(g)&&n.push({stop:{type:16,number:g.number*100,flags:g.flags},color:d})}}}}),r===1?{angle:(A+aA(180))%aA(360),stops:n,type:r}:{size:i,shape:s,stops:n,position:o,type:r}},mC="closest-side",gC="farthest-side",BC="closest-corner",wC="farthest-corner",CC="circle",vC="ellipse",yC="cover",xC="contain",ab=function(t,e){var A=0,n=3,r=[],s=[];return NA(e).forEach(function(i,o){var u=!0;if(o===0){var c=!1;u=i.reduce(function(d,p){if(c)if(ze(p))switch(p.value){case"center":return s.push(Cd),d;case"top":case"left":return s.push(vt),d;case"right":case"bottom":return s.push(dn),d}else(ut(p)||Fn(p))&&s.push(p);else if(ze(p))switch(p.value){case CC:return A=0,!1;case vC:return A=1,!1;case"at":return c=!0,!1;case mC:return n=0,!1;case yC:case gC:return n=1,!1;case xC:case BC:return n=2,!1;case wC:return n=3,!1}else if(Fn(p)||ut(p))return Array.isArray(n)||(n=[]),n.push(p),!1;return d},u)}if(u){var f=Bl(t,i);r.push(f)}}),{size:n,shape:A,stops:r,position:s,type:2}},yo=function(t,e){var A=0,n=3,r=[],s=[];return NA(e).forEach(function(i,o){var u=!0;if(o===0?u=i.reduce(function(f,d){if(ze(d))switch(d.value){case"center":return s.push(Cd),!1;case"top":case"left":return s.push(vt),!1;case"right":case"bottom":return s.push(dn),!1}else if(ut(d)||Fn(d))return s.push(d),!1;return f},u):o===1&&(u=i.reduce(function(f,d){if(ze(d))switch(d.value){case CC:return A=0,!1;case vC:return A=1,!1;case xC:case mC:return n=0,!1;case gC:return n=1,!1;case BC:return n=2,!1;case yC:case wC:return n=3,!1}else if(Fn(d)||ut(d))return Array.isArray(n)||(n=[]),n.push(d),!1;return f},u)),u){var c=Bl(t,i);r.push(c)}}),{size:n,shape:A,stops:r,position:s,type:2}},lb=function(t){return t.type===1},ub=function(t){return t.type===2},vd={name:"image",parse:function(t,e){if(e.type===22){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(e.type===18){var n=EC[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function cb(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!EC[t.name])}var EC={"linear-gradient":ib,"-moz-linear-gradient":vo,"-ms-linear-gradient":vo,"-o-linear-gradient":vo,"-webkit-linear-gradient":vo,"radial-gradient":ab,"-moz-radial-gradient":yo,"-ms-radial-gradient":yo,"-o-radial-gradient":yo,"-webkit-radial-gradient":yo,"-webkit-gradient":ob},fb={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e.filter(function(n){return jr(n)&&cb(n)}).map(function(n){return vd.parse(t,n)})}},db={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if(ze(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},pb={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return NA(e).map(function(A){return A.filter(ut)}).map(lC)}},hb={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(A){return A.filter(ze).map(function(n){return n.value}).join(" ")}).map(mb)}},mb=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Kr;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Kr||(Kr={}));var gb={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(A){return A.filter(Bb)})}},Bb=function(t){return ze(t)||ut(t)},wl=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},wb=wl("top"),Cb=wl("right"),vb=wl("bottom"),yb=wl("left"),Cl=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return lC(A.filter(ut))}}},xb=Cl("top-left"),Eb=Cl("top-right"),Tb=Cl("bottom-right"),Ub=Cl("bottom-left"),vl=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fb=vl("top"),Sb=vl("right"),Ib=vl("bottom"),Qb=vl("left"),yl=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return Mi(A)?A.number:0}}},_b=yl("top"),Nb=yl("right"),kb=yl("bottom"),bb=yl("left"),Db={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mb={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},Lb={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ze).reduce(function(A,n){return A|Rb(n.value)},0)}},Rb=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Pb={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Hb={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},Na;(function(t){t.NORMAL="normal",t.STRICT="strict"})(Na||(Na={}));var Kb={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Na.STRICT;case"normal":default:return Na.NORMAL}}},Ob={name:"line-height",initialValue:"normal",prefix:!1,type:4},Gm=function(t,e){return ze(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:ut(t)?Ye(t,e):e},Vb={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:vd.parse(t,e)}},Gb={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},ef={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},xl=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},$b=xl("top"),Jb=xl("right"),zb=xl("bottom"),Wb=xl("left"),Yb={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ze).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},qb={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},El=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Xb=El("top"),Zb=El("right"),jb=El("bottom"),eD=El("left"),tD={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},AD={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},nD={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&jc(e[0],"none")?[]:NA(e).map(function(A){for(var n={color:zA.TRANSPARENT,offsetX:vt,offsetY:vt,blur:vt},r=0,s=0;s<A.length;s++){var i=A[s];Fn(i)?(r===0?n.offsetX=i:r===1?n.offsetY=i:n.blur=i,r++):n.color=xn.parse(t,i)}return n})}},rD={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},sD={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var A=aD[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},iD=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number});return e.length===6?e:null},oD=function(t){var e=t.filter(function(u){return u.type===17}).map(function(u){return u.number}),A=e[0],n=e[1];e[2],e[3];var r=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],o=e[13];return e[14],e[15],e.length===16?[A,n,r,s,i,o]:null},aD={matrix:iD,matrix3d:oD},$m={type:16,number:50,flags:Di},lD=[$m,$m],uD={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(ut);return A.length!==2?lD:[A[0],A[1]]}},cD={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Ys;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Ys||(Ys={}));var fD={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Ys.BREAK_ALL;case"keep-all":return Ys.KEEP_ALL;case"normal":default:return Ys.NORMAL}}},dD={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(us(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},TC={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},pD={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return us(e)?e.number:1}},hD={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mD={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ze).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},gD={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:A.push(r.value);break;case 17:A.push(r.number.toString());break;case 4:n.push(A.join(" ")),A.length=0;break}}),A.length&&n.push(A.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},BD={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},wD={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(us(e))return e.number;if(ze(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},CD={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ze).map(function(A){return A.value})}},vD={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},pt=function(t,e){return(t&e)!==0},yD={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e}},xD={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;for(var n=[],r=e.filter(aC),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(i.type===20){var u=o&&us(o)?o.number:1;n.push({counter:i.value,increment:u})}}return n}},ED={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var A=[],n=e.filter(aC),r=0;r<n.length;r++){var s=n[r],i=n[r+1];if(ze(s)&&s.value!=="none"){var o=i&&us(i)?i.number:0;A.push({counter:s.value,reset:o})}}return A}},TD={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Mi).map(function(A){return TC.parse(t,A)})}},UD={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;var n=[],r=e.filter(Zk);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,o=r[s+1].value;n.push({open:i,close:o})}return n}},Jm=function(t,e,A){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?A?n.open:n.close:""},FD={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&jc(e[0],"none")?[]:NA(e).map(function(A){for(var n={color:255,offsetX:vt,offsetY:vt,blur:vt,spread:vt,inset:!1},r=0,s=0;s<A.length;s++){var i=A[s];jc(i,"inset")?n.inset=!0:Fn(i)?(r===0?n.offsetX=i:r===1?n.offsetY=i:r===2?n.blur=i:n.spread=i,r++):n.color=xn.parse(t,i)}return n})}},SD={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[0,1,2],n=[];return e.filter(ze).forEach(function(r){switch(r.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),A.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),n}},ID={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},QD={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Mi(e)?e.number:0}},_D=function(){function t(e,A){var n,r;this.animationDuration=ve(e,TD,A.animationDuration),this.backgroundClip=ve(e,tb,A.backgroundClip),this.backgroundColor=ve(e,Ab,A.backgroundColor),this.backgroundImage=ve(e,fb,A.backgroundImage),this.backgroundOrigin=ve(e,db,A.backgroundOrigin),this.backgroundPosition=ve(e,pb,A.backgroundPosition),this.backgroundRepeat=ve(e,hb,A.backgroundRepeat),this.backgroundSize=ve(e,gb,A.backgroundSize),this.borderTopColor=ve(e,wb,A.borderTopColor),this.borderRightColor=ve(e,Cb,A.borderRightColor),this.borderBottomColor=ve(e,vb,A.borderBottomColor),this.borderLeftColor=ve(e,yb,A.borderLeftColor),this.borderTopLeftRadius=ve(e,xb,A.borderTopLeftRadius),this.borderTopRightRadius=ve(e,Eb,A.borderTopRightRadius),this.borderBottomRightRadius=ve(e,Tb,A.borderBottomRightRadius),this.borderBottomLeftRadius=ve(e,Ub,A.borderBottomLeftRadius),this.borderTopStyle=ve(e,Fb,A.borderTopStyle),this.borderRightStyle=ve(e,Sb,A.borderRightStyle),this.borderBottomStyle=ve(e,Ib,A.borderBottomStyle),this.borderLeftStyle=ve(e,Qb,A.borderLeftStyle),this.borderTopWidth=ve(e,_b,A.borderTopWidth),this.borderRightWidth=ve(e,Nb,A.borderRightWidth),this.borderBottomWidth=ve(e,kb,A.borderBottomWidth),this.borderLeftWidth=ve(e,bb,A.borderLeftWidth),this.boxShadow=ve(e,FD,A.boxShadow),this.color=ve(e,Db,A.color),this.direction=ve(e,Mb,A.direction),this.display=ve(e,Lb,A.display),this.float=ve(e,Pb,A.cssFloat),this.fontFamily=ve(e,gD,A.fontFamily),this.fontSize=ve(e,BD,A.fontSize),this.fontStyle=ve(e,vD,A.fontStyle),this.fontVariant=ve(e,CD,A.fontVariant),this.fontWeight=ve(e,wD,A.fontWeight),this.letterSpacing=ve(e,Hb,A.letterSpacing),this.lineBreak=ve(e,Kb,A.lineBreak),this.lineHeight=ve(e,Ob,A.lineHeight),this.listStyleImage=ve(e,Vb,A.listStyleImage),this.listStylePosition=ve(e,Gb,A.listStylePosition),this.listStyleType=ve(e,ef,A.listStyleType),this.marginTop=ve(e,$b,A.marginTop),this.marginRight=ve(e,Jb,A.marginRight),this.marginBottom=ve(e,zb,A.marginBottom),this.marginLeft=ve(e,Wb,A.marginLeft),this.opacity=ve(e,pD,A.opacity);var s=ve(e,Yb,A.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ve(e,qb,A.overflowWrap),this.paddingTop=ve(e,Xb,A.paddingTop),this.paddingRight=ve(e,Zb,A.paddingRight),this.paddingBottom=ve(e,jb,A.paddingBottom),this.paddingLeft=ve(e,eD,A.paddingLeft),this.paintOrder=ve(e,SD,A.paintOrder),this.position=ve(e,AD,A.position),this.textAlign=ve(e,tD,A.textAlign),this.textDecorationColor=ve(e,hD,(n=A.textDecorationColor)!==null&&n!==void 0?n:A.color),this.textDecorationLine=ve(e,mD,(r=A.textDecorationLine)!==null&&r!==void 0?r:A.textDecoration),this.textShadow=ve(e,nD,A.textShadow),this.textTransform=ve(e,rD,A.textTransform),this.transform=ve(e,sD,A.transform),this.transformOrigin=ve(e,uD,A.transformOrigin),this.visibility=ve(e,cD,A.visibility),this.webkitTextStrokeColor=ve(e,ID,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=ve(e,QD,A.webkitTextStrokeWidth),this.wordBreak=ve(e,fD,A.wordBreak),this.zIndex=ve(e,dD,A.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return En(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return pt(this.display,4)||pt(this.display,33554432)||pt(this.display,268435456)||pt(this.display,536870912)||pt(this.display,67108864)||pt(this.display,134217728)},t}(),ND=function(){function t(e,A){this.content=ve(e,yD,A.content),this.quotes=ve(e,UD,A.quotes)}return t}(),zm=function(){function t(e,A){this.counterIncrement=ve(e,xD,A.counterIncrement),this.counterReset=ve(e,ED,A.counterReset)}return t}(),ve=function(t,e,A){var n=new iC,r=A!==null&&typeof A<"u"?A.toString():e.initialValue;n.write(r);var s=new oC(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(t,ze(i)?i.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return gl.parse(t,s.parseComponentValue());case"color":return xn.parse(t,s.parseComponentValue());case"image":return vd.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Fn(o)?o:vt;case"length-percentage":var u=s.parseComponentValue();return ut(u)?u:vt;case"time":return TC.parse(t,s.parseComponentValue())}break}},kD="data-html2canvas-debug",bD=function(t){var e=t.getAttribute(kD);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},tf=function(t,e){var A=bD(t);return A===1||e===A},kA=function(){function t(e,A){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,tf(A,3))debugger;this.styles=new _D(e,window.getComputedStyle(A,null)),rf(A)&&(this.styles.animationDuration.some(function(n){return n>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=hl(this.context,A),tf(A,4)&&(this.flags|=16)}return t}(),DD="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Wm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ds=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xo=0;xo<Wm.length;xo++)Ds[Wm.charCodeAt(xo)]=xo;var MD=function(t){var e=t.length*.75,A=t.length,n,r=0,s,i,o,u;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),f=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<A;n+=4)s=Ds[t.charCodeAt(n)],i=Ds[t.charCodeAt(n+1)],o=Ds[t.charCodeAt(n+2)],u=Ds[t.charCodeAt(n+3)],f[r++]=s<<2|i>>4,f[r++]=(i&15)<<4|o>>2,f[r++]=(o&3)<<6|u&63;return c},LD=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},RD=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},zn=5,yd=11,du=2,PD=yd-zn,UC=65536>>zn,HD=1<<zn,pu=HD-1,KD=1024>>zn,OD=UC+KD,VD=OD,GD=32,$D=VD+GD,JD=65536>>yd,zD=1<<PD,WD=zD-1,Ym=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},YD=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},qD=function(t,e){var A=MD(t),n=Array.isArray(A)?RD(A):new Uint32Array(A),r=Array.isArray(A)?LD(A):new Uint16Array(A),s=24,i=Ym(r,s/2,n[4]/2),o=n[5]===2?Ym(r,(s+n[4])/2):YD(n,Math.ceil((s+n[4])/4));return new XD(n[0],n[1],n[2],n[3],i,o)},XD=function(){function t(e,A,n,r,s,i){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=i}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>zn],A=(A<<du)+(e&pu),this.data[A];if(e<=65535)return A=this.index[UC+(e-55296>>zn)],A=(A<<du)+(e&pu),this.data[A];if(e<this.highStart)return A=$D-JD+(e>>yd),A=this.index[A],A+=e>>zn&WD,A=this.index[A],A=(A<<du)+(e&pu),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),qm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Eo=0;Eo<qm.length;Eo++)ZD[qm.charCodeAt(Eo)]=Eo;var jD=1,hu=2,mu=3,Xm=4,Zm=5,eM=7,jm=8,gu=9,Bu=10,eg=11,tg=12,Ag=13,ng=14,wu=15,tM=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var s=t.charCodeAt(A++);(s&64512)===56320?e.push(((r&1023)<<10)+(s&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},AM=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,s="";++r<A;){var i=t[r];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(r+1===A||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},nM=qD(DD),nA="×",Cu="÷",rM=function(t){return nM.get(t)},sM=function(t,e,A){var n=A-2,r=e[n],s=e[A-1],i=e[A];if(s===hu&&i===mu)return nA;if(s===hu||s===mu||s===Xm||i===hu||i===mu||i===Xm)return Cu;if(s===jm&&[jm,gu,eg,tg].indexOf(i)!==-1||(s===eg||s===gu)&&(i===gu||i===Bu)||(s===tg||s===Bu)&&i===Bu||i===Ag||i===Zm||i===eM||s===jD)return nA;if(s===Ag&&i===ng){for(;r===Zm;)r=e[--n];if(r===ng)return nA}if(s===wu&&i===wu){for(var o=0;r===wu;)o++,r=e[--n];if(o%2===0)return nA}return Cu},iM=function(t){var e=tM(t),A=e.length,n=0,r=0,s=e.map(rM);return{next:function(){if(n>=A)return{done:!0,value:null};for(var i=nA;n<A&&(i=sM(e,s,++n))===nA;);if(i!==nA||n===A){var o=AM.apply(null,e.slice(r,n));return r=n,{value:o,done:!1}}return{done:!0,value:null}}}},oM=function(t){for(var e=iM(t),A=[],n;!(n=e.next()).done;)n.value&&A.push(n.value.slice());return A},aM=function(t){var e=123;if(t.createRange){var A=t.createRange();if(A.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),A.selectNode(n);var r=A.getBoundingClientRect(),s=Math.round(r.height);if(t.body.removeChild(n),s===e)return!0}}return!1},lM=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,r=ml(n.data).map(function(u){return ot(u)}),s=0,i={},o=r.every(function(u,c){A.setStart(n,s),A.setEnd(n,s+u.length);var f=A.getBoundingClientRect();s+=u.length;var d=f.x>i.x||f.y>i.y;return i=f,c===0?!0:d});return t.body.removeChild(e),o},uM=function(){return typeof new Image().crossOrigin<"u"},cM=function(){return typeof new XMLHttpRequest().responseType=="string"},fM=function(t){var e=new Image,A=t.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),A.toDataURL()}catch{return!1}return!0},rg=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},dM=function(t){var e=t.createElement("canvas"),A=100;e.width=A,e.height=A;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var r=new Image,s=e.toDataURL();r.src=s;var i=Af(A,A,0,0,r);return n.fillStyle="red",n.fillRect(0,0,A,A),sg(i).then(function(o){n.drawImage(o,0,0);var u=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=A+"px",rg(u)?sg(Af(A,A,0,0,c)):Promise.reject(!1)}).then(function(o){return n.drawImage(o,0,0),rg(n.getImageData(0,0,A,A).data)}).catch(function(){return!1})},Af=function(t,e,A,n,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",A.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(r),i},sg=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ct={get SUPPORT_RANGE_BOUNDS(){var t=aM(document);return Object.defineProperty(Ct,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ct.SUPPORT_RANGE_BOUNDS&&lM(document);return Object.defineProperty(Ct,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=fM(document);return Object.defineProperty(Ct,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?dM(document):Promise.resolve(!1);return Object.defineProperty(Ct,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=uM();return Object.defineProperty(Ct,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=cM();return Object.defineProperty(Ct,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ct,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ct,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},qs=function(){function t(e,A){this.text=e,this.bounds=A}return t}(),pM=function(t,e,A,n){var r=gM(e,A),s=[],i=0;return r.forEach(function(o){if(A.textDecorationLine.length||o.trim().length>0)if(Ct.SUPPORT_RANGE_BOUNDS){var u=ig(n,i,o.length).getClientRects();if(u.length>1){var c=xd(o),f=0;c.forEach(function(p){s.push(new qs(p,ZA.fromDOMRectList(t,ig(n,f+i,p.length).getClientRects()))),f+=p.length})}else s.push(new qs(o,ZA.fromDOMRectList(t,u)))}else{var d=n.splitText(o.length);s.push(new qs(o,hM(t,n))),n=d}else Ct.SUPPORT_RANGE_BOUNDS||(n=n.splitText(o.length));i+=o.length}),s},hM=function(t,e){var A=e.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var s=hl(t,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return ZA.EMPTY},ig=function(t,e,A){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+A),r},xd=function(t){if(Ct.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(A){return A.segment})}return oM(t)},mM=function(t,e){if(Ct.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map(function(n){return n.segment})}return wM(t,e)},gM=function(t,e){return e.letterSpacing!==0?xd(t):mM(t,e)},BM=[32,160,4961,65792,65793,4153,4241],wM=function(t,e){for(var A=J4(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],r,s=function(){if(r.value){var i=r.value.slice(),o=ml(i),u="";o.forEach(function(c){BM.indexOf(c)===-1?u+=ot(c):(u.length&&n.push(u),n.push(ot(c)),u="")}),u.length&&n.push(u)}};!(r=A.next()).done;)s();return n},CM=function(){function t(e,A,n){this.text=vM(A.data,n.textTransform),this.textBounds=pM(e,this.text,n,A)}return t}(),vM=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(yM,xM);case 2:return t.toUpperCase();default:return t}},yM=/(^|\s|:|-|\(|\))([a-z])/g,xM=function(t,e,A){return t.length>0?e+A.toUpperCase():t},FC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e}(kA),SC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e}(kA),IC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this,s=new XMLSerializer,i=hl(A,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e}(kA),QC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e}(kA),nf=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return e}(kA),EM=[{type:15,flags:0,unit:"px",number:3}],TM=[{type:16,flags:0,number:50}],UM=function(t){return t.width>t.height?new ZA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new ZA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},FM=function(t){var e=t.type===SM?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},ka="checkbox",ba="radio",SM="password",og=707406591,Ed=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=FM(n),(r.type===ka||r.type===ba)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=UM(r.bounds)),r.type){case ka:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=EM;break;case ba:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=TM;break}return r}return e}(kA),_C=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return e}(kA),NC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e}(kA),kC=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=DC(A,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?Ws(A,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):zA.TRANSPARENT,i=n.contentWindow.document.body?Ws(A,getComputedStyle(n.contentWindow.document.body).backgroundColor):zA.TRANSPARENT;r.backgroundColor=En(s)?En(i)?r.styles.backgroundColor:i:s}}catch{}return r}return e}(kA),IM=["OL","UL","MENU"],Xo=function(t,e,A,n){for(var r=e.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,MC(r)&&r.data.trim().length>0)A.textNodes.push(new CM(t,r,A.styles));else if(Ir(r))if(HC(r)&&r.assignedNodes)r.assignedNodes().forEach(function(o){return Xo(t,o,A,n)});else{var i=bC(t,r);i.styles.isVisible()&&(QM(r,i,n)?i.flags|=4:_M(i.styles)&&(i.flags|=2),IM.indexOf(r.tagName)!==-1&&(i.flags|=8),A.elements.push(i),r.slot,r.shadowRoot?Xo(t,r.shadowRoot,i,n):!Da(r)&&!LC(r)&&!Ma(r)&&Xo(t,r,i,n))}},bC=function(t,e){return sf(e)?new FC(t,e):RC(e)?new SC(t,e):LC(e)?new IC(t,e):NM(e)?new QC(t,e):kM(e)?new nf(t,e):bM(e)?new Ed(t,e):Ma(e)?new _C(t,e):Da(e)?new NC(t,e):PC(e)?new kC(t,e):new kA(t,e)},DC=function(t,e){var A=bC(t,e);return A.flags|=4,Xo(t,e,A,A),A},QM=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Td(t)&&A.styles.isTransparent()},_M=function(t){return t.isPositioned()||t.isFloating()},MC=function(t){return t.nodeType===Node.TEXT_NODE},Ir=function(t){return t.nodeType===Node.ELEMENT_NODE},rf=function(t){return Ir(t)&&typeof t.style<"u"&&!Zo(t)},Zo=function(t){return typeof t.className=="object"},NM=function(t){return t.tagName==="LI"},kM=function(t){return t.tagName==="OL"},bM=function(t){return t.tagName==="INPUT"},DM=function(t){return t.tagName==="HTML"},LC=function(t){return t.tagName==="svg"},Td=function(t){return t.tagName==="BODY"},RC=function(t){return t.tagName==="CANVAS"},ag=function(t){return t.tagName==="VIDEO"},sf=function(t){return t.tagName==="IMG"},PC=function(t){return t.tagName==="IFRAME"},lg=function(t){return t.tagName==="STYLE"},MM=function(t){return t.tagName==="SCRIPT"},Da=function(t){return t.tagName==="TEXTAREA"},Ma=function(t){return t.tagName==="SELECT"},HC=function(t){return t.tagName==="SLOT"},ug=function(t){return t.tagName.indexOf("-")>0},LM=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},t.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},t.prototype.pop=function(e){var A=this;e.forEach(function(n){return A.counters[n].pop()})},t.prototype.parse=function(e){var A=this,n=e.counterIncrement,r=e.counterReset,s=!0;n!==null&&n.forEach(function(o){var u=A.counters[o.counter];u&&o.increment!==0&&(s=!1,u.length||u.push(1),u[Math.max(0,u.length-1)]+=o.increment)});var i=[];return s&&r.forEach(function(o){var u=A.counters[o.counter];i.push(o.counter),u||(u=A.counters[o.counter]=[]),u.push(o.reset)}),i},t}(),cg={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},fg={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},RM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},PM={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},ur=function(t,e,A,n,r,s){return t<e||t>A?xi(t,r,s.length>0):n.integers.reduce(function(i,o,u){for(;t>=o;)t-=o,i+=n.values[u];return i},"")+s},KC=function(t,e,A,n){var r="";do A||t--,r=n(t)+r,t/=e;while(t*e>=e);return r},it=function(t,e,A,n,r){var s=A-e+1;return(t<0?"-":"")+(KC(Math.abs(t),s,n,function(i){return ot(Math.floor(i%s)+e)})+r)},Nn=function(t,e,A){A===void 0&&(A=". ");var n=e.length;return KC(Math.abs(t),n,!1,function(r){return e[Math.floor(r%n)]})+A},pr=1,An=2,nn=4,Ms=8,KA=function(t,e,A,n,r,s){if(t<-9999||t>9999)return xi(t,4,r.length>0);var i=Math.abs(t),o=r;if(i===0)return e[0]+o;for(var u=0;i>0&&u<=4;u++){var c=i%10;c===0&&pt(s,pr)&&o!==""?o=e[c]+o:c>1||c===1&&u===0||c===1&&u===1&&pt(s,An)||c===1&&u===1&&pt(s,nn)&&t>100||c===1&&u>1&&pt(s,Ms)?o=e[c]+(u>0?A[u-1]:"")+o:c===1&&u>0&&(o=A[u-1]+o),i=Math.floor(i/10)}return(t<0?n:"")+o},dg="十百千萬",pg="拾佰仟萬",hg="マイナス",vu="마이너스",xi=function(t,e,A){var n=A?". ":"",r=A?"、":"",s=A?", ":"",i=A?" ":"";switch(e){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var o=it(t,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Nn(t,"〇一二三四五六七八九",r);case 6:return ur(t,1,3999,cg,3,n).toLowerCase();case 7:return ur(t,1,3999,cg,3,n);case 8:return it(t,945,969,!1,n);case 9:return it(t,97,122,!1,n);case 10:return it(t,65,90,!1,n);case 11:return it(t,1632,1641,!0,n);case 12:case 49:return ur(t,1,9999,fg,3,n);case 35:return ur(t,1,9999,fg,3,n).toLowerCase();case 13:return it(t,2534,2543,!0,n);case 14:case 30:return it(t,6112,6121,!0,n);case 15:return Nn(t,"子丑寅卯辰巳午未申酉戌亥",r);case 16:return Nn(t,"甲乙丙丁戊己庚辛壬癸",r);case 17:case 48:return KA(t,"零一二三四五六七八九",dg,"負",r,An|nn|Ms);case 47:return KA(t,"零壹貳參肆伍陸柒捌玖",pg,"負",r,pr|An|nn|Ms);case 42:return KA(t,"零一二三四五六七八九",dg,"负",r,An|nn|Ms);case 41:return KA(t,"零壹贰叁肆伍陆柒捌玖",pg,"负",r,pr|An|nn|Ms);case 26:return KA(t,"〇一二三四五六七八九","十百千万",hg,r,0);case 25:return KA(t,"零壱弐参四伍六七八九","拾百千万",hg,r,pr|An|nn);case 31:return KA(t,"영일이삼사오육칠팔구","십백천만",vu,s,pr|An|nn);case 33:return KA(t,"零一二三四五六七八九","十百千萬",vu,s,0);case 32:return KA(t,"零壹貳參四五六七八九","拾百千",vu,s,pr|An|nn);case 18:return it(t,2406,2415,!0,n);case 20:return ur(t,1,19999,PM,3,n);case 21:return it(t,2790,2799,!0,n);case 22:return it(t,2662,2671,!0,n);case 22:return ur(t,1,10999,RM,3,n);case 23:return Nn(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Nn(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return it(t,3302,3311,!0,n);case 28:return Nn(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case 29:return Nn(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case 34:return it(t,3792,3801,!0,n);case 37:return it(t,6160,6169,!0,n);case 38:return it(t,4160,4169,!0,n);case 39:return it(t,2918,2927,!0,n);case 40:return it(t,1776,1785,!0,n);case 43:return it(t,3046,3055,!0,n);case 44:return it(t,3174,3183,!0,n);case 45:return it(t,3664,3673,!0,n);case 46:return it(t,3872,3881,!0,n);case 3:default:return it(t,48,57,!0,n)}},OC="data-html2canvas-ignore",mg=function(){function t(e,A,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=A,this.counters=new LM,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,A){var n=this,r=HM(e,A);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,o=r.contentWindow,u=o.document,c=VM(r).then(function(){return kt(n,void 0,void 0,function(){var f,d;return Ut(this,function(p){switch(p.label){case 0:return this.scrolledElements.forEach(zM),o&&(o.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==A.top||o.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-A.left,o.scrollY-A.top,0,0))),f=this.options.onclone,d=this.clonedReferenceElement,typeof d>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:u.fonts&&u.fonts.ready?[4,u.fonts.ready]:[3,2];case 1:p.sent(),p.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,OM(u)]:[3,4];case 3:p.sent(),p.label=4;case 4:return typeof f=="function"?[2,Promise.resolve().then(function(){return f(u,d)}).then(function(){return r})]:[2,r]}})})});return u.open(),u.write($M(document.doctype)+"<html></html>"),JM(this.referenceElement.ownerDocument,s,i),u.replaceChild(u.adoptNode(this.documentElement),u.documentElement),u.close(),c},t.prototype.createElementClone=function(e){if(tf(e,2))debugger;if(RC(e))return this.createCanvasClone(e);if(ag(e))return this.createVideoClone(e);if(lg(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return sf(A)&&(sf(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),ug(A)?this.createCustomElementClone(A):A},t.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return yu(e.style,A),A},t.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var n=[].slice.call(A.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(A=e.getContext("webgl2"))!==null&&A!==void 0?A:e.getContext("webgl");if(o){var u=o.getContextAttributes();(u==null?void 0:u.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},t.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var n=A.getContext("2d");try{return n&&(n.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||n.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},t.prototype.appendChildNode=function(e,A,n){(!Ir(A)||!MM(A)&&!A.hasAttribute(OC)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!Ir(A)||!lg(A))&&e.appendChild(this.cloneNode(A,n))},t.prototype.cloneChildNodes=function(e,A,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Ir(s)&&HC(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(o){return r.appendChildNode(A,o,n)})}else this.appendChildNode(A,s,n)},t.prototype.cloneNode=function(e,A){if(MC(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ir(e)&&(rf(e)||Zo(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),o=n.getComputedStyle(e,":after");this.referenceElement===e&&rf(r)&&(this.clonedReferenceElement=r),Td(r)&&qM(r);var u=this.counters.parse(new zm(this.context,s)),c=this.resolvePseudoContent(e,r,i,Xs.BEFORE);ug(e)&&(A=!0),ag(e)||this.cloneChildNodes(e,r,A),c&&r.insertBefore(c,r.firstChild);var f=this.resolvePseudoContent(e,r,o,Xs.AFTER);return f&&r.appendChild(f),this.counters.pop(u),(s&&(this.options.copyStyles||Zo(e))&&!PC(e)||A)&&yu(s,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Da(e)||Ma(e))&&(Da(r)||Ma(r))&&(r.value=e.value),r}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,A,n,r){var s=this;if(n){var i=n.content,o=A.ownerDocument;if(!(!o||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new zm(this.context,n));var u=new ND(this.context,n),c=o.createElement("html2canvaspseudoelement");yu(n,c),u.content.forEach(function(d){if(d.type===0)c.appendChild(o.createTextNode(d.value));else if(d.type===22){var p=o.createElement("img");p.src=d.value,p.style.opacity="1",c.appendChild(p)}else if(d.type===18){if(d.name==="attr"){var g=d.values.filter(ze);g.length&&c.appendChild(o.createTextNode(e.getAttribute(g[0].value)||""))}else if(d.name==="counter"){var B=d.values.filter(jr),m=B[0],x=B[1];if(m&&ze(m)){var C=s.counters.getCounterValue(m.value),w=x&&ze(x)?ef.parse(s.context,x.value):3;c.appendChild(o.createTextNode(xi(C,w,!1)))}}else if(d.name==="counters"){var y=d.values.filter(jr),m=y[0],E=y[1],x=y[2];if(m&&ze(m)){var U=s.counters.getCounterValues(m.value),T=x&&ze(x)?ef.parse(s.context,x.value):3,Q=E&&E.type===0?E.value:"",M=U.map(function(j){return xi(j,T,!1)}).join(Q);c.appendChild(o.createTextNode(M))}}}else if(d.type===20)switch(d.value){case"open-quote":c.appendChild(o.createTextNode(Jm(u.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(Jm(u.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(d.value))}}),c.className=of+" "+af;var f=r===Xs.BEFORE?" "+of:" "+af;return Zo(A)?A.className.baseValue+=f:A.className+=f,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),Xs;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(Xs||(Xs={}));var HM=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(OC,"true"),t.body.appendChild(A),A},KM=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},OM=function(t){return Promise.all([].slice.call(t.images,0).map(KM))},VM=function(t){return new Promise(function(e,A){var n=t.contentWindow;if(!n)return A("No window assigned for iframe");var r=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},GM=["all","d","content"],yu=function(t,e){for(var A=t.length-1;A>=0;A--){var n=t.item(A);GM.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},$M=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},JM=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},zM=function(t){var e=t[0],A=t[1],n=t[2];e.scrollLeft=A,e.scrollTop=n},WM=":before",YM=":after",of="___html2canvas___pseudoelement_before",af="___html2canvas___pseudoelement_after",gg=`{
    content: "" !important;
    display: none !important;
}`,qM=function(t){XM(t,"."+of+WM+gg+`
         .`+af+YM+gg)},XM=function(t,e){var A=t.ownerDocument;if(A){var n=A.createElement("style");n.textContent=e,t.appendChild(n)}},VC=function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),ZM=function(){function t(e,A){this.context=e,this._options=A,this._cache={}}return t.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)||(Eu(e)||AL(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),A},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return kt(this,void 0,void 0,function(){var A,n,r,s,i=this;return Ut(this,function(o){switch(o.label){case 0:return A=VC.isSameOrigin(e),n=!xu(e)&&this._options.useCORS===!0&&Ct.SUPPORT_CORS_IMAGES&&!A,r=!xu(e)&&!A&&!Eu(e)&&typeof this._options.proxy=="string"&&Ct.SUPPORT_CORS_XHR&&!n,!A&&this._options.allowTaint===!1&&!xu(e)&&!Eu(e)&&!r&&!n?[2]:(s=e,r?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(u,c){var f=new Image;f.onload=function(){return u(f)},f.onerror=c,(nL(s)||n)&&(f.crossOrigin="anonymous"),f.src=s,f.complete===!0&&setTimeout(function(){return u(f)},500),i._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var A=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,i){var o=Ct.SUPPORT_RESPONSE_TYPE?"blob":"text",u=new XMLHttpRequest;u.onload=function(){if(u.status===200)if(o==="text")s(u.response);else{var d=new FileReader;d.addEventListener("load",function(){return s(d.result)},!1),d.addEventListener("error",function(p){return i(p)},!1),d.readAsDataURL(u.response)}else i("Failed to proxy resource "+r+" with status code "+u.status)},u.onerror=i;var c=n.indexOf("?")>-1?"&":"?";if(u.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&u instanceof XMLHttpRequest&&(u.responseType=o),A._options.imageTimeout){var f=A._options.imageTimeout;u.timeout=f,u.ontimeout=function(){return i("Timed out ("+f+"ms) proxying "+r)}}u.send()})},t}(),jM=/^data:image\/svg\+xml/i,eL=/^data:image\/.*;base64,/i,tL=/^data:image\/.*/i,AL=function(t){return Ct.SUPPORT_SVG_DRAWING||!rL(t)},xu=function(t){return tL.test(t)},nL=function(t){return eL.test(t)},Eu=function(t){return t.substr(0,4)==="blob"},rL=function(t){return t.substr(-3).toLowerCase()==="svg"||jM.test(t)},Ce=function(){function t(e,A){this.type=0,this.x=e,this.y=A}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t}(),cr=function(t,e,A){return new Ce(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},To=function(){function t(e,A,n,r){this.type=1,this.start=e,this.startControl=A,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,A){var n=cr(this.start,this.startControl,e),r=cr(this.startControl,this.endControl,e),s=cr(this.endControl,this.end,e),i=cr(n,r,e),o=cr(r,s,e),u=cr(i,o,e);return A?new t(this.start,n,i,u):new t(u,o,s,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),iA=function(t){return t.type===1},sL=function(){function t(e){var A=e.styles,n=e.bounds,r=bs(A.borderTopLeftRadius,n.width,n.height),s=r[0],i=r[1],o=bs(A.borderTopRightRadius,n.width,n.height),u=o[0],c=o[1],f=bs(A.borderBottomRightRadius,n.width,n.height),d=f[0],p=f[1],g=bs(A.borderBottomLeftRadius,n.width,n.height),B=g[0],m=g[1],x=[];x.push((s+u)/n.width),x.push((B+d)/n.width),x.push((i+m)/n.height),x.push((c+p)/n.height);var C=Math.max.apply(Math,x);C>1&&(s/=C,i/=C,u/=C,c/=C,d/=C,p/=C,B/=C,m/=C);var w=n.width-u,y=n.height-p,E=n.width-d,U=n.height-m,T=A.borderTopWidth,Q=A.borderRightWidth,M=A.borderBottomWidth,D=A.borderLeftWidth,R=Ye(A.paddingTop,e.bounds.width),j=Ye(A.paddingRight,e.bounds.width),_=Ye(A.paddingBottom,e.bounds.width),G=Ye(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?et(n.left+D/3,n.top+T/3,s-D/3,i-T/3,Ve.TOP_LEFT):new Ce(n.left+D/3,n.top+T/3),this.topRightBorderDoubleOuterBox=s>0||i>0?et(n.left+w,n.top+T/3,u-Q/3,c-T/3,Ve.TOP_RIGHT):new Ce(n.left+n.width-Q/3,n.top+T/3),this.bottomRightBorderDoubleOuterBox=d>0||p>0?et(n.left+E,n.top+y,d-Q/3,p-M/3,Ve.BOTTOM_RIGHT):new Ce(n.left+n.width-Q/3,n.top+n.height-M/3),this.bottomLeftBorderDoubleOuterBox=B>0||m>0?et(n.left+D/3,n.top+U,B-D/3,m-M/3,Ve.BOTTOM_LEFT):new Ce(n.left+D/3,n.top+n.height-M/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?et(n.left+D*2/3,n.top+T*2/3,s-D*2/3,i-T*2/3,Ve.TOP_LEFT):new Ce(n.left+D*2/3,n.top+T*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?et(n.left+w,n.top+T*2/3,u-Q*2/3,c-T*2/3,Ve.TOP_RIGHT):new Ce(n.left+n.width-Q*2/3,n.top+T*2/3),this.bottomRightBorderDoubleInnerBox=d>0||p>0?et(n.left+E,n.top+y,d-Q*2/3,p-M*2/3,Ve.BOTTOM_RIGHT):new Ce(n.left+n.width-Q*2/3,n.top+n.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||m>0?et(n.left+D*2/3,n.top+U,B-D*2/3,m-M*2/3,Ve.BOTTOM_LEFT):new Ce(n.left+D*2/3,n.top+n.height-M*2/3),this.topLeftBorderStroke=s>0||i>0?et(n.left+D/2,n.top+T/2,s-D/2,i-T/2,Ve.TOP_LEFT):new Ce(n.left+D/2,n.top+T/2),this.topRightBorderStroke=s>0||i>0?et(n.left+w,n.top+T/2,u-Q/2,c-T/2,Ve.TOP_RIGHT):new Ce(n.left+n.width-Q/2,n.top+T/2),this.bottomRightBorderStroke=d>0||p>0?et(n.left+E,n.top+y,d-Q/2,p-M/2,Ve.BOTTOM_RIGHT):new Ce(n.left+n.width-Q/2,n.top+n.height-M/2),this.bottomLeftBorderStroke=B>0||m>0?et(n.left+D/2,n.top+U,B-D/2,m-M/2,Ve.BOTTOM_LEFT):new Ce(n.left+D/2,n.top+n.height-M/2),this.topLeftBorderBox=s>0||i>0?et(n.left,n.top,s,i,Ve.TOP_LEFT):new Ce(n.left,n.top),this.topRightBorderBox=u>0||c>0?et(n.left+w,n.top,u,c,Ve.TOP_RIGHT):new Ce(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||p>0?et(n.left+E,n.top+y,d,p,Ve.BOTTOM_RIGHT):new Ce(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=B>0||m>0?et(n.left,n.top+U,B,m,Ve.BOTTOM_LEFT):new Ce(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?et(n.left+D,n.top+T,Math.max(0,s-D),Math.max(0,i-T),Ve.TOP_LEFT):new Ce(n.left+D,n.top+T),this.topRightPaddingBox=u>0||c>0?et(n.left+Math.min(w,n.width-Q),n.top+T,w>n.width+Q?0:Math.max(0,u-Q),Math.max(0,c-T),Ve.TOP_RIGHT):new Ce(n.left+n.width-Q,n.top+T),this.bottomRightPaddingBox=d>0||p>0?et(n.left+Math.min(E,n.width-D),n.top+Math.min(y,n.height-M),Math.max(0,d-Q),Math.max(0,p-M),Ve.BOTTOM_RIGHT):new Ce(n.left+n.width-Q,n.top+n.height-M),this.bottomLeftPaddingBox=B>0||m>0?et(n.left+D,n.top+Math.min(U,n.height-M),Math.max(0,B-D),Math.max(0,m-M),Ve.BOTTOM_LEFT):new Ce(n.left+D,n.top+n.height-M),this.topLeftContentBox=s>0||i>0?et(n.left+D+G,n.top+T+R,Math.max(0,s-(D+G)),Math.max(0,i-(T+R)),Ve.TOP_LEFT):new Ce(n.left+D+G,n.top+T+R),this.topRightContentBox=u>0||c>0?et(n.left+Math.min(w,n.width+D+G),n.top+T+R,w>n.width+D+G?0:u-D+G,c-(T+R),Ve.TOP_RIGHT):new Ce(n.left+n.width-(Q+j),n.top+T+R),this.bottomRightContentBox=d>0||p>0?et(n.left+Math.min(E,n.width-(D+G)),n.top+Math.min(y,n.height+T+R),Math.max(0,d-(Q+j)),p-(M+_),Ve.BOTTOM_RIGHT):new Ce(n.left+n.width-(Q+j),n.top+n.height-(M+_)),this.bottomLeftContentBox=B>0||m>0?et(n.left+D+G,n.top+U,Math.max(0,B-(D+G)),m-(M+_),Ve.BOTTOM_LEFT):new Ce(n.left+D+G,n.top+n.height-(M+_))}return t}(),Ve;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ve||(Ve={}));var et=function(t,e,A,n,r){var s=4*((Math.sqrt(2)-1)/3),i=A*s,o=n*s,u=t+A,c=e+n;switch(r){case Ve.TOP_LEFT:return new To(new Ce(t,c),new Ce(t,c-o),new Ce(u-i,e),new Ce(u,e));case Ve.TOP_RIGHT:return new To(new Ce(t,e),new Ce(t+i,e),new Ce(u,c-o),new Ce(u,c));case Ve.BOTTOM_RIGHT:return new To(new Ce(u,e),new Ce(u,e+o),new Ce(t+i,c),new Ce(t,c));case Ve.BOTTOM_LEFT:default:return new To(new Ce(u,c),new Ce(u-i,c),new Ce(t,e+o),new Ce(t,e))}},La=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},iL=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},Ra=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},oL=function(){function t(e,A,n){this.offsetX=e,this.offsetY=A,this.matrix=n,this.type=0,this.target=6}return t}(),Uo=function(){function t(e,A){this.path=e,this.target=A,this.type=1}return t}(),aL=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),lL=function(t){return t.type===0},GC=function(t){return t.type===1},uL=function(t){return t.type===2},Bg=function(t,e){return t.length===e.length?t.some(function(A,n){return A===e[n]}):!1},cL=function(t,e,A,n,r){return t.map(function(s,i){switch(i){case 0:return s.add(e,A);case 1:return s.add(e+n,A);case 2:return s.add(e+n,A+r);case 3:return s.add(e,A+r)}return s})},$C=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),JC=function(){function t(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new sL(this.container),this.container.styles.opacity<1&&this.effects.push(new aL(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new oL(n,r,s))}if(this.container.styles.overflowX!==0){var i=La(this.curves),o=Ra(this.curves);Bg(i,o)?this.effects.push(new Uo(i,6)):(this.effects.push(new Uo(i,2)),this.effects.push(new Uo(o,4)))}}return t.prototype.getEffects=function(e){for(var A=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(u){return!GC(u)});if(A||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,s),A=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=La(n.curves),o=Ra(n.curves);Bg(i,o)||r.unshift(new Uo(o,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(u){return pt(u.target,e)})},t}(),lf=function(t,e,A,n){t.container.elements.forEach(function(r){var s=pt(r.flags,4),i=pt(r.flags,2),o=new JC(r,t);pt(r.styles.display,2048)&&n.push(o);var u=pt(r.flags,8)?[]:n;if(s||i){var c=s||r.styles.isPositioned()?A:e,f=new $C(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var d=r.styles.zIndex.order;if(d<0){var p=0;c.negativeZIndex.some(function(B,m){return d>B.element.container.styles.zIndex.order?(p=m,!1):p>0}),c.negativeZIndex.splice(p,0,f)}else if(d>0){var g=0;c.positiveZIndex.some(function(B,m){return d>=B.element.container.styles.zIndex.order?(g=m+1,!1):g>0}),c.positiveZIndex.splice(g,0,f)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(f)}else r.styles.isFloating()?c.nonPositionedFloats.push(f):c.nonPositionedInlineLevel.push(f);lf(o,f,s?f:A,u)}else r.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),lf(o,e,A,u);pt(r.flags,8)&&zC(r,u)})},zC=function(t,e){for(var A=t instanceof nf?t.start:1,n=t instanceof nf?t.reversed:!1,r=0;r<e.length;r++){var s=e[r];s.container instanceof QC&&typeof s.container.value=="number"&&s.container.value!==0&&(A=s.container.value),s.listValue=xi(A,s.container.styles.listStyleType,!0),A+=n?-1:1}},fL=function(t){var e=new JC(t,null),A=new $C(e),n=[];return lf(e,A,A,n),zC(e.container,n),A},wg=function(t,e){switch(e){case 0:return lA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return lA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return lA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return lA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},dL=function(t,e){switch(e){case 0:return lA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return lA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return lA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return lA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},pL=function(t,e){switch(e){case 0:return lA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return lA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return lA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return lA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},hL=function(t,e){switch(e){case 0:return Fo(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Fo(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Fo(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Fo(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Fo=function(t,e){var A=[];return iA(t)?A.push(t.subdivide(.5,!1)):A.push(t),iA(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},lA=function(t,e,A,n){var r=[];return iA(t)?r.push(t.subdivide(.5,!1)):r.push(t),iA(A)?r.push(A.subdivide(.5,!0)):r.push(A),iA(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),iA(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},WC=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},Pa=function(t){var e=t.styles,A=t.bounds,n=Ye(e.paddingLeft,A.width),r=Ye(e.paddingRight,A.width),s=Ye(e.paddingTop,A.width),i=Ye(e.paddingBottom,A.width);return A.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+s+i))},mL=function(t,e){return t===0?e.bounds:t===2?Pa(e):WC(e)},gL=function(t,e){return t===0?e.bounds:t===2?Pa(e):WC(e)},Tu=function(t,e,A){var n=mL(hr(t.styles.backgroundOrigin,e),t),r=gL(hr(t.styles.backgroundClip,e),t),s=BL(hr(t.styles.backgroundSize,e),A,n),i=s[0],o=s[1],u=bs(hr(t.styles.backgroundPosition,e),n.width-i,n.height-o),c=wL(hr(t.styles.backgroundRepeat,e),u,s,n,r),f=Math.round(n.left+u[0]),d=Math.round(n.top+u[1]);return[c,f,d,i,o]},fr=function(t){return ze(t)&&t.value===Kr.AUTO},So=function(t){return typeof t=="number"},BL=function(t,e,A){var n=e[0],r=e[1],s=e[2],i=t[0],o=t[1];if(!i)return[0,0];if(ut(i)&&o&&ut(o))return[Ye(i,A.width),Ye(o,A.height)];var u=So(s);if(ze(i)&&(i.value===Kr.CONTAIN||i.value===Kr.COVER)){if(So(s)){var c=A.width/A.height;return c<s!=(i.value===Kr.COVER)?[A.width,A.width/s]:[A.height*s,A.height]}return[A.width,A.height]}var f=So(n),d=So(r),p=f||d;if(fr(i)&&(!o||fr(o))){if(f&&d)return[n,r];if(!u&&!p)return[A.width,A.height];if(p&&u){var g=f?n:r*s,B=d?r:n/s;return[g,B]}var m=f?n:A.width,x=d?r:A.height;return[m,x]}if(u){var C=0,w=0;return ut(i)?C=Ye(i,A.width):ut(o)&&(w=Ye(o,A.height)),fr(i)?C=w*s:(!o||fr(o))&&(w=C/s),[C,w]}var y=null,E=null;if(ut(i)?y=Ye(i,A.width):o&&ut(o)&&(E=Ye(o,A.height)),y!==null&&(!o||fr(o))&&(E=f&&d?y/n*r:A.height),E!==null&&fr(i)&&(y=f&&d?E/r*n:A.width),y!==null&&E!==null)return[y,E];throw new Error("Unable to calculate background-size for element")},hr=function(t,e){var A=t[e];return typeof A>"u"?t[0]:A},wL=function(t,e,A,n,r){var s=e[0],i=e[1],o=A[0],u=A[1];switch(t){case 2:return[new Ce(Math.round(n.left),Math.round(n.top+i)),new Ce(Math.round(n.left+n.width),Math.round(n.top+i)),new Ce(Math.round(n.left+n.width),Math.round(u+n.top+i)),new Ce(Math.round(n.left),Math.round(u+n.top+i))];case 3:return[new Ce(Math.round(n.left+s),Math.round(n.top)),new Ce(Math.round(n.left+s+o),Math.round(n.top)),new Ce(Math.round(n.left+s+o),Math.round(n.height+n.top)),new Ce(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new Ce(Math.round(n.left+s),Math.round(n.top+i)),new Ce(Math.round(n.left+s+o),Math.round(n.top+i)),new Ce(Math.round(n.left+s+o),Math.round(n.top+i+u)),new Ce(Math.round(n.left+s),Math.round(n.top+i+u))];default:return[new Ce(Math.round(r.left),Math.round(r.top)),new Ce(Math.round(r.left+r.width),Math.round(r.top)),new Ce(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Ce(Math.round(r.left),Math.round(r.height+r.top))]}},CL="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Cg="Hidden Text",vL=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,A){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=A,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),r.src=CL,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=A,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Cg)),n.appendChild(s),n.appendChild(r);var o=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(Cg)),n.style.lineHeight="normal",r.style.verticalAlign="super";var u=r.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:o,middle:u}},t.prototype.getMetrics=function(e,A){var n=e+" "+A;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,A)),this._data[n]},t}(),YC=function(){function t(e,A){this.context=e,this.options=A}return t}(),yL=1e4,xL=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new vL(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e.prototype.applyEffects=function(A){for(var n=this;this._activeEffects.length;)this.popEffect();A.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(A){this.ctx.save(),uL(A)&&(this.ctx.globalAlpha=A.opacity),lL(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),GC(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return kt(this,void 0,void 0,function(){var n;return Ut(this,function(r){switch(r.label){case 0:return n=A.element.container.styles,n.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return kt(this,void 0,void 0,function(){return Ut(this,function(n){switch(n.label){case 0:if(pt(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(A)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,n,r){var s=this;if(n===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+r);else{var i=xd(A.text);i.reduce(function(o,u){return s.ctx.fillText(u,o,A.bounds.top+r),o+s.ctx.measureText(u).width},A.bounds.left)}},e.prototype.createFontStyle=function(A){var n=A.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),r=SL(A.fontFamily).join(", "),s=Mi(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,n,A.fontWeight,s,r].join(" "),r,s]},e.prototype.renderTextNode=function(A,n){return kt(this,void 0,void 0,function(){var r,s,i,o,u,c,f,d,p=this;return Ut(this,function(g){return r=this.createFontStyle(n),s=r[0],i=r[1],o=r[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",u=this.fontMetrics.getMetrics(i,o),c=u.baseline,f=u.middle,d=n.paintOrder,A.textBounds.forEach(function(B){d.forEach(function(m){switch(m){case 0:p.ctx.fillStyle=mt(n.color),p.renderTextWithLetterSpacing(B,n.letterSpacing,c);var x=n.textShadow;x.length&&B.text.trim().length&&(x.slice(0).reverse().forEach(function(C){p.ctx.shadowColor=mt(C.color),p.ctx.shadowOffsetX=C.offsetX.number*p.options.scale,p.ctx.shadowOffsetY=C.offsetY.number*p.options.scale,p.ctx.shadowBlur=C.blur.number,p.renderTextWithLetterSpacing(B,n.letterSpacing,c)}),p.ctx.shadowColor="",p.ctx.shadowOffsetX=0,p.ctx.shadowOffsetY=0,p.ctx.shadowBlur=0),n.textDecorationLine.length&&(p.ctx.fillStyle=mt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(C){switch(C){case 1:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+c),B.bounds.width,1);break;case 2:p.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:p.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+f),B.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&B.text.trim().length&&(p.ctx.strokeStyle=mt(n.webkitTextStrokeColor),p.ctx.lineWidth=n.webkitTextStrokeWidth,p.ctx.lineJoin=window.chrome?"miter":"round",p.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+c)),p.ctx.strokeStyle="",p.ctx.lineWidth=0,p.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(A,n,r){if(r&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var s=Pa(A),i=Ra(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,A.intrinsicWidth,A.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return kt(this,void 0,void 0,function(){var n,r,s,i,o,u,w,w,c,f,d,p,E,g,B,U,m,x,C,w,y,E,U;return Ut(this,function(T){switch(T.label){case 0:this.applyEffects(A.getEffects(4)),n=A.container,r=A.curves,s=n.styles,i=0,o=n.textNodes,T.label=1;case 1:return i<o.length?(u=o[i],[4,this.renderTextNode(u,s)]):[3,4];case 2:T.sent(),T.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof FC))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return w=T.sent(),this.renderReplacedElement(n,r,w),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof SC&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof IC))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return w=T.sent(),this.renderReplacedElement(n,r,w),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof kC&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:f=T.sent(),n.width&&n.height&&this.ctx.drawImage(f,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),T.label=14;case 14:if(n instanceof Ed&&(d=Math.min(n.bounds.width,n.bounds.height),n.type===ka?n.checked&&(this.ctx.save(),this.path([new Ce(n.bounds.left+d*.39363,n.bounds.top+d*.79),new Ce(n.bounds.left+d*.16,n.bounds.top+d*.5549),new Ce(n.bounds.left+d*.27347,n.bounds.top+d*.44071),new Ce(n.bounds.left+d*.39694,n.bounds.top+d*.5649),new Ce(n.bounds.left+d*.72983,n.bounds.top+d*.23),new Ce(n.bounds.left+d*.84,n.bounds.top+d*.34085),new Ce(n.bounds.left+d*.39363,n.bounds.top+d*.79)]),this.ctx.fillStyle=mt(og),this.ctx.fill(),this.ctx.restore()):n.type===ba&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+d/2,n.bounds.top+d/2,d/4,0,Math.PI*2,!0),this.ctx.fillStyle=mt(og),this.ctx.fill(),this.ctx.restore())),EL(n)&&n.value.length){switch(p=this.createFontStyle(s),E=p[0],g=p[1],B=this.fontMetrics.getMetrics(E,g).baseline,this.ctx.font=E,this.ctx.fillStyle=mt(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=UL(n.styles.textAlign),U=Pa(n),m=0,n.styles.textAlign){case 1:m+=U.width/2;break;case 2:m+=U.width;break}x=U.add(m,0,0,-U.height/2+1),this.ctx.save(),this.path([new Ce(U.left,U.top),new Ce(U.left+U.width,U.top),new Ce(U.left+U.width,U.top+U.height),new Ce(U.left,U.top+U.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new qs(n.value,x),s.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!pt(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(C=n.styles.listStyleImage,C.type!==0)return[3,18];w=void 0,y=C.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return w=T.sent(),this.ctx.drawImage(w,n.bounds.left-(w.width+10),n.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:A.listValue&&n.styles.listStyleType!==-1&&(E=this.createFontStyle(s)[0],this.ctx.font=E,this.ctx.fillStyle=mt(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",U=new ZA(n.bounds.left,n.bounds.top+Ye(n.styles.paddingTop,n.bounds.width),n.bounds.width,Gm(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new qs(A.listValue,U),s.letterSpacing,Gm(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return kt(this,void 0,void 0,function(){var n,r,C,s,i,C,o,u,C,c,f,C,d,p,C,g,B,C,m,x,C;return Ut(this,function(w){switch(w.label){case 0:if(pt(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:w.sent(),n=0,r=A.negativeZIndex,w.label=2;case 2:return n<r.length?(C=r[n],[4,this.renderStack(C)]):[3,5];case 3:w.sent(),w.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:w.sent(),s=0,i=A.nonInlineLevel,w.label=7;case 7:return s<i.length?(C=i[s],[4,this.renderNode(C)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,u=A.nonPositionedFloats,w.label=11;case 11:return o<u.length?(C=u[o],[4,this.renderStack(C)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:c=0,f=A.nonPositionedInlineLevel,w.label=15;case 15:return c<f.length?(C=f[c],[4,this.renderStack(C)]):[3,18];case 16:w.sent(),w.label=17;case 17:return c++,[3,15];case 18:d=0,p=A.inlineLevel,w.label=19;case 19:return d<p.length?(C=p[d],[4,this.renderNode(C)]):[3,22];case 20:w.sent(),w.label=21;case 21:return d++,[3,19];case 22:g=0,B=A.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return g<B.length?(C=B[g],[4,this.renderStack(C)]):[3,26];case 24:w.sent(),w.label=25;case 25:return g++,[3,23];case 26:m=0,x=A.positiveZIndex,w.label=27;case 27:return m<x.length?(C=x[m],[4,this.renderStack(C)]):[3,30];case 28:w.sent(),w.label=29;case 29:return m++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var n=this;A.forEach(function(r,s){var i=iA(r)?r.start:r;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),iA(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(A,n,r,s){this.path(A),this.ctx.fillStyle=n,this.ctx.translate(r,s),this.ctx.fill(),this.ctx.translate(-r,-s)},e.prototype.resizeImage=function(A,n,r){var s;if(A.width===n&&A.height===r)return A;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=i.createElement("canvas");o.width=Math.max(1,n),o.height=Math.max(1,r);var u=o.getContext("2d");return u.drawImage(A,0,0,A.width,A.height,0,0,n,r),o},e.prototype.renderBackgroundImage=function(A){return kt(this,void 0,void 0,function(){var n,r,s,i,o,u;return Ut(this,function(c){switch(c.label){case 0:n=A.styles.backgroundImage.length-1,r=function(f){var d,p,g,R,Y,J,G,F,M,B,R,Y,J,G,F,m,x,C,w,y,E,U,T,Q,M,D,R,j,_,G,F,q,Y,J,ee,X,H,O,N,le,ae,te;return Ut(this,function(me){switch(me.label){case 0:if(f.type!==0)return[3,5];d=void 0,p=f.url,me.label=1;case 1:return me.trys.push([1,3,,4]),[4,s.context.cache.match(p)];case 2:return d=me.sent(),[3,4];case 3:return me.sent(),s.context.logger.error("Error loading background-image "+p),[3,4];case 4:return d&&(g=Tu(A,n,[d.width,d.height,d.width/d.height]),R=g[0],Y=g[1],J=g[2],G=g[3],F=g[4],M=s.ctx.createPattern(s.resizeImage(d,G,F),"repeat"),s.renderRepeat(R,M,Y,J)),[3,6];case 5:lb(f)?(B=Tu(A,n,[null,null,null]),R=B[0],Y=B[1],J=B[2],G=B[3],F=B[4],m=rb(f.angle,G,F),x=m[0],C=m[1],w=m[2],y=m[3],E=m[4],U=document.createElement("canvas"),U.width=G,U.height=F,T=U.getContext("2d"),Q=T.createLinearGradient(C,y,w,E),Om(f.stops,x).forEach(function(oe){return Q.addColorStop(oe.stop,mt(oe.color))}),T.fillStyle=Q,T.fillRect(0,0,G,F),G>0&&F>0&&(M=s.ctx.createPattern(U,"repeat"),s.renderRepeat(R,M,Y,J))):ub(f)&&(D=Tu(A,n,[null,null,null]),R=D[0],j=D[1],_=D[2],G=D[3],F=D[4],q=f.position.length===0?[Cd]:f.position,Y=Ye(q[0],G),J=Ye(q[q.length-1],F),ee=sb(f,Y,J,G,F),X=ee[0],H=ee[1],X>0&&H>0&&(O=s.ctx.createRadialGradient(j+Y,_+J,0,j+Y,_+J,X),Om(f.stops,X*2).forEach(function(oe){return O.addColorStop(oe.stop,mt(oe.color))}),s.path(R),s.ctx.fillStyle=O,X!==H?(N=A.bounds.left+.5*A.bounds.width,le=A.bounds.top+.5*A.bounds.height,ae=H/X,te=1/ae,s.ctx.save(),s.ctx.translate(N,le),s.ctx.transform(1,0,0,ae,0,0),s.ctx.translate(-N,-le),s.ctx.fillRect(j,te*(_-le)+le,G,F*te),s.ctx.restore()):s.ctx.fill())),me.label=6;case 6:return n--,[2]}})},s=this,i=0,o=A.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return i<o.length?(u=o[i],[5,r(u)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,n,r){return kt(this,void 0,void 0,function(){return Ut(this,function(s){return this.path(wg(r,n)),this.ctx.fillStyle=mt(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,n,r,s){return kt(this,void 0,void 0,function(){var i,o;return Ut(this,function(u){switch(u.label){case 0:return n<3?[4,this.renderSolidBorder(A,r,s)]:[3,2];case 1:return u.sent(),[2];case 2:return i=dL(s,r),this.path(i),this.ctx.fillStyle=mt(A),this.ctx.fill(),o=pL(s,r),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return kt(this,void 0,void 0,function(){var n,r,s,i,o,u,c,f,d=this;return Ut(this,function(p){switch(p.label){case 0:return this.applyEffects(A.getEffects(2)),n=A.container.styles,r=!En(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=TL(hr(n.backgroundClip,0),A.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),En(n.backgroundColor)||(this.ctx.fillStyle=mt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:p.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(g){d.ctx.save();var B=La(A.curves),m=g.inset?0:yL,x=cL(B,-m+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(d.path(B),d.ctx.clip(),d.mask(x)):(d.mask(B),d.ctx.clip(),d.path(x)),d.ctx.shadowOffsetX=g.offsetX.number+m,d.ctx.shadowOffsetY=g.offsetY.number,d.ctx.shadowColor=mt(g.color),d.ctx.shadowBlur=g.blur.number,d.ctx.fillStyle=g.inset?mt(g.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),p.label=2;case 2:o=0,u=0,c=s,p.label=3;case 3:return u<c.length?(f=c[u],f.style!==0&&!En(f.color)&&f.width>0?f.style!==2?[3,5]:[4,this.renderDashedDottedBorder(f.color,f.width,o,A.curves,2)]:[3,11]):[3,13];case 4:return p.sent(),[3,11];case 5:return f.style!==3?[3,7]:[4,this.renderDashedDottedBorder(f.color,f.width,o,A.curves,3)];case 6:return p.sent(),[3,11];case 7:return f.style!==4?[3,9]:[4,this.renderDoubleBorder(f.color,f.width,o,A.curves)];case 8:return p.sent(),[3,11];case 9:return[4,this.renderSolidBorder(f.color,o,A.curves)];case 10:p.sent(),p.label=11;case 11:o++,p.label=12;case 12:return u++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,n,r,s,i){return kt(this,void 0,void 0,function(){var o,u,c,f,d,p,g,B,m,x,C,w,y,E,U,T,U,T;return Ut(this,function(Q){return this.ctx.save(),o=hL(s,r),u=wg(s,r),i===2&&(this.path(u),this.ctx.clip()),iA(u[0])?(c=u[0].start.x,f=u[0].start.y):(c=u[0].x,f=u[0].y),iA(u[1])?(d=u[1].end.x,p=u[1].end.y):(d=u[1].x,p=u[1].y),r===0||r===2?g=Math.abs(c-d):g=Math.abs(f-p),this.ctx.beginPath(),i===3?this.formatPath(o):this.formatPath(u.slice(0,2)),B=n<3?n*3:n*2,m=n<3?n*2:n,i===3&&(B=n,m=n),x=!0,g<=B*2?x=!1:g<=B*2+m?(C=g/(2*B+m),B*=C,m*=C):(w=Math.floor((g+m)/(B+m)),y=(g-w*B)/(w-1),E=(g-(w+1)*B)/w,m=E<=0||Math.abs(m-y)<Math.abs(m-E)?y:E),x&&(i===3?this.ctx.setLineDash([0,B+m]):this.ctx.setLineDash([B,m])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=mt(A),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(iA(u[0])&&(U=u[3],T=u[0],this.ctx.beginPath(),this.formatPath([new Ce(U.end.x,U.end.y),new Ce(T.start.x,T.start.y)]),this.ctx.stroke()),iA(u[1])&&(U=u[1],T=u[2],this.ctx.beginPath(),this.formatPath([new Ce(U.end.x,U.end.y),new Ce(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return kt(this,void 0,void 0,function(){var n;return Ut(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=mt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=fL(A),[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(YC),EL=function(t){return t instanceof NC||t instanceof _C?!0:t instanceof Ed&&t.type!==ba&&t.type!==ka},TL=function(t,e){switch(t){case 0:return La(e);case 2:return iL(e);case 1:default:return Ra(e)}},UL=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},FL=["-apple-system","system-ui"],SL=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return FL.indexOf(e)===-1}):t},IL=function(t){xA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e.prototype.render=function(A){return kt(this,void 0,void 0,function(){var n,r;return Ut(this,function(s){switch(s.label){case 0:return n=Af(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,QL(n)];case 1:return r=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=mt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(YC),QL=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},_L=function(){function t(e){var A=e.id,n=e.enabled;this.id=A,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,so([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,so([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,so([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,so([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),NL=function(){function t(e,A){var n;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new _L({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new ZM(this,e)}return t.instanceCount=1,t}(),uf=function(t,e){return e===void 0&&(e={}),kL(t,e)};typeof window<"u"&&VC.setContext(window);var kL=function(t,e){return kt(void 0,void 0,void 0,function(){var A,n,r,s,i,o,u,c,f,d,p,g,B,m,x,C,w,y,E,U,Q,T,Q,M,D,R,j,_,G,F,q,Y,J,ee,X,H,O,N,le,ae;return Ut(this,function(te){switch(te.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=t.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(n=A.defaultView,!n)throw new Error("Document is not attached to a Window");return r={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(R=e.useCORS)!==null&&R!==void 0?R:!1},s=Kc({logging:(j=e.logging)!==null&&j!==void 0?j:!0,cache:e.cache},r),i={windowWidth:(_=e.windowWidth)!==null&&_!==void 0?_:n.innerWidth,windowHeight:(G=e.windowHeight)!==null&&G!==void 0?G:n.innerHeight,scrollX:(F=e.scrollX)!==null&&F!==void 0?F:n.pageXOffset,scrollY:(q=e.scrollY)!==null&&q!==void 0?q:n.pageYOffset},o=new ZA(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),u=new NL(s,o),c=(Y=e.foreignObjectRendering)!==null&&Y!==void 0?Y:!1,f={allowTaint:(J=e.allowTaint)!==null&&J!==void 0?J:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},u.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),d=new mg(u,t,f),p=d.clonedReferenceElement,p?[4,d.toIFrame(A,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=te.sent(),B=Td(p)||DM(p)?c4(p.ownerDocument):hl(u,p),m=B.width,x=B.height,C=B.left,w=B.top,y=bL(u,p,e.backgroundColor),E={canvas:e.canvas,backgroundColor:y,scale:(X=(ee=e.scale)!==null&&ee!==void 0?ee:n.devicePixelRatio)!==null&&X!==void 0?X:1,x:((H=e.x)!==null&&H!==void 0?H:0)+C,y:((O=e.y)!==null&&O!==void 0?O:0)+w,width:(N=e.width)!==null&&N!==void 0?N:Math.ceil(m),height:(le=e.height)!==null&&le!==void 0?le:Math.ceil(x)},c?(u.logger.debug("Document cloned, using foreign object rendering"),Q=new IL(u,E),[4,Q.render(p)]):[3,3];case 2:return U=te.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+C+","+w+" with size "+m+"x"+x+" using computed rendering"),u.logger.debug("Starting DOM parsing"),T=DC(u,p),y===T.styles.backgroundColor&&(T.styles.backgroundColor=zA.TRANSPARENT),u.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),Q=new xL(u,E),[4,Q.render(T)];case 4:U=te.sent(),te.label=5;case 5:return(!((ae=e.removeContainer)!==null&&ae!==void 0)||ae)&&(mg.destroy(g)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,U]}})})},bL=function(t,e,A){var n=e.ownerDocument,r=n.documentElement?Ws(t,getComputedStyle(n.documentElement).backgroundColor):zA.TRANSPARENT,s=n.body?Ws(t,getComputedStyle(n.body).backgroundColor):zA.TRANSPARENT,i=typeof A=="string"?Ws(t,A):A===null?zA.TRANSPARENT:4294967295;return e===n.documentElement?En(r)?En(s)?i:s:r:i};const DL=new Set(["Z 2시간 시작 - 종료","드리프트 완료","반복성 완료"]),dr=t=>{try{if(t&&t.trim().startsWith("[")){const e=JSON.parse(t);if(Array.isArray(e))return{초:String(e[0]||"-"),분:String(e[1]||"-"),길이:String(e[2]||"-")}}}catch{}return{초:"-",분:"-",길이:"-"}},ML=({job:t,siteLocation:e})=>{const A=t.details&&t.details.trim()?`${e.trim()}_(${t.details.trim()})`:e.trim(),n=t.selectedItem==="TU/CL",r={position:"absolute",left:"-9999px",top:"0px",width:"800px",padding:"24px",backgroundColor:"#0f172a",color:"#e2e8f0",fontFamily:"Inter, sans-serif",lineHeight:"1.5"},s={fontSize:"20px",fontWeight:"bold",color:"#e2e8f0",backgroundColor:"#1e293b",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",borderLeft:"4px solid #38bdf8"},i={width:"100%",borderCollapse:"collapse",border:"1px solid #334155",borderRadius:"8px",overflow:"hidden"},o={backgroundColor:"#1e293b",padding:"12px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#94a3b8",textTransform:"uppercase",borderBottom:"1px solid #334155"},u={padding:"10px 12px",borderBottom:"1px solid #334155",fontSize:"14px",textAlign:"center",verticalAlign:"middle",color:"#cbd5e1",height:"50px"},c={...u,borderBottom:"none"},f={...u,color:"#f87171",fontWeight:"600"};return h.jsxs("div",{id:`snapshot-container-for-${t.id}`,style:r,children:[h.jsxs("div",{style:s,children:["먹는물 분석 데이터: ",t.receiptNumber," / ",t.selectedItem," (",A,")"]}),h.jsxs("table",{style:i,children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{style:{...o,width:"5%"},children:"NO."}),h.jsx("th",{style:{...o,width:"25%"},children:"최종 저장 시간"}),n?h.jsxs(h.Fragment,{children:[h.jsx("th",{style:o,children:"TU 값"}),h.jsx("th",{style:o,children:"Cl 값"})]}):h.jsx("th",{style:o,children:"값"}),h.jsx("th",{style:{...o,width:"20%"},children:"구분"})]})}),h.jsx("tbody",{children:(t.processedOcrData||[]).map((d,p)=>{var C;const g=p===(((C=t.processedOcrData)==null?void 0:C.length)||0)-1,B=g?c:u,m=g?{...f,...c}:f;if(DL.has(d.identifier||""))return h.jsx("tr",{children:h.jsx("td",{colSpan:n?5:4,style:{...B,padding:"16px 8px"},children:h.jsxs("div",{style:{display:"flex",alignItems:"center",color:"#64748b"},children:[h.jsx("div",{style:{flexGrow:1,borderTop:"1px solid #475569"}}),h.jsx("span",{style:{padding:"0 16px",fontSize:"12px",fontWeight:"600"},children:d.identifier}),h.jsx("div",{style:{flexGrow:1,borderTop:"1px solid #475569"}})]})})},d.id);const x=d.identifier==="응답";return h.jsxs("tr",{children:[h.jsx("td",{style:B,children:p+1}),h.jsx("td",{style:{...B,fontSize:"13px"},children:d.time||"-"}),x?h.jsxs(h.Fragment,{children:[h.jsxs("td",{colSpan:1,style:B,children:[dr(d.value).초," 초 / ",dr(d.value).분," 분 / ",dr(d.value).길이," mm"]}),n&&h.jsxs("td",{style:B,children:[dr(d.valueTP||"").초," 초 / ",dr(d.valueTP||"").분," 분 / ",dr(d.valueTP||"").길이," mm"]})]}):h.jsxs(h.Fragment,{children:[h.jsx("td",{style:B,children:d.value||"-"}),n&&h.jsx("td",{style:B,children:d.valueTP||"-"})]}),h.jsx("td",{style:m,children:x?"응답시간":d.identifier})]},d.id)})})]})]})},Io=(t,e)=>e&&e.trim()?`${t.trim()}_(${e.trim()})`:t.trim(),LL=()=>{const t=new Date,e=t.getFullYear(),A=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${e}-${A}-${n}T${r}:${s}`},Uu=t=>t?t.replace(/[/\\:?*\"<>|]/g,"").replace(/__+/g,""):"",RL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),PL=({userName:t,jobs:e,setJobs:A,activeJobId:n,setActiveJobId:r,siteLocation:s,onDeleteJob:i})=>{var re;const[o,u]=$.useState(!1),[c,f]=$.useState(null),[d,p]=$.useState(!1),[g,B]=$.useState(null),[m,x]=$.useState(!1),C=$.useRef(null),[w,y]=$.useState(-1),[E,U]=$.useState(null),T=$.useMemo(()=>e.find(V=>V.id===n),[e,n]);$.useMemo(()=>{var V;return((V=Kn.find(Ae=>Ae.label==="먹는물"))==null?void 0:V.items)||[]},[]);const Q=$.useMemo(()=>T&&(T.submissionStatus==="success"||T.submissionStatus==="error")?T.submissionStatus:"idle",[T]),M=$.useCallback(V=>{n&&A(Ae=>Ae.map(de=>de.id===n?V(de):de))},[n,A]),D=$.useCallback(()=>{f(null)},[]);$.useEffect(()=>{T&&T.photos.length>0?(w<0||w>=T.photos.length)&&y(0):y(-1)},[T,w]);const R=$.useMemo(()=>{var de;if(!T)return[];const V=[],Ae=`${T.receiptNumber}_먹는물_${Uu(T.selectedItem.replace("/","_"))}`;return T.photos.length>0&&(V.push(`${Ae}_composite.jpg`),V.push(`${Ae}_압축.zip`)),(de=T.processedOcrData)!=null&&de.some(z=>z.value.trim()!==""||z.valueTP&&z.valueTP.trim()!=="")&&V.push(`${Ae}_datatable.png`),V},[T]),j=$.useMemo(()=>{if(!T||!t||!s.trim())return null;const{receiptNumber:V,selectedItem:Ae,processedOcrData:de,details:z,decimalPlaces:v,decimalPlacesCl:L}=T,b=Io(s,z);return gd({receiptNumber:V,siteLocation:b,item:Ae,ocrData:de||[],updateUser:t,pageType:"DrinkingWater",maxDecimalPlaces:v,maxDecimalPlacesCl:L},Ae,R)},[T,t,s,R]),_=$.useMemo(()=>{if(!T||!t||!s.trim())return null;const{receiptNumber:V,selectedItem:Ae,processedOcrData:de,details:z}=T,v={},L=Ae==="TU/CL"?["TU","Cl"]:Ae?[Ae]:[];de&&L.length>0&&L.forEach(S=>{const k={};de.forEach(P=>{if(P.identifier==="Z 2시간 시작 - 종료"||P.identifier==="드리프트 완료"||P.identifier==="반복성 완료")return;let Z=null,K=null;S==="TU"?(Z=P.identifier||null,K=P.value||null):S==="Cl"&&(Z=P.identifier?P.identifier:null,T.selectedItem==="TU/CL"?K=P.valueTP||null:K=P.value||null),(P.identifier==="응답시간_Cl"&&S==="Cl"||P.identifier==="응답"&&S==="TU")&&(Z="응답시간",K=P.value),Z&&K&&K.trim()!==""&&(k[Z]={val:K.trim(),time:P.time})}),Object.keys(k).length>0&&(v[S]=k)});const b=Io(s,z);return JSON.stringify({receipt_no:V,site:b,item:[Ae],user_name:t,values:v},null,2)},[T,t,s]),G=(V,Ae)=>{M(de=>({...de,[V]:Ae,submissionStatus:"idle",submissionMessage:void 0})),D()},F=$.useCallback(()=>{n&&(M(V=>{const Ae=(V.processedOcrData||[]).map(de=>({...de,time:"",value:"",valueTP:de.valueTP!==void 0?"":void 0}));return{...V,processedOcrData:Ae,photos:[],submissionStatus:"idle",submissionMessage:void 0}}),y(-1),C.current&&(C.current.value=""),D())},[n,D,M]),q=(V,Ae)=>{A(de=>de.map(z=>z.id===V?{...z,processedOcrData:Ae}:z)),D()},Y=(V,Ae,de)=>{if(!T||!T.processedOcrData)return;const z=T.processedOcrData.map(v=>{var L;if(v.id===V){const b={...v,...Ae==="primary"?{value:de}:{valueTP:de}},I=(Ae==="primary"?de:v.value||"").trim()!=="",S=((L=Ae==="tp"?de:v.valueTP||"")==null?void 0:L.trim())!=="";return I||S?v.time||(b.time=LL()):b.time="",b}return v});M(v=>({...v,processedOcrData:z,submissionStatus:"idle",submissionMessage:void 0}))},J=(V,Ae)=>{if(!T||!T.processedOcrData)return;const de=(v,L)=>{if(v==null||v.trim()==="")return"";if(v.trim().startsWith("["))return v;const b=parseFloat(v);return isNaN(b)?v:b.toFixed(L)},z=T.processedOcrData.map(v=>{var L;if(v.id===V){const b={...v};return((L=v.identifier)==null?void 0:L.startsWith("응답"))||(Ae==="primary"?b.value=de(v.value,T.decimalPlaces):Ae==="tp"&&T.selectedItem==="TU/CL"&&(b.valueTP=de(v.valueTP,T.decimalPlacesCl??T.decimalPlaces))),b}return v});q(T.id,z)},ee=$.useCallback(()=>{if(!n){alert("먼저 사진을 추가할 작업을 선택해주세요.");return}x(!0),f(null)},[n]),X=$.useCallback(()=>x(!1),[]),H=$.useCallback(V=>{!n||V.length===0||(M(Ae=>{const de=Ae.photos.length===0,z=[...Ae.photos,...V],v=new Map;z.forEach(b=>{const I=`${b.file.name}-${b.file.size}-${b.file.lastModified}`;v.has(I)||v.set(I,b)});const L=Array.from(v.values());return de&&L.length>0&&y(0),{...Ae,photos:L,submissionStatus:"idle",submissionMessage:void 0}}),D())},[n,D,M]),O=$.useCallback((V,Ae,de)=>{if(!n)return;const z={file:V,base64:Ae,mimeType:de};let v=-1;M(L=>{const b=[...L.photos,z];return v=L.photos.length,{...L,photos:b,submissionStatus:"idle",submissionMessage:void 0}}),v!==-1&&y(v),x(!1),D()},[n,D,M]),N=$.useCallback(V=>{if(!n||V<0)return;const Ae=e.find(v=>v.id===n);if(!Ae||V>=Ae.photos.length)return;const de=Ae.photos.filter((v,L)=>L!==V);let z=w;de.length===0?z=-1:z>=de.length?z=de.length-1:z>V&&z>0&&(z=z-1),M(v=>({...v,photos:de,submissionStatus:"idle",submissionMessage:void 0})),y(z),D()},[n,e,w,D,M]),le=$.useCallback(()=>{var de;if(!T||!t||!s.trim())return;if(t==="게스트"){alert("게스트 사용자는 KTL로 전송할 수 없습니다.");return}if(!((de=T.processedOcrData)==null?void 0:de.some(z=>z.value&&z.value.trim()!==""||z.valueTP&&z.valueTP.trim()!==""))){alert("전송할 입력된 데이터가 없습니다.");return}const Ae=Io(s,T.details);B({jsonPayload:j||"JSON 미리보기를 생성할 수 없습니다.",fileNames:R,context:{receiptNumber:T.receiptNumber,siteLocation:Ae,selectedItem:T.selectedItem,userName:t}}),p(!0)},[T,t,j,s,R]),ae=$.useCallback(async()=>{p(!1),T&&U(T)},[T]);$.useEffect(()=>{if(!E)return;const Ae=setTimeout(async()=>{if(!t||!s.trim()){M(b=>({...b,submissionStatus:"error",submissionMessage:"KTL 전송을 위한 필수 데이터가 누락되었습니다."})),U(null);return}M(b=>({...b,submissionStatus:"sending",submissionMessage:"전송 중..."}));const de=Io(s,E.details),z={receiptNumber:E.receiptNumber,siteLocation:de,item:E.selectedItem,ocrData:E.processedOcrData||[],updateUser:t,pageType:"DrinkingWater",maxDecimalPlaces:E.decimalPlaces,maxDecimalPlacesCl:E.decimalPlacesCl};let v=[],L=[];try{const b=document.getElementById(`snapshot-container-for-${E.id}`);let I=null;if(b){const P=(await uf(b,{backgroundColor:"#1e293b",scale:1.5})).toDataURL("image/png"),Z=Ot(P),K=`${E.receiptNumber}_먹는물_${Uu(E.selectedItem.replace("/","_"))}_datatable.png`;I=new File([Z],K,{type:"image/png"})}if(E.photos.length>0){const k=E.photos.map(ue=>({base64:ue.base64,mimeType:ue.mimeType})),P=`${E.receiptNumber}_먹는물_${Uu(E.selectedItem.replace("/","_"))}`,Z=await Xr(k,{receiptNumber:E.receiptNumber,siteLocation:de,item:E.selectedItem},"image/jpeg"),K=Ot(Z),ne=`${P}_composite.jpg`,fe=new File([K],ne,{type:"image/jpeg"});v.push(fe),L.push(ne);const se=new Zr;for(let ue=0;ue<E.photos.length;ue++){const Ee=E.photos[ue],W=await qr(Ee.base64,Ee.mimeType,E.receiptNumber,de,"",E.selectedItem),ce=Ot(W);se.file(`${P}_${ue+1}.png`,ce)}if(Object.keys(se.files).length>0){const ue=await se.generateAsync({type:"blob"}),Ee=`${P}_압축.zip`,W=new File([ue],Ee,{type:"application/zip"});v.push(W),L.push(Ee)}}I&&(v.push(I),L.push(I.name));const S=await Ci(z,v,E.selectedItem,L);M(k=>({...k,submissionStatus:"success",submissionMessage:S.message}))}catch(b){M(I=>({...I,submissionStatus:"error",submissionMessage:`KTL 전송 실패: ${b.message}`}))}finally{U(null)}},100);return()=>clearTimeout(Ae)},[E,t,s,M]);const te=$.useMemo(()=>T&&T.photos.length>0&&w!==-1?T.photos[w]:null,[T,w]),me=o,oe=!T||me||!s.trim()||!((re=T.processedOcrData)!=null&&re.some(V=>V.value.trim()||V.valueTP&&V.valueTP.trim())),we=({status:V,message:Ae})=>V==="idle"||!Ae?null:V==="sending"?h.jsx("span",{className:"text-xs text-sky-400 animate-pulse",children:Ae}):V==="success"?h.jsxs("span",{className:"text-xs text-green-400",children:["✅ ",Ae]}):V==="error"?h.jsxs("span",{className:"text-xs text-red-400",title:Ae,children:["❌ ",Ae.length>30?Ae.substring(0,27)+"...":Ae]}):null;return h.jsxs("div",{className:"w-full max-w-3xl bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6",children:[E&&h.jsx("div",{style:{position:"fixed",left:"-9999px",top:"0",pointerEvents:"none",opacity:0},children:h.jsx(ML,{job:E,siteLocation:s})}),h.jsx("h2",{className:"text-2xl font-bold text-sky-400 border-b border-slate-700 pb-3",children:"먹는물 분석 (P3)"}),e.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h3",{className:"text-md font-semibold text-slate-200",children:["작업 목록 (",e.length,"개):"]}),h.jsx("div",{className:"max-h-48 overflow-y-auto bg-slate-700/20 p-2 rounded-md border border-slate-600/40 space-y-1.5",children:e.map(V=>h.jsxs("div",{className:`p-2.5 rounded-md transition-all ${n===V.id?"bg-sky-600 shadow-md ring-2 ring-sky-400":"bg-slate-600 hover:bg-slate-500"}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>{r(V.id),D()},children:h.jsxs("span",{className:`text-sm font-medium ${n===V.id?"text-white":"text-slate-200"}`,children:[V.receiptNumber," / ",V.selectedItem," ",V.details&&`(${V.details})`]})}),h.jsx("button",{onClick:Ae=>{Ae.stopPropagation(),i(V.id)},className:"ml-2 p-1.5 rounded-full text-slate-400 hover:text-white hover:bg-red-600 transition-colors flex-shrink-0","aria-label":`${V.receiptNumber} 작업 삭제`,disabled:me,children:h.jsx(RL,{})})]}),h.jsx("div",{className:"mt-1 text-right cursor-pointer self-start",onClick:()=>{r(V.id),D()},children:h.jsx(we,{status:V.submissionStatus,message:V.submissionMessage})})]},V.id))})]}),T&&h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["활성 작업: ",T.receiptNumber," / ",T.selectedItem]}),h.jsxs("div",{className:"p-4 bg-slate-700/40 rounded-lg border border-slate-600/50 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"job-details",className:"block text-sm font-medium text-slate-300 mb-1",children:"현장_상세 (편집 가능)"}),h.jsx("input",{id:"job-details",value:T.details,onChange:V=>G("details",V.target.value),disabled:me,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-sm",placeholder:"현장_상세 (예: 강남배수지)"})]}),T.selectedItem==="TU/CL"?h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"decimal-places-select-tu",className:"block text-sm font-medium text-slate-300 mb-1",children:"소수점 자릿수 (TU)"}),h.jsx("select",{id:"decimal-places-select-tu",value:T.decimalPlaces,onChange:V=>G("decimalPlaces",Number(V.target.value)),disabled:me,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-sm",children:[1,2,3,4].map(V=>h.jsxs("option",{value:V,children:[V,"자리"]},V))})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"decimal-places-select-cl",className:"block text-sm font-medium text-slate-300 mb-1",children:"소수점 자릿수 (Cl)"}),h.jsx("select",{id:"decimal-places-select-cl",value:T.decimalPlacesCl??2,onChange:V=>G("decimalPlacesCl",Number(V.target.value)),disabled:me,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-sm",children:[1,2,3,4].map(V=>h.jsxs("option",{value:V,children:[V,"자리"]},V))})]})]}):h.jsxs("div",{children:[h.jsx("label",{htmlFor:"decimal-places-select",className:"block text-sm font-medium text-slate-300 mb-1",children:"소수점 자릿수 선택"}),h.jsx("select",{id:"decimal-places-select",value:T.decimalPlaces,onChange:V=>G("decimalPlaces",Number(V.target.value)),disabled:me,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-sm",children:[1,2,3,4].map(V=>h.jsxs("option",{value:V,children:[V,"자리 (0.","0".repeat(V-1),"1)"]},V))})]})]}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-600 space-y-3",children:[h.jsxs("h4",{className:"text-md font-semibold text-slate-200",children:["'",T.selectedItem,"' 작업 참고 사진"]}),m?h.jsx(Al,{onCapture:O,onClose:X}):h.jsxs(h.Fragment,{children:[h.jsx(Ii,{onImagesSet:H,onOpenCamera:ee,isLoading:me,ref:C,selectedImageCount:T.photos.length}),te&&h.jsx("div",{className:"self-start",children:h.jsx(nl,{imageBase64:te.base64,fileName:te.file.name,mimeType:te.mimeType,receiptNumber:T.receiptNumber,siteLocation:s,item:T.selectedItem,showOverlay:!0,totalSelectedImages:T.photos.length,currentImageIndex:w,onDelete:()=>N(w)})}),h.jsx(pl,{images:T.photos,currentIndex:w,onSelectImage:y,onDeleteImage:N,disabled:me})]})]}),h.jsx(sd,{onClear:F,isClearDisabled:me,onInitiateSendToKtl:le,isClaydoxDisabled:oe,isSendingToClaydox:T.submissionStatus==="sending",ktlApiCallStatus:Q}),h.jsx("div",{className:"data-table-container",children:h.jsx(id,{ocrData:T.processedOcrData,error:c,isLoading:!1,contextProvided:!0,hasImage:!0,selectedItem:T.selectedItem,onEntryPrimaryValueChange:(V,Ae)=>Y(V,"primary",Ae),onEntryValueTPChange:(V,Ae)=>Y(V,"tp",Ae),onEntryValueBlur:J,onEntryIdentifierChange:()=>{},onEntryIdentifierTPChange:()=>{},onEntryTimeChange:()=>{},onAddEntry:()=>{},onReorderRows:()=>{},availableIdentifiers:[],tnIdentifiers:[],tpIdentifiers:[],ktlJsonToPreview:j,draftJsonToPreview:_,isManualEntryMode:!0,timeColumnHeader:"최종 저장 시간",decimalPlaces:T.decimalPlaces})})]}),!T&&e.length>0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"계속하려면 위 목록에서 작업을 선택하세요。"}),!T&&e.length===0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"시작하려면 '공통 정보 및 작업 관리' 섹션에서 작업을 추가하세요。"}),d&&g&&h.jsx(dl,{isOpen:d,onClose:()=>p(!1),onConfirm:ae,preflightData:g})]})},HL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),Qo=t=>t?t.replace(/[/\\[\]:*?"<>|]/g,"_").replace(/__+/g,"_"):"",KL=t=>{if(!t)return"";let e="";const A=["현장"],n=r=>{if(!r)return null;let s=r.replace(/[0-9]/g,"");return s.endsWith("P")&&(s=s.slice(0,-1)),A.includes(s)?null:s.length>0?s:null};for(const r of t){const s=n(r.identifier);s&&(e+=s);const i=n(r.identifierTP);i&&(e+=i)}return e},OL=(t,e,A)=>{let n=`제공된 측정 장비의 이미지를 분석해주세요.
컨텍스트:
- 접수번호: ${t}
- 현장/위치: ${e}
- 항목/파라미터: ${A||"현장 계수 값"}`;return A==="TN/TP"?(n+=`
- 이미지에서 TN 및 TP 각각의 시간 및 값 쌍을 추출해주세요. "value_tn"과 "value_tp" 필드를 사용하세요.`,n+=`

중요 규칙:
1.  **두 값 모두 추출:** 같은 시간대에 TN과 TP 값이 모두 표시된 경우, JSON 객체에 "value_tn"과 "value_tp" 키를 **둘 다 포함해야 합니다.**`,n+=`
2.  **한 값만 있는 경우:** 특정 시간대에 TN 또는 TP 값 중 하나만 명확하게 식별 가능한 경우 (예를 들어, 다른 값의 칸이 비어 있거나 'null' 또는 '-'로 표시된 경우), 해당 값의 키만 포함하고 다른 키는 **생략(omit)합니다**.`,n+=`
3.  **값 형식:** 모든 값 필드에는 이미지에서 보이는 **순수한 숫자 값만** 포함해야 합니다. 단위, 지시자, 주석 등은 **모두 제외**하세요.`,n+=`

JSON 출력 형식 예시 (TN/TP):
[
  { "time": "2025/07/10 10:00", "value_tn": "15.3", "value_tp": "1.2" },
  { "time": "2025/07/10 11:00", "value_tn": "12.1" },
  { "time": "2025/07/10 12:00", "value_tp": "0.9" }
]`):n+=`

JSON 출력 형식 예시 (${A}):
[
  { "time": "2025/07/10 10:00", "value": "15.3" },
  { "time": "2025/07/10 11:00", "value": "12.1" }
]`,n+=`

중요 지침:
1. 응답은 반드시 유효한 단일 JSON 배열이어야 합니다. 배열 외부에는 어떤 텍스트도 포함하지 마세요.
2. 값 필드("value", "value_tn", "value_tp")에는 순수한 숫자 값만 포함해주세요. 단위나 텍스트 주석은 제외합니다.
3. 이미지에서 관련 데이터를 찾을 수 없으면 빈 배열([])을 반환하세요.
`,n},VL=({userName:t,jobs:e,setJobs:A,activeJobId:n,setActiveJobId:r,siteLocation:s,onDeleteJob:i})=>{const o=$.useMemo(()=>e.find(re=>re.id===n),[e,n]),[u,c]=$.useState(!1),[f,d]=$.useState(null),[p,g]=$.useState(!1),[B,m]=$.useState(!1),[x,C]=$.useState(!1),[w,y]=$.useState(null),[E,U]=$.useState(-1),[T,Q]=$.useState(null),M=$.useRef(null),D=$.useMemo(()=>o&&(o.submissionStatus==="success"||o.submissionStatus==="error")?o.submissionStatus:"idle",[o]);$.useEffect(()=>{o&&o.photos.length>0?(E<0||E>=o.photos.length)&&U(0):U(-1)},[o,E]);const R=$.useCallback(re=>{n&&A(V=>V.map(Ae=>Ae.id===n?re(Ae):Ae))},[n,A]),j=$.useCallback(()=>{R(re=>({...re,photos:[],photoComments:{},processedOcrData:null,submissionStatus:"idle",submissionMessage:void 0})),U(-1),M.current&&(M.current.value=""),d(null)},[R]),_=$.useMemo(()=>{if(!o||o.photos.length===0)return[];const re=Qo(o.selectedItem.replace("/","_")),V=`${o.receiptNumber}_수질_${re}_현장적용계수`;return[`${V}.jpg`,`${V}.zip`]},[o]),G=$.useMemo(()=>{if(!o||!t)return null;const re=KL(o.processedOcrData),V={receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,ocrData:o.processedOcrData||[],updateUser:t,identifierSequence:re,pageType:"FieldCount"};return gd(V,o.selectedItem,_)},[o,t,s,_]),F=$.useCallback(re=>{var V;re.length===0&&((V=o==null?void 0:o.photos)==null?void 0:V.length)>0||(R(Ae=>{const de=Ae.photos||[],z=[...de,...re],v=new Map;z.forEach(b=>{const I=`${b.file.name}-${b.file.size}-${b.file.lastModified}`;v.has(I)||v.set(I,b)});const L=Array.from(v.values());return de.length===0&&L.length>0&&U(0),{...Ae,photos:L,processedOcrData:null,submissionStatus:"idle",submissionMessage:void 0}}),d(null))},[o,R]),q=$.useCallback(()=>g(!0),[]),Y=$.useCallback(()=>g(!1),[]),J=$.useCallback((re,V,Ae)=>{R(de=>{const z=[...de.photos||[],{file:re,base64:V,mimeType:Ae}];return U(z.length-1),{...de,photos:z,processedOcrData:null,submissionStatus:"idle",submissionMessage:void 0}}),g(!1),d(null)},[R]),ee=$.useCallback(re=>{!o||re<0||re>=o.photos.length||(R(V=>{const Ae=V.photos.filter((de,z)=>z!==re);return Ae.length===0?U(-1):E>=Ae.length?U(Ae.length-1):E>re&&U(de=>de-1),{...V,photos:Ae,processedOcrData:null,submissionStatus:"idle",submissionMessage:void 0}}),d(null))},[o,E,R]),X=$.useCallback(async()=>{if(!o||o.photos.length===0){d("먼저 이미지를 선택해주세요.");return}c(!0),d(null),R(re=>({...re,processedOcrData:null,submissionStatus:"idle",submissionMessage:void 0}));try{let re;o.selectedItem==="TN/TP"?re={type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{time:{type:Ie.STRING},value_tn:{type:Ie.STRING},value_tp:{type:Ie.STRING}},required:["time"]}}:re={type:Ie.ARRAY,items:{type:Ie.OBJECT,properties:{time:{type:Ie.STRING},value:{type:Ie.STRING}},required:["time","value"]}};const V=o.photos.map(async b=>{let I="";try{const S=OL(o.receiptNumber,s,o.selectedItem),k={responseMimeType:"application/json",responseSchema:re};return I=await cd(b.base64,b.mimeType,S,k),JSON.parse(I)}catch(S){const k=S instanceof SyntaxError?`JSON parsing failed: ${S.message}. AI response: ${I}`:S.message;return Promise.reject(new Error(k))}}),Ae=await Promise.allSettled(V),de=Ae.filter(b=>b.status==="fulfilled").flatMap(b=>b.value),z=b=>{if(!b)return"";const I=b.replace(/-/g,"/"),S=I.match(/(\d{4}\/\d{2}\/\d{2}\s\d{2}:\d{2})/);return S?S[1]:I},v=new Map;de.forEach(b=>{const I=z(b.time);if(!v.has(I))v.set(I,{...b,time:I});else{const S=v.get(I);if(o.selectedItem==="TN/TP"){const k=S,P=b;P.value_tn&&!k.value_tn&&(k.value_tn=P.value_tn),P.value_tp&&!k.value_tp&&(k.value_tp=P.value_tp)}else{const k=S,P=b;P.value&&!k.value&&(k.value=P.value)}}});const L=Array.from(v.values()).sort((b,I)=>b.time.localeCompare(I.time)).map(b=>{let I="",S;return o.selectedItem==="TN/TP"?(I=b.value_tn||"",S=b.value_tp):I=b.value||"",{id:self.crypto.randomUUID(),time:b.time,value:I,valueTP:S}});R(b=>({...b,processedOcrData:L})),Ae.some(b=>b.status==="rejected")&&d("일부 이미지를 처리하지 못했습니다.")}catch(re){d(re.message||"데이터 추출 중 오류 발생")}finally{c(!1)}},[o,s,R]),H=(re,V,Ae)=>{R(de=>({...de,processedOcrData:(de.processedOcrData||[]).map(z=>z.id===re?{...z,[V]:Ae}:z),submissionStatus:"idle",submissionMessage:void 0}))},O=$.useCallback(()=>{R(re=>{const V={id:self.crypto.randomUUID(),time:"",value:"",valueTP:re.selectedItem==="TN/TP"?"":void 0};return{...re,processedOcrData:[...re.processedOcrData||[],V],submissionStatus:"idle",submissionMessage:void 0}})},[R]),N=$.useCallback((re,V)=>{if(!o||!o.processedOcrData)return;const Ae=[...o.processedOcrData],de=[];if(re.includes("-")){const[b,I]=re.split("-").map(S=>parseInt(S.trim(),10)-1);if(!isNaN(b)&&!isNaN(I)&&b<=I)for(let S=b;S<=I;S++)de.push(S)}else{const b=parseInt(re.trim(),10)-1;isNaN(b)||de.push(b)}const z=[...new Set(de)].sort((b,I)=>I-b);if(z.length===0||z.some(b=>b<0||b>=Ae.length)){alert("유효하지 않은 행 번호입니다. 데이터 범위 내의 숫자나 '시작-끝' 형식으로 입력해주세요.");return}const v=z.map(b=>Ae[b]).reverse();z.forEach(b=>Ae.splice(b,1));let L=Ae.length;if(V&&V.trim()){const b=parseInt(V.trim(),10)-1;if(!isNaN(b)&&b>=0&&b<=Ae.length)L=b;else{alert(`새 위치 번호가 잘못되었습니다. 1부터 ${Ae.length+1} 사이의 숫자를 입력해주세요.`);return}}Ae.splice(L,0,...v),R(b=>({...b,processedOcrData:Ae,submissionStatus:"idle",submissionMessage:void 0}))},[o,R]),le=$.useCallback(()=>{if(!o||!G){alert("KTL 전송을 위한 모든 조건(작업 선택, 데이터, 사진, 필수정보)이 충족되지 않았습니다.");return}y({jsonPayload:G,fileNames:_,context:{receiptNumber:o.receiptNumber,siteLocation:s,selectedItem:o.selectedItem,userName:t}}),C(!0)},[o,t,s,G,_]),ae=$.useCallback(async()=>{if(C(!1),!o||!o.processedOcrData||!t||o.photos.length===0){R(re=>({...re,submissionStatus:"error",submissionMessage:"KTL 전송을 위한 필수 데이터가 누락되었습니다."}));return}R(re=>({...re,submissionStatus:"sending",submissionMessage:"전송 중..."}));try{const re={receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,updateUser:t,ocrData:o.processedOcrData,pageType:"FieldCount"},V=`${o.receiptNumber}_수질_${Qo(o.selectedItem.replace("/","_"))}_현장적용계수`,Ae=await Xr(o.photos,{receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem},"image/jpeg"),de=new File([Ot(Ae)],`${V}.jpg`,{type:"image/jpeg"}),z=new Zr;for(let I=0;I<o.photos.length;I++){const S=o.photos[I],k=await qr(S.base64,S.mimeType,o.receiptNumber,s,"",o.selectedItem);z.file(`${V}_${I+1}.png`,Ot(k))}const v=await z.generateAsync({type:"blob"}),L=new File([v],`${V}.zip`,{type:"application/zip"}),b=await Ci(re,[de,L],o.selectedItem,[`${V}.jpg`,`${V}.zip`]);R(I=>({...I,submissionStatus:"success",submissionMessage:b.message}))}catch(re){R(V=>({...V,submissionStatus:"error",submissionMessage:`KTL 전송 실패: ${re.message}`}))}},[o,s,t,R]),te=async()=>{const re=e.filter(V=>V.processedOcrData&&V.processedOcrData.length>0&&V.photos.length>0);if(re.length===0){alert("전송할 데이터가 있는 작업이 없습니다. 각 작업에 사진과 추출된 데이터가 있는지 확인하세요.");return}m(!0),Q(`(0/${re.length}) 작업 처리 시작...`),A(V=>V.map(Ae=>re.find(de=>de.id===Ae.id)?{...Ae,submissionStatus:"sending",submissionMessage:"대기 중..."}:Ae));for(let V=0;V<re.length;V++){const Ae=re[V];Q(`(${V+1}/${re.length}) '${Ae.receiptNumber}' 전송 중...`),A(de=>de.map(z=>z.id===Ae.id?{...z,submissionMessage:"파일 생성 및 전송 중..."}:z));try{const de={receiptNumber:Ae.receiptNumber,siteLocation:s,item:Ae.selectedItem,updateUser:t,ocrData:Ae.processedOcrData,pageType:"FieldCount"},z=`${Ae.receiptNumber}_수질_${Qo(Ae.selectedItem.replace("/","_"))}_현장적용계수`,v=await Xr(Ae.photos,{receiptNumber:Ae.receiptNumber,siteLocation:s,item:Ae.selectedItem},"image/jpeg"),L=new File([Ot(v)],`${z}.jpg`,{type:"image/jpeg"}),b=new Zr;for(const P of Ae.photos){const Z=await qr(P.base64,P.mimeType,Ae.receiptNumber,s,"",Ae.selectedItem,Ae.photoComments[P.file.name]);b.file(`${z}_${Qo(P.file.name)}.png`,Ot(Z))}const I=await b.generateAsync({type:"blob"}),S=new File([I],`${z}.zip`,{type:"application/zip"}),k=await Ci(de,[L,S],Ae.selectedItem,[L.name,S.name]);A(P=>P.map(Z=>Z.id===Ae.id?{...Z,submissionStatus:"success",submissionMessage:k.message||"전송 성공"}:Z))}catch(de){A(z=>z.map(v=>v.id===Ae.id?{...v,submissionStatus:"error",submissionMessage:`전송 실패: ${de.message}`}:v))}}Q("일괄 전송 완료."),m(!1),setTimeout(()=>Q(null),5e3)},me=u||B||p||!!T,oe=o&&E!==-1?o.photos[E]:null,we=({status:re,message:V})=>re==="idle"||!V?null:re==="sending"?h.jsx("span",{className:"text-xs text-sky-400 animate-pulse",children:V}):re==="success"?h.jsxs("span",{className:"text-xs text-green-400",children:["✅ ",V]}):re==="error"?h.jsxs("span",{className:"text-xs text-red-400",title:V,children:["❌ ",V.length>30?V.substring(0,27)+"...":V]}):null;return h.jsxs("div",{className:"w-full max-w-3xl bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-sky-400 border-b border-slate-700 pb-3",children:"현장 계수 (P2)"}),e.length>0&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("h3",{className:"text-md font-semibold text-slate-200",children:["작업 목록 (",e.length,"개):"]}),h.jsx("div",{className:"max-h-48 overflow-y-auto bg-slate-700/20 p-2 rounded-md border border-slate-600/40 space-y-1.5",children:e.map(re=>h.jsxs("div",{className:`p-2.5 rounded-md transition-all ${n===re.id?"bg-sky-600 shadow-md ring-2 ring-sky-400":"bg-slate-600 hover:bg-slate-500"}`,children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("div",{className:"flex-grow cursor-pointer",onClick:()=>r(re.id),children:h.jsxs("span",{className:`text-sm font-medium ${n===re.id?"text-white":"text-slate-200"}`,children:[re.receiptNumber," / ",re.selectedItem]})}),h.jsx("button",{onClick:V=>{V.stopPropagation(),i(re.id)},className:"ml-2 p-1.5 rounded-full text-slate-400 hover:text-white hover:bg-red-600 transition-colors flex-shrink-0",title:"이 작업 삭제","aria-label":`'${re.receiptNumber}' 작업 삭제`,children:h.jsx(HL,{})})]}),h.jsx("div",{className:"mt-1 text-right cursor-pointer",onClick:()=>r(re.id),children:h.jsx(we,{status:re.submissionStatus,message:re.submissionMessage})})]},re.id))})]}),!o&&e.length>0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"계속하려면 위 목록에서 작업을 선택하세요."}),!o&&e.length===0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"시작하려면 '공통 정보 및 작업 관리' 섹션에서 작업을 추가하세요."}),o&&h.jsxs("div",{className:"space-y-4 pt-4 border-t border-slate-700",children:[p?h.jsx(Al,{onCapture:J,onClose:Y}):h.jsxs(h.Fragment,{children:[h.jsx(Ii,{onImagesSet:F,onOpenCamera:q,isLoading:me,ref:M,selectedImageCount:o.photos.length}),oe&&h.jsx(nl,{imageBase64:oe.base64,fileName:oe.file.name,mimeType:oe.mimeType,receiptNumber:o.receiptNumber,siteLocation:s,item:o.selectedItem,showOverlay:!0,totalSelectedImages:o.photos.length,currentImageIndex:E,onDelete:()=>ee(E)}),h.jsx(pl,{images:o.photos,currentIndex:E,onSelectImage:U,onDeleteImage:ee,disabled:me})]}),h.jsx(sd,{onExtract:X,onClear:j,isExtractDisabled:me||o.photos.length===0,isClearDisabled:me||o.photos.length===0,onInitiateSendToKtl:le,isClaydoxDisabled:me||!o.processedOcrData||o.processedOcrData.length===0,isSendingToClaydox:B||o.submissionStatus==="sending",ktlApiCallStatus:D}),h.jsx(id,{ocrData:o.processedOcrData,error:f,isLoading:u,contextProvided:!0,hasImage:o.photos.length>0,selectedItem:o.selectedItem,onEntryIdentifierChange:(re,V)=>H(re,"identifier",V),onEntryIdentifierTPChange:(re,V)=>H(re,"identifierTP",V),onEntryTimeChange:(re,V)=>H(re,"time",V),onEntryPrimaryValueChange:(re,V)=>H(re,"value",V),onEntryValueTPChange:(re,V)=>H(re,"valueTP",V),onAddEntry:O,onReorderRows:N,availableIdentifiers:Dw,tnIdentifiers:hd,tpIdentifiers:md,rawJsonForCopy:JSON.stringify(o.processedOcrData,null,2),ktlJsonToPreview:G,timeColumnHeader:"측정 시간"})]}),e.length>0&&h.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700 space-y-3",children:[h.jsx("h3",{className:"text-xl font-bold text-teal-400",children:"KTL 일괄 전송"}),h.jsx("p",{className:"text-sm text-slate-400",children:"이 페이지의 모든 유효한 작업(사진 및 데이터가 있는)을 KTL로 전송합니다. 안정적인 Wi-Fi 환경에서 실행하는 것을 권장합니다."}),T&&h.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-md text-sky-300 text-sm flex items-center gap-2",children:[h.jsx(jt,{size:"sm"}),h.jsx("span",{children:T})]}),h.jsx(He,{onClick:te,disabled:me||e.filter(re=>re.processedOcrData&&re.photos.length>0).length===0,fullWidth:!0,variant:"secondary",className:"bg-teal-600 hover:bg-teal-500",children:B?"전송 중...":`이 페이지의 모든 작업 전송 (${e.filter(re=>re.processedOcrData&&re.photos.length>0).length}건)`})]}),x&&w&&h.jsx(dl,{isOpen:x,onClose:()=>C(!1),onConfirm:ae,preflightData:w})]})},GL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.25 12L17 14.188l-1.25.813a4.5 4.5 0 01-3.09-3.09L11.25 9l1.25-2.846a4.5 4.5 0 013.09-3.09L17 2.25l1.25.813a4.5 4.5 0 013.09 3.09L22.75 9l-1.25 2.846a4.5 4.5 0 01-3.09 3.09L18.25 12z"})}),$L=({mainItemKey:t,itemName:e,itemIndex:A,status:n,onStatusChange:r,notes:s,onNotesChange:i,specialNotes:o,onSpecialNotesChange:u,disabled:c=!1,confirmedAt:f,itemOptions:d,onAnalyzeDetail:p,isAnalyzingDetail:g,detailAnalysisError:B,jobPhotosExist:m,comparisonNote:x})=>{const C=["선택 안됨","적합","부적합"],w=t==="TOC"&&(e===Yr||e===mi),y=(e==="측정방법확인"||e==="측정범위확인")&&d&&d.length>0,E=e==="정도검사 증명서",U=e==="표시사항확인",T=e==="기기번호 확인",Q=!w&&p&&(y||U||e==="운용프로그램확인"||E),M=(t==="TU"||t==="Cl")&&e==="운용프로그램확인",[D,R]=$.useState(""),[j,_]=$.useState(""),G={presence:"not_selected",productName:"",manufacturer:"",serialNumber:"",typeApprovalNumber:"",inspectionDate:"",validity:"",previousReceiptNumber:"",specialNotes:""},[F,q]=$.useState(G),[Y,J]=$.useState(null);$.useEffect(()=>{if(w||T)J(null),q(G),R(""),_("");else if(E){try{if(s&&s.trim().startsWith("{")){const oe=JSON.parse(s);q({presence:oe.presence||"not_selected",productName:oe.productName||"",manufacturer:oe.manufacturer||"",serialNumber:oe.serialNumber||"",typeApprovalNumber:oe.typeApprovalNumber||"",inspectionDate:oe.inspectionDate||"",validity:oe.validity||"",previousReceiptNumber:oe.previousReceiptNumber||"",specialNotes:oe.specialNotes||""})}else q(G)}catch{q(G)}J(null)}else if(U){if(s&&s.trim().startsWith("{"))try{const oe=JSON.parse(s);if(typeof oe=="object"&&oe!==null&&!Array.isArray(oe)){const we={};for(const re in oe)Object.prototype.hasOwnProperty.call(oe,re)&&(we[re]=String(oe[re]));J(we)}else J(null)}catch{J(null)}else J(null);q(G)}else if(y){if(s!=null&&s.startsWith(Le)){R(Le);const oe=s.substring(Le.length).trim();oe.startsWith("(")&&oe.endsWith(")")?_(oe.substring(1,oe.length-1).trim()):_("")}else s&&(d!=null&&d.includes(s))?(R(s),_("")):(d!=null&&d.includes(Ia)&&(!s||s.trim()==="")?R(Ia):R(s||""),_(""));J(null),q(G)}else R(""),_(""),J(null),q(G)},[s,y,d,E,U,w,T]);const ee=oe=>{const we=oe.target.value;R(we),we===Le?i(j.trim()?`${Le} (${j.trim()})`:Le):(_(""),i(we))},X=oe=>{const we=oe.target.value;_(we),D===Le&&i(we.trim()?`${Le} (${we.trim()})`:Le)},H=$.useCallback((oe,we)=>{q(re=>{const V={...re,[oe]:we};return oe==="presence"&&we!=="present"&&(V.productName="",V.manufacturer="",V.serialNumber="",V.typeApprovalNumber="",V.inspectionDate="",V.validity="",V.previousReceiptNumber="",V.specialNotes=""),i(JSON.stringify(V)),V})},[i]),O=$.useCallback((oe,we)=>{J(re=>{if(!re)return null;const V={...re,[oe]:we};return i(JSON.stringify(V)),V})},[i]),N=()=>e==="측정방법확인"?"방법":e==="측정범위확인"?"범위":e==="표시사항확인"?"표시사항":e==="운용프로그램확인"?t==="TU"||t==="Cl"?"버전 (해당 없음)":"버전":e==="정도검사 증명서"?"증명서 정보":"항목",le=[{label:"상태 선택...",value:"not_selected"},{label:"있음",value:"present"},{label:"최초정도검사",value:"initial_new"},{label:"분실 후 재발행",value:"reissued_lost"}],ae=!T&&!w&&!y&&!E&&!U&&!M,me=w?null:A-(t==="TOC"?2:0)+1;return h.jsxs("div",{className:"py-3 px-2 border-b border-slate-700 last:border-b-0 hover:bg-slate-700/20 transition-colors",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start",children:[h.jsxs("div",{className:"md:col-span-1 flex flex-col",children:[h.jsxs("div",{className:"flex items-baseline",children:[me!==null&&h.jsxs("span",{className:"text-sm font-medium text-slate-300 mr-2",children:[me,"."]}),h.jsxs("label",{htmlFor:`status-${e.replace(/\s+/g,"-")}`,className:`text-sm text-slate-200 break-words ${w?"font-semibold":""}`,children:[e,(E||U)&&h.jsx("span",{className:"text-xs text-purple-400 ml-1.5 whitespace-nowrap",children:"(AI 분석 참고)"})]})]}),!w&&!T&&f&&h.jsx("div",{className:"md:ml-[calc(theme(spacing.2)_+_1em)] text-xs",children:h.jsxs("span",{className:"text-slate-400 mt-0.5 whitespace-nowrap block sm:inline",children:["(확인: ",f,")"]})})]}),T?h.jsx("div",{className:"md:col-span-1",children:h.jsx("input",{type:"text",value:s||"",onChange:oe=>i(oe.target.value),placeholder:"지시부, 센서부 번호",className:"w-full text-sm bg-slate-700 border border-slate-600 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c,"aria-label":"기기번호 입력"})}):w?h.jsx("div",{className:"md:col-span-1",children:h.jsx("input",{type:"text",value:s||"",onChange:oe=>i(oe.target.value),placeholder:`예: ${e===Yr?"20":"6"}`,className:"w-full text-sm bg-slate-700 border border-slate-600 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":`${e} 값 입력`})}):h.jsx("div",{className:"md:col-span-1",children:h.jsx("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:C.map(oe=>h.jsx("button",{type:"button",onClick:()=>r(oe),disabled:c,className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${n===oe?oe==="적합"?"bg-green-500 text-white ring-2 ring-green-300":oe==="부적합"?"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-500 text-white ring-2 ring-slate-300":"bg-slate-600 hover:bg-slate-500 text-slate-300 disabled:bg-slate-700 disabled:text-slate-500"}`,"aria-pressed":n===oe,children:oe},oe))})})]}),!w&&!T&&h.jsxs("div",{className:"mt-2.5 md:ml-[calc(theme(spacing.2)_+_1em)] space-y-2",children:[y&&h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"flex flex-col sm:flex-row gap-2 items-start sm:items-center",children:h.jsxs("select",{value:D,onChange:ee,className:"w-full sm:flex-grow text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-200 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":`${e} 세부 ${N()} 선택`,children:[h.jsxs("option",{value:"",children:[N()," 선택..."]}),d==null?void 0:d.map(oe=>h.jsx("option",{value:oe,children:oe},oe))]})}),D===Le&&h.jsx("input",{type:"text",value:j,onChange:X,placeholder:"직접 입력 값...",className:"w-full text-xs bg-slate-600 border border-slate-500 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"기타 항목 직접 입력"})]}),E&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("select",{value:F.presence,onChange:oe=>H("presence",oe.target.value),className:"w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-200 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 상태 선택",children:le.map(oe=>h.jsx("option",{value:oe.value,children:oe.label},oe.value))}),F.presence==="present"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mt-1 p-2 bg-slate-600/50 rounded-md border border-slate-500/50 space-y-2",children:[h.jsx("h5",{className:"text-xs font-semibold text-slate-300 mb-1",children:"판별된 증명서 (편집 가능):"}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-productName-${A}`,className:"text-xs text-slate-400 col-span-1",children:"품명 (모델명):"}),h.jsx("input",{id:`cert-productName-${A}`,type:"text",value:F.productName||"",onChange:oe=>H("productName",oe.target.value),placeholder:"예: WTMS-CODcr",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 품명"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-manufacturer-${A}`,className:"text-xs text-slate-400 col-span-1",children:"제작사:"}),h.jsx("input",{id:`cert-manufacturer-${A}`,type:"text",value:F.manufacturer||"",onChange:oe=>H("manufacturer",oe.target.value),placeholder:"예: KORBI",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 제작사"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-serialNumber-${A}`,className:"text-xs text-slate-400 col-span-1",children:"제작번호:"}),h.jsx("input",{id:`cert-serialNumber-${A}`,type:"text",value:F.serialNumber||"",onChange:oe=>H("serialNumber",oe.target.value),placeholder:"예: KHG2O017",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 제작번호"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-typeApprovalNumber-${A}`,className:"text-xs text-slate-400 col-span-1",children:"형식승인번호:"}),h.jsx("input",{id:`cert-typeApprovalNumber-${A}`,type:"text",value:F.typeApprovalNumber||"",onChange:oe=>H("typeApprovalNumber",oe.target.value),placeholder:"예: WTMS-CODmn-2022-2",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 형식승인번호"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-inspectionDate-${A}`,className:"text-xs text-slate-400 col-span-1",children:"검사일자:"}),h.jsx("input",{id:`cert-inspectionDate-${A}`,type:"text",value:F.inspectionDate||"",onChange:oe=>H("inspectionDate",oe.target.value),placeholder:"예: 2024-01-15",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 검사일자"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-validity-${A}`,className:"text-xs text-slate-400 col-span-1",children:"유효기간:"}),h.jsx("input",{id:`cert-validity-${A}`,type:"text",value:F.validity||"",onChange:oe=>H("validity",oe.target.value),placeholder:"예: 2025-07-18",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 유효기간"})]}),h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsx("label",{htmlFor:`cert-previousReceiptNumber-${A}`,className:"text-xs text-slate-400 col-span-1",children:"직전 접수번호:"}),h.jsx("input",{id:`cert-previousReceiptNumber-${A}`,type:"text",value:F.previousReceiptNumber||"",onChange:oe=>H("previousReceiptNumber",oe.target.value),placeholder:"예: 24-000000-01-1",className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 직전 접수번호"})]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:`cert-specialNotes-${A}`,className:"text-xs text-slate-400 mb-0.5 block",children:"특이사항 (선택):"}),h.jsx("textarea",{id:`cert-specialNotes-${A}`,value:F.specialNotes||"",onChange:oe=>H("specialNotes",oe.target.value),placeholder:"증명서 관련 특이사항 입력",rows:2,className:"w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":"정도검사 증명서 특이사항"})]})]}),x&&h.jsx("div",{className:`mt-2 p-2 rounded-md text-xs whitespace-pre-wrap ${x.startsWith("(주의)")?"bg-amber-700/30 border border-amber-500/50 text-amber-300":"bg-sky-700/30 border border-sky-500/50 text-sky-300"}`,children:x})]}),U&&h.jsxs(h.Fragment,{children:[Y&&h.jsxs("div",{className:"mt-1 p-2 bg-slate-600/50 rounded-md border border-slate-500/50 space-y-2",children:[h.jsx("h5",{className:"text-xs font-semibold text-slate-300 mb-1",children:"판별된 표시사항 (편집 가능):"}),Object.entries(Y).map(([oe,we])=>h.jsxs("div",{className:"grid grid-cols-4 items-center gap-x-2",children:[h.jsxs("label",{htmlFor:`marking-${A}-${oe.replace(/\s+/g,"-")}`,className:"text-xs text-slate-400 col-span-1",children:[oe,":"]}),h.jsx("input",{id:`marking-${A}-${oe.replace(/\s+/g,"-")}`,type:"text",value:we,onChange:re=>O(oe,re.target.value),className:"col-span-3 w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":`표시사항 ${oe}`})]},oe))]}),u&&h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:`marking-specialNotes-${A}`,className:"text-xs text-slate-400 mb-0.5 block",children:"특이사항 (선택):"}),h.jsx("textarea",{id:`marking-specialNotes-${A}`,value:o||"",onChange:oe=>u(oe.target.value),placeholder:"표시사항 관련 특이사항 입력",rows:2,className:"w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-200 placeholder-slate-400 disabled:opacity-70",disabled:c||g,"aria-label":`${e} 특이사항`})]})]}),Q&&h.jsx("div",{className:y||E||U||e==="운용프로그램확인"?"flex justify-end pt-1":"",children:h.jsxs("div",{className:`text-xs py-1 px-2.5 h-fit whitespace-nowrap ${M?"bg-slate-600":"bg-purple-600"} text-white flex items-center justify-center space-x-2 rounded-md cursor-default`,title:M?"이 항목은 AI 분석이 필요하지 않습니다.":"상단의 '빠른 분석' 섹션에서 판별 기능이 제공됩니다.",children:[h.jsx(GL,{}),h.jsx("span",{children:N()})]})}),B&&h.jsx("p",{className:"text-xs text-red-400 mt-1",children:B}),ae&&i&&h.jsx("textarea",{value:s||"",onChange:oe=>i(oe.target.value),placeholder:e==="운용프로그램확인"?"판별된 버전 정보 또는 특이사항":"특이사항 (선택)",rows:1,className:"w-full text-xs bg-slate-700 border border-slate-600 rounded-md p-1.5 focus:ring-sky-500 focus:border-sky-500 text-slate-200 placeholder-slate-400 disabled:opacity-70",disabled:c,"aria-label":`${e} 특이사항`})]})]})},JL=t=>{switch(t){case"측정범위확인":return"범위";case"측정방법확인":return"방법";case"기기번호 확인":return"기기번호";default:return null}},zL=t=>{try{const e=JSON.parse(t);if(e.presence!=="present")return e.presence==="initial_new"?"최초정도검사":e.presence==="reissued_lost"?"분실 후 재발행":"정보 없음";const A=[e.productName&&`품명: ${e.productName}`,e.manufacturer&&`제작사: ${e.manufacturer}`,e.serialNumber&&`기기번호: ${e.serialNumber}`,e.typeApprovalNumber&&`형식승인번호: ${e.typeApprovalNumber}`,e.inspectionDate&&`검사일자: ${e.inspectionDate}`,e.validity&&`유효기간: ${e.validity}`].filter(Boolean);return A.length>0?A.join(`
`):"정보 없음"}catch{return t}},WL=t=>{try{const e=JSON.parse(t),A=Object.entries(e).map(([n,r])=>r?`${n}: ${r}`:null).filter(Boolean);return A.length>0?A.join(`
`):"정보 없음"}catch{return t}},YL=({job:t})=>{var u;const e=((u=lt.find(c=>c.key===t.mainItemKey))==null?void 0:u.name)||t.mainItemKey,A=Sa[t.mainItemKey],n=t.mainItemKey==="PH"||t.mainItemKey==="TU"||t.mainItemKey==="Cl";let r=null;const s=t.checklistData.표시사항확인,i=t.checklistData["정도검사 증명서"];if(s!=null&&s.notes&&(i!=null&&i.notes)){let c=null;try{const d=JSON.parse(s.notes);if(typeof d=="object"&&d!==null&&!Array.isArray(d)){c={};for(const p in d)Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=String(d[p]))}}catch{}let f=null;try{const d=JSON.parse(i.notes);typeof d=="object"&&d!==null&&(f=d)}catch{}if(c&&f&&f.presence==="present"){const d=U=>(U||"").toLowerCase().replace(/\s+/g,"").replace(/제|호/g,""),p=[];let g=!0,B=!1;const m=c.제조회사,x=f.manufacturer;(m||x)&&(B=!0,d(m)!==d(x)&&(p.push(`제조사 (표시사항: "${m||"없음"}" vs 증명서: "${x||"없음"}")`),g=!1));const C=c.형식승인번호,w=f.typeApprovalNumber;(C||w)&&(B=!0,d(C)!==d(w)&&(p.push(`형식승인번호 (표시사항: "${C||"없음"}" vs 증명서: "${w||"없음"}")`),g=!1));const y=c.기기고유번호,E=f.serialNumber;(y||E)&&(B=!0,d(y)!==d(E)&&(p.push(`기기/제작번호 (표시사항: "${y||"없음"}" vs 증명서: "${E||"없음"}")`),g=!1)),B&&(g?r="(참고) 표시사항과 증명서 정보가 일치합니다.":r=`(주의) 표시사항과 증명서 정보가 다릅니다:
- ${p.join(`
- `)}
내용을 확인하세요.`)}}const o=({status:c})=>{let f="#64748b",d="#f8fafc";return c==="적합"&&(f="#22c55e"),c==="부적합"&&(f="#ef4444"),h.jsx("span",{style:{backgroundColor:f,color:d,padding:"4px 10px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",minWidth:"50px",textAlign:"center"},children:c})};return h.jsxs("div",{id:`snapshot-container-for-${t.id}`,style:{position:"absolute",left:"-9999px",top:"0px",width:"800px",padding:"24px",backgroundColor:"#0f172a",color:"#e2e8f0",fontFamily:"Inter, sans-serif",lineHeight:"1.5"},children:[h.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#e2e8f0",backgroundColor:"#1e293b",padding:"12px 16px",borderRadius:"8px",marginBottom:"24px",borderLeft:"4px solid #38bdf8"},children:["구조 확인 체크리스트: ",t.receiptNumber," / ",e]}),h.jsxs("div",{style:{border:"1px solid #334155",borderRadius:"8px",overflow:"hidden"},children:[h.jsxs("div",{style:{padding:"12px 16px",backgroundColor:"#1e293b",display:"flex",flexDirection:"column",gap:"4px",borderBottom:"1px solid #334155"},children:[h.jsxs("span",{style:{fontWeight:"600",fontSize:"16px",color:"#f8fafc"},children:[n?"사후검사일":"사후검사 유효일자",": ",t.postInspectionDate]}),t.postInspectionDateConfirmedAt&&h.jsxs("span",{style:{fontSize:"12px",color:"#94a3b8"},children:["(확인: ",t.postInspectionDateConfirmedAt,")"]})]}),A.map((c,f)=>{const d=t.checklistData[c];if(!d)return null;const p=t.mainItemKey==="TOC"?2:0,g=f>=p?f-p+1:null,B=c==="표시사항확인"||c==="정도검사 증명서";let m=d.notes||"";c==="정도검사 증명서"?m=zL(d.notes||""):c==="표시사항확인"&&(m=WL(d.notes||""));const x=JL(c);return h.jsx("div",{style:{padding:"12px 16px",borderBottom:"1px solid #334155",backgroundColor:"#1e293b"},children:h.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[h.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px",maxWidth:"calc(100% - 80px)"},children:[h.jsxs("span",{style:{fontWeight:"600",fontSize:"16px",color:"#f8fafc",display:"flex",alignItems:"baseline"},children:[h.jsxs("span",{children:[g!==null&&`${g}. `,c]}),B&&h.jsx("span",{style:{fontSize:"12px",color:"#c084fc",marginLeft:"6px",whiteSpace:"nowrap"},children:"(AI 분석 참고)"})]}),d.confirmedAt&&h.jsxs("span",{style:{fontSize:"12px",color:"#94a3b8"},children:["(확인: ",d.confirmedAt,")"]}),m&&m.trim()&&h.jsxs("span",{style:{fontSize:"14px",color:"#cbd5e1",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[x&&h.jsxs("strong",{children:[x,": "]}),m]}),d.specialNotes&&d.specialNotes.trim()&&h.jsxs("span",{style:{fontSize:"14px",color:"#f59e0b",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[h.jsx("strong",{children:"특이사항: "}),d.specialNotes]})]}),h.jsx("div",{style:{flexShrink:0},children:h.jsx(o,{status:d.status})})]})},c)})]}),r&&h.jsx("div",{style:{marginTop:"16px",padding:"12px",borderRadius:"8px",fontSize:"14px",whiteSpace:"pre-wrap",wordBreak:"break-word",border:`1px solid ${r.startsWith("(주의)")?"#f59e0b":"#38bdf8"}`,backgroundColor:`${r.startsWith("(주의)")?"rgba(245, 158, 11, 0.1)":"rgba(56, 189, 248, 0.1)"}`,color:`${r.startsWith("(주의)")?"#fcd34d":"#7dd3fc"}`},children:r})]})},qL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),_o=t=>t?t.replace(/[^\w\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\u3040-\u30FF\u3200-\u32FF\u3400-\u4DBF\u4E00-\u9FFF\uF900-\uFAFF\-]+/g,"_").replace(/__+/g,"_"):"",Fu=()=>{const t=new Date,e=t.getFullYear(),A=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${e}-${A}-${n} ${r}:${s}`},XL=({userName:t,jobs:e,setJobs:A,activeJobId:n,setActiveJobId:r,siteLocation:s,onDeleteJob:i})=>{var ue,Ee;const[o,u]=$.useState(!1),c=$.useRef(null),[f,d]=$.useState(-1),[p,g]=$.useState(!1),[B,m]=$.useState(!1),[x,C]=$.useState(null),[w,y]=$.useState(!1),[E,U]=$.useState(null),[T,Q]=$.useState(null),[M,D]=$.useState(null),[R,j]=$.useState({}),[_,G]=$.useState({}),[F,q]=$.useState(!1),[Y,J]=$.useState(null),[ee,X]=$.useState(!1),[H,O]=$.useState(null),N=$.useMemo(()=>e.find(W=>W.id===n),[e,n]),le=$.useCallback(W=>{const ce=N==null?void 0:N.mainItemKey;switch(W){case"측정방법확인":return"방법";case"측정범위확인":return"범위";case"표시사항확인":return"표시사항";case"운용프로그램확인":return ce==="TU"||ce==="Cl"?"버전 (해당 없음)":"버전";case"정도검사 증명서":return"증명서 정보";case"지시부 번호":return"지시부 번호";case"센서부 번호":return"센서부 번호";default:return"항목"}},[N]),ae=$.useMemo(()=>{if(!N)return null;const W=N.checklistData.표시사항확인,ce=N.checklistData["정도검사 증명서"];if(!(W!=null&&W.notes)||!(ce!=null&&ce.notes))return null;let he=null;try{const Se=JSON.parse(W.notes);if(typeof Se=="object"&&Se!==null&&!Array.isArray(Se)){he={};for(const Oe in Se)Object.prototype.hasOwnProperty.call(Se,Oe)&&(he[Oe]=String(Se[Oe]))}}catch{}let ge=null;try{const Se=JSON.parse(ce.notes);typeof Se=="object"&&Se!==null&&(ge=Se)}catch{}if(!he||!ge||ge.presence!=="present")return null;const xe=Se=>(Se||"").toLowerCase().replace(/\s+/g,"").replace(/제|호/g,""),Be=[];let Ue=!0,De=!1;const $e=he.제조회사,be=ge.manufacturer;($e||be)&&(De=!0,xe($e)!==xe(be)&&(Be.push(`제조사 (표시사항: "${$e||"없음"}" vs 증명서: "${be||"없음"}")`),Ue=!1));const ft=he.형식승인번호,Me=ge.typeApprovalNumber;(ft||Me)&&(De=!0,xe(ft)!==xe(Me)&&(Be.push(`형식승인번호 (표시사항: "${ft||"없음"}" vs 증명서: "${Me||"없음"}")`),Ue=!1));const Ke=he.기기고유번호,Qe=ge.serialNumber;return(Ke||Qe)&&(De=!0,xe(Ke)!==xe(Qe)&&(Be.push(`기기/제작번호 (표시사항: "${Ke||"없음"}" vs 증명서: "${Qe||"없음"}")`),Ue=!1)),De?Ue?"(참고) 표시사항과 증명서 정보가 일치합니다.":`(주의) 표시사항과 증명서 정보가 다릅니다:
- ${Be.join(`
- `)}
내용을 확인하세요.`:null},[N]),te=$.useCallback(W=>{n&&A(ce=>ce.map(he=>he.id===n?W(he):he))},[n,A]),me=$.useCallback(()=>{n&&te(W=>({...W,submissionStatus:"idle",submissionMessage:void 0}))},[n,te]);$.useEffect(()=>{G(W=>{const ce=new Set(e.map(ge=>ge.id)),he={};for(const ge in W)ce.has(ge)&&(he[ge]=W[ge]);return he})},[e]),$.useEffect(()=>{N&&N.photos.length>0?(f===-1||f>=N.photos.length)&&d(0):d(-1),T===null&&D(null)},[N,f,T]);const oe=$.useCallback(()=>{if(!n){alert("먼저 사진을 추가할 작업을 선택해주세요.");return}u(!0),me(),D(null)},[n,me]),we=$.useCallback((W,ce,he)=>{const ge={file:W,base64:ce,mimeType:he,uid:self.crypto.randomUUID()};te(xe=>{const Be=[...xe.photos,ge];return d(Be.length-1),{...xe,photos:Be,submissionStatus:"idle",submissionMessage:void 0}}),j(xe=>({...xe,[n]:{}})),u(!1)},[n,te]),re=$.useCallback(()=>u(!1),[]),V=$.useCallback(W=>{if(!n||W.length===0)return;const ce=W.map(he=>({...he,uid:self.crypto.randomUUID()}));te(he=>{const ge=[...he.photos,...ce],xe=Array.from(new Map(ge.map(Be=>[`${Be.file.name}-${Be.file.size}`,Be])).values());return he.photos.length===0&&d(0),{...he,photos:xe,submissionStatus:"idle",submissionMessage:void 0}}),j(he=>({...he,[n]:{}})),D(null)},[n,te]),Ae=$.useCallback(W=>{if(!N||W<0||W>=N.photos.length)return;const ce=N.photos[W].uid;te(he=>{const ge=he.photos.filter((Be,Ue)=>Ue!==W),xe={...he.photoComments};return delete xe[ce],ge.length===0?d(-1):f>=ge.length?d(ge.length-1):f>W&&d(Be=>Be-1),{...he,photos:ge,photoComments:xe,submissionStatus:"idle",submissionMessage:void 0}}),j(he=>({...he,[n]:{}}))},[N,n,f,te]),de=(W,ce,he)=>{n&&te(ge=>{const xe={...ge.checklistData[W]};if(ce==="status"){const Be=he;xe.status=Be,Be!=="선택 안됨"&&(xe.confirmedAt=Fu()),ge.mainItemKey==="TU"&&W==="세척 기능"&&(xe.specialNotes=Be==="적합"?"있음":Be==="부적합"?"없음":"")}else xe[ce]=he;return{...ge,checklistData:{...ge.checklistData,[W]:xe},submissionStatus:"idle",submissionMessage:void 0}})},z=$.useCallback((W,ce)=>{te(he=>({...he,photoComments:{...he.photoComments,[W]:ce},submissionStatus:"idle",submissionMessage:void 0}))},[te]),v=W=>{te(ce=>({...ce,postInspectionDate:W,postInspectionDateConfirmedAt:W===wm[0]?null:Fu(),submissionStatus:"idle",submissionMessage:void 0}))},L=$.useCallback(()=>{if(!N)return;const W=Fu();te(ce=>{const he={...ce.checklistData};return Sa[ce.mainItemKey].forEach(xe=>{(ce.mainItemKey!=="TOC"||xe!==Yr&&xe!==mi)&&(he[xe]={...ce.checklistData[xe]||{},status:"적합",confirmedAt:W},ce.mainItemKey==="TU"&&xe==="세척 기능"&&(he[xe].specialNotes="있음"))}),{...ce,checklistData:he,submissionStatus:"idle",submissionMessage:void 0}}),D(null)},[N,te]),b=$.useCallback(async(W,ce=!1)=>{var $e,be,ft;if(!N||N.photos.length===0){const Me="판별을 위해 사진을 먼저 첨부하세요.";ce?D({targetItemName:W,message:Me,type:"error"}):U(Me);return}const he=ce?N.photos[f]:N.photos[0];if(!he)return;ce&&(Q(W),D(null)),y(!0),U(null);let ge="",xe,Be=W,Ue="";const De=(($e=lt.find(Me=>Me.key===N.mainItemKey))==null?void 0:$e.name)||N.mainItemKey;switch(W){case"정도검사 증명서":Ue="정도검사 증명서";const Me=new Date().getFullYear(),Ke=Me%100,Qe=Array.from({length:5},(Pe,Wt)=>`${Ke-Wt}-`).join("', '");ge=`
You are a highly precise data extraction assistant specializing in official Korean '정도검사 증명서' (Certificate of Inspection).
From the provided image of the certificate for a "${De}" device, extract ALL of the following fields. If a field is not visible, use an empty string "" as its value. DO NOT OMIT ANY FIELDS from the JSON structure.

- productName: The product name or model (품명/모델명).
- manufacturer: The manufacturer (제작사).
- serialNumber: The serial number (제작번호/기기번호).
- typeApprovalNumber: The type approval number (형식승인번호).
- inspectionDate: The date the inspection was conducted (검사일자).
- validity: The expiration date of the certificate (유효기간).
- previousReceiptNumber: The main certificate ID number, often labeled '제...호'. Extract ONLY the core number string (e.g., from '제21-018279-02-77호', extract '21-018279-02-77'). Follow this specific logic:
  1. The current year is ${Me}. Your primary goal is to find the most recent receipt number. Search for numbers starting with two-digit year prefixes in this descending order of priority: '${Qe}'.
  2. If you find numbers starting with multiple prefixes (e.g., '25-' and '24-'), you MUST choose and extract the one with the highest priority prefix (in this case, '25-').
  3. If you do not find any number matching these year-prefix patterns, then and only then should you extract any other identifiable main certificate number you can find on the document.

CRITICAL INSTRUCTIONS:
1. Date Format: Both 'inspectionDate' and 'validity' MUST be in YYYY-MM-DD format. Convert any other date format you find (e.g., YYYY.MM.DD or YYYY년 MM월 DD일) to this exact format.
2. Type Approval Number Format: The 'typeApprovalNumber' must start with '제' and end with '호'. For example, if the certificate shows 'WTMS-CODmn-2022-2', you must return '제WTMS-CODmn-2022-2호'.
3. Complete JSON: The final output must be a single, complete JSON object containing all the fields listed above. Do not omit any keys.

Respond ONLY with the JSON object. Do not include any other text, explanations, or markdown formatting.
`,xe={responseMimeType:"application/json",responseSchema:{type:Ie.OBJECT,properties:{productName:{type:Ie.STRING,description:"품명 또는 모델명"},manufacturer:{type:Ie.STRING,description:"제작사"},serialNumber:{type:Ie.STRING,description:"제작번호 또는 기기번호"},typeApprovalNumber:{type:Ie.STRING,description:"The type approval number (형식승인번호). CRITICAL: Ensure the final value starts with '제' and ends with '호'."},inspectionDate:{type:Ie.STRING,description:"검사일자. CRITICAL: Format as YYYY-MM-DD."},validity:{type:Ie.STRING,description:"유효기간. CRITICAL: Format as YYYY-MM-DD."},previousReceiptNumber:{type:Ie.STRING,description:"직전 접수번호 (핵심 번호만)"}},required:["productName","manufacturer","serialNumber","typeApprovalNumber","inspectionDate","validity","previousReceiptNumber"]}};break;case"표시사항확인":Ue="표시사항";let Se="";const Oe=N.mainItemKey;Oe==="Cl"?Se="CRITICAL HINT: The device may have multiple labels. You MUST find the specific '형식승인표' for 잔류염소 (Chlorine). The correct '형식승인번호' for this item will contain 'CM' or 'MULTI' (case-insensitive). Prioritize labels containing these identifiers. Ignore labels with 'TM' unless no 'CM' or 'MULTI' label is found.":Oe==="TU"?Se="CRITICAL HINT: The device may have multiple labels. You MUST find the specific '형식승인표' for 탁도 (Turbidity). The correct '형식승인번호' for this item will contain 'TM' or 'MULTI' (case-insensitive). Prioritize labels containing these identifiers. Ignore labels with 'CM' unless no 'TM' or 'MULTI' label is found.":(Oe==="TN"||Oe==="TP")&&(Se=`CRITICAL HINT: The device may have multiple labels. You MUST find the specific '형식승인표' for ${De}. The correct '형식승인번호' for this item will often contain '${Oe}' or 'MULTI' (case-insensitive). Prioritize labels containing these identifiers.`),ge=`
You are a highly precise data extraction assistant specializing in Korean equipment labels.
From the provided image, find the '형식승인표' (Type Approval Label) for the "${De}" device.
${Se}

Carefully extract ALL of the following fields. If a field is not visible, use an empty string "" as its value. DO NOT OMIT ANY FIELDS from the JSON structure.

- 제조회사 (Manufacturer)
- 기기형식 (Model Type)
- 형식승인번호 (Type Approval Number)
- 형식승인일 (Type Approval Date)
- 기기고유번호 (Serial Number / S/N)

CRITICAL INSTRUCTIONS:
1. Date Format: The '형식승인일' MUST be in YYYY-MM-DD format. Convert any other date format you find (e.g., YYYY.MM.DD or YYYY년 MM월 DD일) to this exact format.
2. Type Approval Number Format: The '형식승인번호' must start with '제' and end with '호'. For example, if the label shows 'WTMS-TN-2017-4', you must return '제WTMS-TN-2017-4호'.
3. Complete JSON: The final output must be a single, complete JSON object containing all the fields listed above. Do not omit any keys.

Respond ONLY with the JSON object. Do not include any other text, explanations, or markdown formatting.
`,xe={responseMimeType:"application/json",responseSchema:{type:Ie.OBJECT,properties:{제조회사:{type:Ie.STRING,description:"The manufacturer of the device (e.g., (주)에이치코비)."},기기형식:{type:Ie.STRING,description:"The model name or type of the device (e.g., HATN-4000)."},형식승인번호:{type:Ie.STRING,description:"The type approval number. CRITICAL: Format it to start with '제' and end with '호' (e.g., '제WTMS-TN-2017-4호')."},형식승인일:{type:Ie.STRING,description:"The date of type approval. CRITICAL: Format as YYYY-MM-DD."},기기고유번호:{type:Ie.STRING,description:"The unique serial number of the device (e.g., H4TN2M1509)."}},required:["제조회사","기기형식","형식승인번호","형식승인일","기기고유번호"]}};break;case"측정범위확인":Ue="측정범위",ge=`이미지에서 "${De}" 장비와 관련된 라벨을 찾으세요. 그 라벨에서 "측정범위"라는 텍스트를 찾고, 그 바로 옆이나 아래에 있는 값을 정확하게 추출하여 문자열로 반환해주세요. 예를 들어, "측정범위 0 ~ 100 mg/L"라고 되어 있으면 "0 ~ 100 mg/L"를 반환해야 합니다. 응답에는 추출된 범위 텍스트만 포함하고 다른 설명은 제외해주세요.`;break;case"측정방법확인":Ue="측정방법";const _e=Lw[N.mainItemKey];ge=`이미지에서 "${De}" 장비와 관련된 라벨을 찾으세요. 그 라벨에서 "측정방법"이라는 텍스트를 찾고, 그 바로 옆이나 아래에 있는 값을 정확하게 추출하여 문자열로 반환해주세요.`,_e&&(ge+=`

"${De}" 항목의 가장 유력한 측정 방법은 "${_e}"입니다. 이미지에서 이 텍스트를 우선적으로 찾아주세요. 만약 이 텍스트를 찾으면, 정확히 "${_e}"라고 반환하세요. 찾을 수 없다면, 보이는 그대로 측정 방법을 추출하세요.`),ge+=`
응답에는 추출된 텍스트만 포함하고 다른 설명은 제외해주세요.`;break;case"운용프로그램확인":Ue="운용프로그램",ge="이미지에서 장비의 운용프로그램 버전 또는 펌웨어 버전 정보를 찾아 문자열로 반환해주세요. 응답에는 버전 텍스트만 포함하고 다른 설명은 제외해주세요.";break;case"지시부 번호":Be="기기번호 확인",Ue="지시부 번호",ge="이미지에서 '지시부' 또는 '표시부'와 관련된 기기 번호나 시리얼 번호를 찾아 문자열로 반환해주세요. 응답에는 번호 텍스트만 포함하고 다른 설명은 제외해주세요.";break;case"센서부 번호":Be="기기번호 확인",Ue="센서부 번호",ge="이미지에서 '센서부'와 관련된 기기 번호나 시리얼 번호를 찾아 문자열로 반환해주세요. 응답에는 번호 텍스트만 포함하고 다른 설명은 제외해주세요.";break;default:U("지원되지 않는 분석 유형입니다."),y(!1),ce&&Q(null);return}try{const Me=(await cd(he.base64,he.mimeType,ge,xe)).trim();if(W==="정도검사 증명서"){const Ke=JSON.parse(Me),Qe=(be=N.checklistData[Be])==null?void 0:be.notes;let Se={presence:"not_selected"};try{Qe&&(Se=JSON.parse(Qe))}catch{}const Oe={...Se,...Ke,presence:"present"};de(Be,"notes",JSON.stringify(Oe))}else if(W==="측정범위확인"){const Ke=Bm[N.mainItemKey];let Qe=null;if(Ke&&Me){const Se=_e=>{const Pe=_e.match(/\d+(\.\d+)?/g);if(!Pe)return null;const Wt=Pe.map(bA=>parseFloat(bA)).filter(bA=>!isNaN(bA));return Wt.length===0?null:Math.max(...Wt)},Oe=Se(Me);if(Oe!==null)for(const _e of Ke){if(_e===Le||_e===Ia)continue;const Pe=Se(_e);if(Pe!==null&&Pe===Oe){Qe=_e;break}}}de(Be,"notes",Qe||`${Le} (${Me})`)}else if(W==="측정방법확인"){const Ke=gm[N.mainItemKey],Qe=Ke==null?void 0:Ke.find(Se=>{const Oe=Se.replace(/\s+/g,"").toLowerCase(),_e=Me.replace(/\s+/g,"").toLowerCase();return Oe.includes(_e)||_e.includes(Oe)});de(Be,"notes",Qe||`${Le} (${Me})`)}else if(W==="지시부 번호"||W==="센서부 번호"){const Qe=(((ft=N.checklistData[Be])==null?void 0:ft.notes)||"").split(",").map(Pe=>Pe.trim());let Se=Qe[0]||"",Oe=Qe.length>1?Qe[1]:"";W==="지시부 번호"?Se=Me.trim():Oe=Me.trim();const _e=[Se,Oe].filter(Boolean).join(", ");de(Be,"notes",_e)}else de(Be,"notes",Me);ce&&(Ue&&z(he.uid,Ue),D({targetItemName:W,message:`${le(W)} 판별 완료`,type:"success"}),j(Ke=>{const Qe={...Ke};return Qe[n]||(Qe[n]={}),Qe[n][f]||(Qe[n][f]=new Set),Qe[n][f].add(W),Qe}),G(Ke=>{const Qe=new Set(Ke[n]||[]);return Qe.add(W),{...Ke,[n]:Qe}}))}catch(Me){const Ke=`분석 오류: ${Me.message}`;ce?D({targetItemName:W,message:Ke,type:"error"}):U(Ke)}finally{y(!1),ce&&Q(null)}},[N,n,f,de,z,A,le]),I=async()=>{if(!N||!s.trim()){alert("활성 작업이 없거나 현장 위치가 입력되지 않았습니다.");return}q(!0),me(),O(N)};$.useEffect(()=>{if(!H)return;const ce=setTimeout(async()=>{var ge;const he=document.getElementById(`snapshot-container-for-${H.id}`);if(!he){alert("체크리스트 스냅샷 요소를 찾을 수 없습니다."),q(!1),O(null);return}try{const Be=(await uf(he,{backgroundColor:"#1e293b",width:he.offsetWidth,height:he.offsetHeight,scale:1.5})).toDataURL("image/png"),Ue=await(await fetch(Be)).blob(),De=Be.split(",")[1],$e=_o(H.receiptNumber);let be="";H.mainItemKey==="TP"?be="P":H.mainItemKey==="Cl"?be="C":H.mainItemKey!=="TN"&&(be=_o(H.mainItemKey));const ft=`${$e}${be?`_${be}`:""}_checklist.png`,Ke={file:new File([Ue],ft,{type:"image/png"}),base64:De,mimeType:"image/png"},Qe=H.photos.length>0?Gw(H.receiptNumber):void 0,Se=H.photos.length>0?$w(H.receiptNumber):void 0,Oe=[ft,Qe,Se].filter(Boolean),_e=jN([{...H,siteLocation:s,updateUser:t,photoFileNames:{},postInspectionDateValue:H.postInspectionDate}],s,void 0,t,Qe,Se);C({jsonPayload:_e,fileNames:Oe,context:{receiptNumber:H.receiptNumber,siteLocation:s,selectedItem:((ge=lt.find(Pe=>Pe.key===H.mainItemKey))==null?void 0:ge.name)||H.mainItemKey,userName:t},generatedChecklistImage:Ke}),m(!0)}catch(xe){console.error("Error generating checklist image:",xe),te(Be=>({...Be,submissionStatus:"error",submissionMessage:"체크리스트 이미지 생성 실패."}))}finally{q(!1),O(null)}},100);return()=>clearTimeout(ce)},[H,s,t,te]);const S=async()=>{if(!N||!x||!x.generatedChecklistImage){alert("전송 확인을 위한 데이터가 부족합니다."),m(!1);return}m(!1),te(W=>({...W,submissionStatus:"sending",submissionMessage:"전송 중..."}));try{const ce=(await Cm([N],[x.generatedChecklistImage],s,void 0,t))[0];ce&&ce.success?te(he=>({...he,submissionStatus:"success",submissionMessage:ce.message})):te(he=>({...he,submissionStatus:"error",submissionMessage:ce?ce.message:"알 수 없는 오류가 발생했습니다."}))}catch(W){te(ce=>({...ce,submissionStatus:"error",submissionMessage:`전송 실패: ${W.message}`}))}finally{C(null)}},k=async()=>{if(!s.trim()){alert("현장 위치를 입력해야 합니다.");return}if(e.length===0){alert("전송할 작업이 없습니다.");return}X(!0),J(`(0/${e.length}) 체크리스트 이미지 생성 시작...`),A(he=>he.map(ge=>({...ge,submissionStatus:"sending",submissionMessage:"대기 중..."})));const W=[];let ce=!1;for(let he=0;he<e.length;he++){const ge=e[he];J(`(${he+1}/${e.length}) '${ge.receiptNumber}' 체크리스트 캡처 중...`),O(ge),await new Promise(Be=>setTimeout(Be,100));const xe=document.getElementById(`snapshot-container-for-${ge.id}`);if(xe)try{const Ue=(await uf(xe,{backgroundColor:"#1e293b",width:xe.offsetWidth,height:xe.offsetHeight,scale:1.5})).toDataURL("image/png"),De=await(await fetch(Ue)).blob(),$e=_o(ge.receiptNumber);let be="";ge.mainItemKey==="TP"?be="P":ge.mainItemKey==="Cl"?be="C":ge.mainItemKey!=="TN"&&(be=_o(ge.mainItemKey));const ft=`${$e}${be?`_${be}`:""}_checklist.png`,Me=new File([De],ft,{type:"image/png"}),Ke=Ue.split(",")[1];W.push({file:Me,base64:Ke,mimeType:"image/png"})}catch{A(Ue=>Ue.map(De=>De.id===ge.id?{...De,submissionStatus:"error",submissionMessage:"체크리스트 이미지 생성 실패"}:De)),ce=!0}O(null)}if(ce){J("오류: 일부 체크리스트 이미지를 생성할 수 없습니다."),X(!1),O(null),setTimeout(()=>J(null),5e3);return}J("모든 체크리스트 이미지 생성 완료. KTL 서버로 전송합니다...");try{(await Cm(e,W,s,void 0,t)).forEach(ge=>{A(xe=>xe.map(Be=>{var Ue;return Be.receiptNumber===ge.receiptNo&&(((Ue=lt.find(De=>De.key===Be.mainItemKey))==null?void 0:Ue.name)||Be.mainItemKey)===ge.mainItem?{...Be,submissionStatus:ge.success?"success":"error",submissionMessage:ge.message}:Be}))})}catch(he){A(ge=>ge.map(xe=>({...xe,submissionStatus:"error",submissionMessage:`일괄 전송 실패: ${he.message}`})))}J("일괄 전송 완료."),X(!1),setTimeout(()=>J(null),5e3)},P=({status:W,message:ce})=>W==="idle"||!ce?null:W==="sending"?h.jsx("span",{className:"text-xs text-sky-400 animate-pulse",children:ce}):W==="success"?h.jsxs("span",{className:"text-xs text-green-400",children:["✅ ",ce]}):W==="error"?h.jsxs("span",{className:"text-xs text-red-400",title:ce,children:["❌ ",ce.length>30?ce.substring(0,27)+"...":ce]}):null,Z=p||w||F||!!Y,K=N?gm[N.mainItemKey]:void 0,ne=N?Bm[N.mainItemKey]:void 0,fe=(N==null?void 0:N.mainItemKey)==="PH"||(N==null?void 0:N.mainItemKey)==="TU"||(N==null?void 0:N.mainItemKey)==="Cl",se=({analysisType:W})=>{var Be;const ce=(M==null?void 0:M.targetItemName)===W?M:null,he=(Be=_==null?void 0:_[n])==null?void 0:Be.has(W),ge=T===W,xe=((N==null?void 0:N.mainItemKey)==="TU"||(N==null?void 0:N.mainItemKey)==="Cl")&&W==="운용프로그램확인";return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(He,{onClick:()=>b(W,!0),isAnalyzed:he&&!ge,className:`text-xs py-1.5 px-2.5 h-fit whitespace-nowrap w-full ${ge?"bg-slate-500 hover:bg-slate-500 text-slate-300":xe?"bg-slate-600 !text-slate-400":he?"bg-green-600 hover:bg-green-500 focus:ring-green-500 text-white":"bg-purple-600 hover:bg-purple-500 focus:ring-purple-500 text-white"}`,disabled:Z||ge||xe,title:xe?"이 항목은 AI 분석이 필요하지 않습니다.":void 0,children:ge?h.jsx(jt,{size:"sm"}):le(W)}),ce&&h.jsx("p",{className:`text-xs mt-1 text-center ${ce.type==="success"?"text-green-400":"text-red-400"}`,children:ce.message})]})};return h.jsxs("div",{className:"w-full max-w-4xl bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6",children:[H&&h.jsx("div",{style:{position:"fixed",left:"-9999px",top:"0",pointerEvents:"none",opacity:0},children:h.jsx(YL,{job:H})}),h.jsx("h2",{className:"text-2xl font-bold text-sky-400 border-b border-slate-700 pb-3",children:"구조 확인 (P4)"}),e.length>0&&h.jsxs("div",{className:"space-y-2 mt-4",children:[h.jsxs("h3",{className:"text-md font-semibold text-slate-200",children:["작업 목록 (",e.length,"개):"]}),h.jsx("div",{className:"max-h-60 overflow-y-auto bg-slate-700/20 p-2 rounded-md border border-slate-600/40 space-y-1.5",children:e.map(W=>{var ce;return h.jsxs("div",{className:`p-2.5 rounded-md cursor-pointer transition-all ${n===W.id?"bg-sky-600/30 ring-2 ring-sky-500":"bg-slate-700 hover:bg-slate-600/70"}`,onClick:()=>r(W.id),children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("span",{className:`text-sm font-medium ${n===W.id?"text-sky-300":"text-slate-200"}`,children:[W.receiptNumber," / ",(ce=lt.find(he=>he.key===W.mainItemKey))==null?void 0:ce.name]}),h.jsx("button",{onClick:he=>{he.stopPropagation(),i(W.id)},className:"ml-2 p-1.5 rounded-full text-slate-400 hover:text-white hover:bg-red-600 transition-colors flex-shrink-0",title:"이 작업 삭제","aria-label":`'${W.receiptNumber}' 작업 삭제`,children:h.jsx(qL,{})})]}),h.jsx("div",{className:"mt-1 text-right",children:h.jsx(P,{status:W.submissionStatus,message:W.submissionMessage})})]},W.id)})})]}),!N&&e.length>0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"계속하려면 위 목록에서 작업을 선택하세요."}),!N&&e.length===0&&h.jsx("p",{className:"text-center text-slate-400 p-4",children:"시작하려면 '공통 정보 및 작업 관리' 섹션에서 작업을 추가하세요."}),N&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"pt-4 border-t border-slate-700 space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"참고 사진 관리"}),o?h.jsx(Al,{onCapture:we,onClose:re}):h.jsxs(h.Fragment,{children:[h.jsx(Ii,{onImagesSet:V,onOpenCamera:oe,isLoading:Z,ref:c,selectedImageCount:N.photos.length}),f!==-1&&N.photos[f]&&h.jsx(nl,{imageBase64:N.photos[f].base64,fileName:N.photos[f].file.name,mimeType:N.photos[f].mimeType,receiptNumber:N.receiptNumber,siteLocation:s,item:(ue=lt.find(W=>W.key===N.mainItemKey))==null?void 0:ue.name,comment:N.photoComments[N.photos[f].uid],showOverlay:!0,totalSelectedImages:N.photos.length,currentImageIndex:f,onDelete:()=>Ae(f)}),f!==-1&&N.photos[f]&&h.jsxs("div",{className:"mt-2",children:[h.jsx("label",{htmlFor:"photo-comment",className:"text-sm font-medium text-slate-300 mb-1 block",children:"사진 코멘트 (선택 사항):"}),h.jsx("input",{type:"text",id:"photo-comment",value:N.photoComments[N.photos[f].uid]||"",onChange:W=>z(N.photos[f].uid,W.target.value),className:"w-full text-sm bg-slate-700 border border-slate-600 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",placeholder:"이 사진에 대한 코멘트 입력...",disabled:Z})]}),h.jsx(pl,{images:N.photos,currentIndex:f,onSelectImage:d,onDeleteImage:Ae,disabled:Z,analysisStatusForPhotos:R[n]}),N.photos.length>0&&h.jsxs("div",{className:"mt-4 p-3 bg-slate-700/40 rounded-lg border border-slate-600/50",children:[h.jsx("h4",{className:"text-md font-semibold text-slate-200 mb-2",children:"빠른 분석 (선택된 사진 대상)"}),h.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[h.jsx(se,{analysisType:"측정범위확인"}),h.jsx(se,{analysisType:"표시사항확인"}),h.jsx(se,{analysisType:"운용프로그램확인"}),h.jsx(se,{analysisType:"정도검사 증명서"}),(N.mainItemKey==="TU"||N.mainItemKey==="Cl")&&h.jsxs(h.Fragment,{children:[h.jsx(se,{analysisType:"지시부 번호"}),h.jsx(se,{analysisType:"센서부 번호"})]})]})]})]})]}),h.jsxs("div",{className:"space-y-1 mt-4 p-3 bg-slate-700/40 rounded-lg border border-slate-600/50",children:[h.jsxs("div",{className:"flex flex-wrap gap-2 justify-between items-center mb-2",children:[h.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["체크리스트: ",N.receiptNumber," / ",(Ee=lt.find(W=>W.key===N.mainItemKey))==null?void 0:Ee.name]}),h.jsx(He,{onClick:L,variant:"secondary",className:"text-xs py-1.5 px-3 bg-green-600 hover:bg-green-500",disabled:Z,children:"일괄 적합"})]}),h.jsx("div",{id:`checklist-for-${N.id}`,children:Sa[N.mainItemKey].map((W,ce)=>{var Be,Ue,De,$e;const he=W==="측정범위확인",ge=W==="측정방법확인";let xe;return he?xe=ne:ge&&(xe=K),h.jsx($L,{mainItemKey:N.mainItemKey,itemName:W,itemIndex:ce,status:((Be=N.checklistData[W])==null?void 0:Be.status)||"선택 안됨",onStatusChange:be=>de(W,"status",be),notes:((Ue=N.checklistData[W])==null?void 0:Ue.notes)||"",onNotesChange:be=>de(W,"notes",be),specialNotes:((De=N.checklistData[W])==null?void 0:De.specialNotes)||"",onSpecialNotesChange:be=>de(W,"specialNotes",be),confirmedAt:(($e=N.checklistData[W])==null?void 0:$e.confirmedAt)||null,disabled:Z,itemOptions:xe,onAnalyzeDetail:be=>b(be,!1),isAnalyzingDetail:w,detailAnalysisError:E,jobPhotosExist:N.photos.length>0,comparisonNote:W==="정도검사 증명서"?ae:null},`${N.id}-${W}`)})}),h.jsx("div",{className:"mt-4 pt-4 border-t border-slate-600",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-end",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"post-inspection-date",className:"block text-sm font-medium text-slate-300 mb-1",children:fe?"사후검사일":"사후검사 유효일자"}),fe?h.jsx("div",{className:"block w-full p-2.5 bg-slate-700/50 border border-slate-600 rounded-md text-slate-300 text-sm",children:"2년 후 (고정)"}):h.jsx("select",{id:"post-inspection-date",value:N.postInspectionDate,onChange:W=>v(W.target.value),disabled:Z,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-sm",children:wm.map(W=>h.jsx("option",{value:W,children:W},W))})]}),N.postInspectionDateConfirmedAt&&!fe&&h.jsxs("p",{className:"text-xs text-slate-400 md:text-right pb-2.5",children:["(확인: ",N.postInspectionDateConfirmedAt,")"]})]})}),h.jsxs("div",{className:"mt-6 pt-4 border-t border-slate-700",children:[h.jsx(He,{onClick:I,disabled:!s.trim()||p||w||N.submissionStatus==="sending"||F,fullWidth:!0,icon:F||N.submissionStatus==="sending"?h.jsx(jt,{size:"sm"}):void 0,children:F?"체크리스트 캡처 중...":N.submissionStatus==="sending"?"전송 중...":"활성 작업 KTL로 전송"}),N.submissionMessage&&N.submissionStatus!=="sending"&&h.jsxs("p",{className:`mt-3 text-sm text-center ${N.submissionStatus==="error"?"text-red-400":"text-green-400"}`,children:[N.submissionStatus==="success"?"✅":"❌"," ",N.submissionMessage]})]})]})]}),e.length>0&&h.jsxs("div",{className:"mt-8 pt-6 border-t border-slate-700 space-y-3",children:[h.jsx("h3",{className:"text-xl font-bold text-teal-400",children:"KTL 일괄 전송"}),h.jsx("p",{className:"text-sm text-slate-400",children:"이 페이지의 모든 작업을 KTL로 전송합니다. 이 작업은 시간이 걸릴 수 있으며 안정적인 Wi-Fi 환경에서 실행하는 것이 좋습니다."}),Y&&h.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-md text-sky-300 text-sm flex items-center gap-2",children:[h.jsx(jt,{size:"sm"}),h.jsx("span",{children:Y})]}),h.jsx(He,{onClick:k,disabled:Z,fullWidth:!0,variant:"secondary",className:"bg-teal-600 hover:bg-teal-500",children:Y?"전송 중...":`이 페이지의 모든 작업 전송 (${e.length}건)`})]}),B&&x&&h.jsx(dl,{isOpen:B,onClose:()=>m(!1),onConfirm:S,preflightData:x})]})},ZL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12L3.269 3.126A59.768 59.768 0 0121.485 12 59.77 59.77 0 013.27 20.876L5.999 12zm0 0h7.5"})}),jL=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),eR=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),tR=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.24.03 3.22.077m3.22-.077L10.88 5.79m2.558 0c-.29.042-.58.083-.87.124"})}),AR=({status:t,message:e})=>{if(t==="idle")return null;const A="flex items-center gap-2 text-xs p-1.5 rounded mt-2";return t==="sending"?h.jsxs("div",{className:`${A} bg-sky-800/50 text-sky-300`,children:[h.jsx(jt,{size:"sm"})," ",h.jsx("span",{children:"전송 중..."})]}):t==="success"?h.jsxs("div",{className:`${A} bg-green-800/50 text-green-300`,children:["✅ ",h.jsx("span",{children:e||"성공"})]}):t==="error"?h.jsxs("div",{className:`${A} bg-red-800/50 text-red-300 truncate`,title:e,children:["❌ ",h.jsx("span",{className:"truncate",children:e||"실패"})]}):null},nR=({userName:t,userContact:e})=>{const[A,n]=$.useState(new Date().getFullYear().toString()),[r,s]=$.useState("정도검사"),[i,o]=$.useState(e),[u,c]=$.useState(""),[f,d]=$.useState(""),[p,g]=$.useState("오전"),[B,m]=$.useState(""),[x,C]=$.useState([]),[w,y]=$.useState(""),[E,U]=$.useState(!1),[T,Q]=$.useState(""),[M,D]=$.useState(!1),[R,j]=$.useState(null),_=()=>{const H=u.trim(),O=f.trim(),N=p.trim(),le=B.trim();if(!H||!O||!N||!le){j({type:"error",message:"추가할 기관의 현장명, 기간, 도착예정시간, 수신자 번호를 모두 입력해주세요."});return}const ae=le.split(",").map(me=>me.trim()).filter(me=>me!=="");if(ae.length===0){j({type:"error",message:"유효한 수신자 번호를 입력해주세요."});return}const te=ae.map(me=>({id:self.crypto.randomUUID(),site:H,date:O,arrivalTime:N,phoneNumber:me,status:"idle",responseMessage:void 0}));C(me=>[...me,...te]),c(""),d(""),g("오전"),m(""),j(null)},G=(H,O,N)=>{C(le=>le.map(ae=>ae.id===H?{...ae,[O]:N,status:"idle",responseMessage:void 0}:ae)),j(null)},F=H=>{C(O=>O.filter(N=>N.id!==H)),j(null)},q=$.useCallback(()=>{n(new Date().getFullYear().toString()),s("정도검사"),o(e),c(""),d(""),g("오전"),m(""),C([]),y(""),U(!1),Q(""),j(null)},[e]),Y=$.useMemo(()=>{const H=x[0],O=(H==null?void 0:H.site.trim())||"{현장명}",N=(H==null?void 0:H.arrivalTime.trim())||"{오전/오후}",le=(H==null?void 0:H.date.trim())||"{기간}";let ae=`안녕하세요. 한국산업기술시험원 입니다.
${A.trim()||"{년도}"}년도 ${O} ${r.trim()||"{검사명}"} 일정을 아래와 같이 안내 드립니다.

▶도착예정시간: ${N} (정확한 시간은 담당자에게 문의해 주세요)
▶일정: ${le}
▶담당자: ${t}
▶연락처: ${i.trim()||"{연락처}"}`;return w.trim()&&(ae+=`
▶진행순서 확인 링크: ${w.trim()}`),ae+=`

자세한 사항이나 변동 사항은 담당자에게 직접 문의해 주시기 바랍니다.`,ae},[A,r,x,t,i,w]),J=async H=>{if(H.preventDefault(),t==="게스트"){j({type:"error",message:"게스트 사용자는 메시지를 전송할 수 없습니다."});return}const O=!A.trim()||!r.trim()||!i.trim()||x.length===0,N=x.some(te=>!te.site.trim()||!te.date.trim()||!te.arrivalTime.trim()||!te.phoneNumber.trim());if(O||N){j({type:"error",message:"모든 필수 항목(*)을 입력해주세요."});return}if(E&&!T){j({type:"error",message:"예약 전송 시간을 선택해주세요."});return}D(!0),j({type:"success",message:`일괄 전송을 시작합니다... (${x.length}건)`}),C(te=>te.map(me=>({...me,status:"sending",responseMessage:void 0})));let le=0;const ae=x.length;for(const te of x){let me=`안녕하세요. 한국산업기술시험원 입니다.
${A.trim()}년도 ${te.site.trim()} ${r.trim()} 일정을 아래와 같이 안내 드립니다.

▶도착예정시간: ${te.arrivalTime.trim()} (정확한 시간은 담당자에게 문의해 주세요)
▶일정: ${te.date.trim()}
▶담당자: ${t}
▶연락처: ${i.trim()}`;w.trim()&&(me+=`
▶진행순서 확인 링크: ${w.trim()}`),me+=`

자세한 사항이나 변동 사항은 담당자에게 직접 문의해 주시기 바랍니다.`;let oe;if(E&&T)try{const we=new Date(T),re=we.getFullYear(),V=String(we.getMonth()+1).padStart(2,"0"),Ae=String(we.getDate()).padStart(2,"0"),de=String(we.getHours()).padStart(2,"0"),z=String(we.getMinutes()).padStart(2,"0");oe=`${re}-${V}-${Ae} ${de}:${z}:00`}catch{}try{await t4(me,te.phoneNumber.trim(),oe),C(we=>we.map(re=>re.id===te.id?{...re,status:"success",responseMessage:"전송 성공"}:re)),le++}catch(we){C(re=>re.map(V=>V.id===te.id?{...V,status:"error",responseMessage:`실패: ${we.message}`}:V))}}D(!1),j({type:"success",message:`일괄 전송 완료. (성공: ${le} / ${ae})`})},ee=()=>{const H=new Date;H.setMinutes(H.getMinutes()+1);const O=H.getFullYear(),N=String(H.getMonth()+1).padStart(2,"0"),le=String(H.getDate()).padStart(2,"0"),ae=String(H.getHours()).padStart(2,"0"),te=String(H.getMinutes()).padStart(2,"0");return`${O}-${N}-${le}T${ae}:${te}`},X=M||!A.trim()||!r.trim()||!i.trim()||x.length===0||x.some(H=>!H.phoneNumber.trim()||!H.site.trim()||!H.date.trim()||!H.arrivalTime.trim())||E&&!T;return h.jsxs("div",{className:"w-full max-w-3xl bg-slate-800 shadow-2xl rounded-xl p-6 sm:p-8 space-y-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-sky-400 border-b border-slate-700 pb-3",children:"카카오톡 메시지 전송 (P5)"}),h.jsxs("form",{onSubmit:J,className:"space-y-5",children:[h.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-slate-600/50 space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"메시지 템플릿 입력"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kakao-year",className:"block text-sm font-medium text-slate-300 mb-1",children:["년도 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"kakao-year",value:A,onChange:H=>{n(H.target.value),j(null)},required:!0,disabled:M,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-slate-100 text-sm placeholder-slate-400 transition-colors",placeholder:"예: 2025"})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kakao-test-name",className:"block text-sm font-medium text-slate-300 mb-1",children:["검사명 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"kakao-test-name",value:r,onChange:H=>{s(H.target.value),j(null)},required:!0,disabled:M,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-slate-100 text-sm placeholder-slate-400 transition-colors",placeholder:"예: 정도검사"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"kakao-user-contact",className:"block text-sm font-medium text-slate-300 mb-1",children:["담당자 연락처 (수정 가능) ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"kakao-user-contact",value:i,onChange:H=>{o(H.target.value),j(null)},required:!0,disabled:M,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-slate-100 text-sm placeholder-slate-400 transition-colors",placeholder:"예: 010-0000-0000"})]})]}),h.jsxs("div",{className:"p-4 bg-slate-700/30 rounded-lg border border-slate-600/50 space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"수신 기관 목록"}),h.jsxs("div",{className:"space-y-3 bg-slate-800/50 p-3 rounded-md",children:[h.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-lg border border-slate-600/50 space-y-3",children:[h.jsx("h4",{className:"text-md font-semibold text-slate-200",children:"새 기관 추가"}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"new-entry-site",className:"block text-xs font-medium text-slate-400 mb-0.5",children:["현장명 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"new-entry-site",value:u,onChange:H=>c(H.target.value),placeholder:"예: 공공하수처리시설",className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"new-entry-date",className:"block text-xs font-medium text-slate-400 mb-0.5",children:["기간 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"new-entry-date",value:f,onChange:H=>d(H.target.value),placeholder:"예: 2025.01.01 ~ 01.02",className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"new-entry-arrival-time",className:"block text-xs font-medium text-slate-400 mb-0.5",children:["도착예정시간 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsxs("select",{id:"new-entry-arrival-time",value:p,onChange:H=>g(H.target.value),className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100",disabled:M,children:[h.jsx("option",{value:"오전",children:"오전"}),h.jsx("option",{value:"오후",children:"오후"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:"new-entry-phones",className:"block text-xs font-medium text-slate-400 mb-0.5",children:["수신자 번호(들) ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"new-entry-phones",value:B,onChange:H=>m(H.target.value),placeholder:"010-1234-5678, 010-8765-4321",className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"여러 번호는 쉼표(,)로 구분하여 입력하세요."})]}),h.jsx(He,{type:"button",onClick:_,variant:"secondary",fullWidth:!0,icon:h.jsx(eR,{}),disabled:M||!u.trim()||!f.trim()||!p.trim()||!B.trim(),children:"목록에 추가"})]}),x.length===0&&h.jsx("p",{className:"text-center text-sm text-slate-500 py-4",children:"아직 추가된 기관이 없습니다."}),x.map((H,O)=>h.jsxs("div",{className:"p-3 bg-slate-700 rounded-lg border border-slate-600 space-y-2 relative",children:[h.jsx("button",{type:"button",onClick:()=>F(H.id),className:"absolute top-2 right-2 p-1 text-slate-400 hover:text-red-400 hover:bg-slate-600 rounded-full","aria-label":`항목 ${O+1} 삭제`,children:h.jsx(tR,{})}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`site-${H.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"현장명 (수정 가능)"}),h.jsx("input",{type:"text",id:`site-${H.id}`,value:H.site,onChange:N=>G(H.id,"site",N.target.value),className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`date-${H.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"기간 (수정 가능)"}),h.jsx("input",{type:"text",id:`date-${H.id}`,value:H.date,onChange:N=>G(H.id,"date",N.target.value),className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:`arrivaltime-${H.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:"도착예정시간 (수정 가능)"}),h.jsxs("select",{id:`arrivaltime-${H.id}`,value:H.arrivalTime,onChange:N=>G(H.id,"arrivalTime",N.target.value),className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100",disabled:M,children:[h.jsx("option",{value:"오전",children:"오전"}),h.jsx("option",{value:"오후",children:"오후"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{htmlFor:`phone-${H.id}`,className:"block text-xs font-medium text-slate-400 mb-0.5",children:["수신자 번호 ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:`phone-${H.id}`,required:!0,value:H.phoneNumber,onChange:N=>G(H.id,"phoneNumber",N.target.value),className:"w-full text-sm bg-slate-600 border border-slate-500 rounded-md p-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-400",disabled:M})]}),h.jsx(AR,{status:H.status,message:H.responseMessage})]},H.id))]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-200",children:"메시지 미리보기"}),h.jsx("div",{className:"p-4 bg-slate-900 rounded-md border border-slate-700 text-sm text-slate-300 whitespace-pre-wrap",children:Y}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"미리보기는 목록의 첫 번째 항목을 기준으로 표시됩니다. 각 수신자는 자신의 정보에 맞는 메시지를 받게 됩니다."})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"kakao-file-link",className:"block text-sm font-medium text-slate-300 mb-1",children:"진행순서 확인 링크 (선택)"}),h.jsx("input",{type:"url",id:"kakao-file-link",value:w,onChange:H=>{y(H.target.value),j(null)},disabled:M,className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-slate-100 text-sm placeholder-slate-400 transition-colors",placeholder:"https://example.com/shared/link"})]}),h.jsxs("div",{className:"p-3 bg-slate-700/50 rounded-md border border-slate-600/50 space-y-2",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{id:"schedule-check",type:"checkbox",checked:E,onChange:H=>{U(H.target.checked),j(null)},disabled:M,className:"h-4 w-4 rounded border-slate-500 bg-slate-700 text-sky-600 focus:ring-sky-500"}),h.jsx("label",{htmlFor:"schedule-check",className:"ml-2 block text-sm font-medium text-slate-200",children:"예약 전송"})]}),E&&h.jsxs("div",{children:[h.jsx("label",{htmlFor:"schedule-time",className:"sr-only",children:"예약 시간"}),h.jsx("input",{type:"datetime-local",id:"schedule-time",value:T,onChange:H=>{Q(H.target.value),j(null)},required:E,min:ee(),disabled:M,className:"block w-full p-2.5 bg-slate-600 border border-slate-500 rounded-md shadow-sm focus:ring-sky-500 focus:border-sky-500 text-slate-100 text-sm placeholder-slate-400"}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"메시지를 보낼 미래의 시간을 선택하세요. (초 단위는 :00으로 자동 설정됩니다)"})]})]}),R&&h.jsx("div",{className:`p-3 text-sm rounded-md ${R.type==="success"?"bg-green-800/30 border border-green-600/50 text-green-300":"bg-red-800/30 border border-red-600/50 text-red-300"}`,role:"alert",children:R.message}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 pt-2",children:[h.jsx(He,{type:"button",onClick:q,variant:"secondary",icon:h.jsx(jL,{}),disabled:M,fullWidth:!0,children:"내용 지우기"}),h.jsx(He,{type:"submit",variant:"primary",icon:M?h.jsx(jt,{size:"sm"}):h.jsx(ZL,{}),disabled:X,fullWidth:!0,children:M?"전송 중...":`일괄 전송 (${x.length}건)`})]})]})]})},rR=()=>h.jsxs("header",{className:"w-full max-w-3xl mb-6 sm:mb-8 text-center",children:[h.jsx("div",{className:"inline-block p-3 bg-sky-500/20 rounded-full mb-4",children:h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-sky-400",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.375a9.75 9.75 0 007.966-4.624.5.5 0 000-.502A9.75 9.75 0 0012 8.625a9.75 9.75 0 00-7.966 4.624.5.5 0 000 .502A9.75 9.75 0 0012 18.375z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 15.375a3 3 0 100-6 3 3 0 000 6z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.5h16.5M3.75 9.75h16.5M3.75 15h16.5M3.75 20.25h16.5"})]})}),h.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300",children:"시험·검사 분석"}),h.jsx("p",{className:"text-slate-400 mt-2 text-md sm:text-lg px-2",children:"데이터를 분석하고 관련 정보를 기록 및 관리합니다."})]}),sR=()=>h.jsx("footer",{className:"w-full max-w-3xl mt-8 text-center py-6 border-t border-slate-700/50"}),Su="photoLogApp_ActiveSessions",iR=1e4,oR=({adminUserName:t})=>{const[e,A]=$.useState([]),[n,r]=$.useState(null),s=$.useCallback(()=>{try{const o=localStorage.getItem(Su);if(!o){A([]);return}const u=JSON.parse(o),c=Date.now(),f=5*60*1e3,d=Object.entries(u).filter(([p,g])=>!(p===t||c-g.lastSeen>f)).map(([p,g])=>({name:p,role:g.role,lastSeen:g.lastSeen,isGuest:p.toLowerCase()==="게스트"})).sort((p,g)=>g.lastSeen-p.lastSeen);A(d),r(null)}catch(o){console.error("Error fetching or parsing active sessions:",o),r("활성 사용자 목록을 가져오는 중 오류가 발생했습니다."),A([])}},[t]);$.useEffect(()=>{s();const o=setInterval(s,iR);return()=>clearInterval(o)},[s]);const i=$.useCallback(o=>{if(window.confirm(`${o} 사용자를 강제로 로그아웃하시겠습니까?`))try{const u=localStorage.getItem(Su);if(!u){r("활성 세션 데이터를 찾을 수 없습니다.");return}const c=JSON.parse(u);c[o]?(c[o].sessionId=self.crypto.randomUUID()+"_forced_logout",c[o].forceLogoutReason="관리자에 의해 강제 로그아웃되었습니다.",localStorage.setItem(Su,JSON.stringify(c)),s(),alert(`${o} 사용자의 세션이 무효화되었습니다. 해당 사용자는 다음 활동 시 로그아웃됩니다.`)):r(`${o} 사용자를 활성 세션 목록에서 찾을 수 없습니다.`)}catch(u){console.error("Error forcing logout:",u),r("강제 로그아웃 처리 중 오류가 발생했습니다.")}},[s]);return h.jsxs("div",{className:"w-full max-w-3xl mt-6 p-4 bg-slate-700/50 rounded-lg shadow-md border border-slate-600/50",children:[h.jsx("h3",{className:"text-xl font-semibold text-sky-300 mb-3 border-b border-slate-600 pb-2",children:"관리자 패널: 활성 사용자 관리"}),n&&h.jsx("p",{className:"text-red-400 text-sm mb-2",role:"alert",children:n}),e.length===0&&!n&&h.jsx("p",{className:"text-slate-400 text-sm",children:"현재 다른 활성 사용자가 없습니다."}),e.length>0&&h.jsx("div",{className:"space-y-2 max-h-72 overflow-y-auto pr-1",children:e.map(o=>h.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-slate-600 rounded-md shadow",children:[h.jsxs("div",{children:[h.jsx("span",{className:`font-medium ${o.isGuest?"text-amber-300":"text-slate-100"}`,children:o.name}),h.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:["(",o.role,")"]}),h.jsxs("p",{className:"text-xs text-slate-500",children:["마지막 활동: ",new Date(o.lastSeen).toLocaleString()]})]}),!o.isGuest&&h.jsx(He,{onClick:()=>i(o.name),variant:"danger",className:"text-xs px-2.5 py-1 h-auto",children:"강제 로그아웃"})]},o.name))})]})},aR={},Wn=aR,Qr=Wn==null?void 0:Wn.VITE_SAVE_TEMP_API_URL,_r=Wn==null?void 0:Wn.VITE_LOAD_TEMP_API_URL,qC=()=>{if(!Wn){const t="빌드 환경 오류: import.meta.env가 정의되지 않았습니다. Vite와 같은 빌드 도구로 앱이 빌드되었는지 확인하세요.";throw console.error(`[apiService] ${t}`),new Error(t)}if(!Qr||!_r){const t=[];Qr||t.push("VITE_SAVE_TEMP_API_URL"),_r||t.push("VITE_LOAD_TEMP_API_URL");const e=`API URL 환경변수가 설정되지 않았습니다: ${t.join(", ")}. 임시 저장/불러오기 기능이 작동하지 않습니다.`;throw console.error(`[apiService] ${e}`),new Error(e)}},lR=async t=>{qC();try{if(Qr!=null&&Qr.includes("/load-temp")){const n=new Error("환경 변수 설정 오류: VITE_SAVE_TEMP_API_URL에 불러오기 API 주소가 설정된 것 같습니다. 호스팅 환경의 변수 설정을 확인해주세요.");throw console.error("[apiService] "+n.message),n}console.log("Firestore 임시 저장 API 호출, 페이로드:",t);const e=await fetch(Qr,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){let n=`API 오류: ${e.status} ${e.statusText}`;try{const r=await e.json();r&&r.message&&(n=r.message)}catch{}throw new Error(n)}const A=await e.json();return console.log("Firestore 임시 저장 성공:",A),{message:A.message||"Firestore에 성공적으로 저장되었습니다."}}catch(e){throw console.error("Firestore 임시 저장 API 호출 실패:",e),new Error(e.message||"Firestore에 임시 저장 중 알 수 없는 오류가 발생했습니다.")}},uR=async t=>{qC();try{if(_r!=null&&_r.includes("/save-temp")){const s=new Error("환경 변수 설정 오류: VITE_LOAD_TEMP_API_URL에 저장 API 주소가 설정된 것 같습니다. 호스팅 환경의 변수 설정을 확인해주세요.");throw console.error("[apiService] "+s.message),s}console.log("Firestore 임시 저장 데이터 로딩 API 호출, 접수번호:",t);const e=new URL(_r);e.searchParams.append("receipt_no",t);const A=await fetch(e.toString(),{method:"GET",headers:{Accept:"application/json"}}),n=new Error(`저장된 임시 데이터를 찾을 수 없습니다 (접수번호: ${t}).`);if(!A.ok){let s=`API 오류: ${A.status} ${A.statusText}`;if(A.status===404)throw n;try{const i=await A.json();if(i&&i.message){if(i.message.toLowerCase().includes("not found"))throw n;s=i.message}}catch(i){if(i===n)throw i}throw new Error(s)}const r=await A.json();if(console.log("Firestore 데이터 로딩 성공:",r),!r||!r.values||Object.keys(r.values).length===0)throw n;return r}catch(e){throw console.error("Firestore 임시 저장 데이터 로딩 API 호출 실패:",e),e}},cR=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m-3-3l-3 3m0 0l3 3m-3-3h12.75"})}),fR=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),dR=()=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),pR=({userName:t,userRole:e,userContact:A,onLogout:n})=>{const[r,s]=$.useState("photoLog"),[i,o]=$.useState(""),[u,c]=$.useState(""),[f,d]=$.useState(""),[p,g]=$.useState(!1),[B,m]=$.useState(!1),[x,C]=$.useState(null),[w,y]=$.useState(""),[E,U]=$.useState([]),[T,Q]=$.useState(null),[M,D]=$.useState([]),[R,j]=$.useState(null),[_,G]=$.useState([]),[F,q]=$.useState(null),[Y,J]=$.useState([]),[ee,X]=$.useState(null),H=$.useCallback(S=>{U(k=>k.filter(P=>P.id!==S)),Q(k=>k===S?null:k)},[]),O=$.useCallback(S=>{D(k=>k.filter(P=>P.id!==S)),j(k=>k===S?null:k)},[]),N=$.useCallback(S=>{G(k=>k.filter(P=>P.id!==S)),q(k=>k===S?null:k)},[]),le=$.useCallback(S=>{J(k=>k.filter(P=>P.id!==S)),X(k=>k===S?null:k)},[]),ae=$.useMemo(()=>{const S=i.trim(),k=u.trim();return!S&&!k?"":S?k?`${S}-${k}`:S:k},[i,u]),te=$.useMemo(()=>{switch(r){case"photoLog":return E.find(S=>S.id===T);case"fieldCount":return M.find(S=>S.id===R);case"drinkingWater":return _.find(S=>S.id===F);case"structuralCheck":return Y.find(S=>S.id===ee);default:return null}},[r,T,E,R,M,F,_,ee,Y]);$.useEffect(()=>{if(te!=null&&te.receiptNumber){const S=te.receiptNumber,k=S.lastIndexOf("-");if(k!==-1&&k<S.length-1){const P=S.substring(0,k),Z=S.substring(k+1);o(P),c(Z)}else o(S),c("")}},[te]);const me=()=>{x&&setTimeout(()=>C(null),4e3)},oe=$.useCallback(()=>{var k,P,Z,K;let S=ae;return r==="photoLog"&&T?S=((k=E.find(ne=>ne.id===T))==null?void 0:k.receiptNumber)||ae:r==="fieldCount"&&R?S=((P=M.find(ne=>ne.id===R))==null?void 0:P.receiptNumber)||ae:r==="drinkingWater"&&F?S=((Z=_.find(ne=>ne.id===F))==null?void 0:Z.receiptNumber)||ae:r==="structuralCheck"&&ee&&(S=((K=Y.find(ne=>ne.id===ee))==null?void 0:K.receiptNumber)||ae),S},[r,ae,E,T,M,R,_,F,Y,ee]),we=$.useCallback(async()=>{const S=oe();if(!S||!S.trim()){C({type:"error",text:"저장하려면 접수번호를 입력하세요."}),me();return}g(!0),C(null);try{const k=E.filter(ue=>ue.receiptNumber===S),P=M.filter(ue=>ue.receiptNumber===S),Z=_.filter(ue=>ue.receiptNumber===S),K=Y.filter(ue=>ue.receiptNumber===S),ne=new Set,fe={};if([...k,...P].forEach(ue=>{if(ue.selectedItem==="TN/TP"?(ne.add("TN"),ne.add("TP")):ne.add(ue.selectedItem),ue.selectedItem==="TN/TP"){const Ee={},W={};(ue.processedOcrData||[]).forEach(ce=>{var he;ce.identifier&&ce.value.trim()&&(Ee[ce.identifier]={val:ce.value,time:ce.time}),ce.identifierTP&&((he=ce.valueTP)!=null&&he.trim())&&(W[ce.identifierTP]={val:ce.valueTP,time:ce.time})}),Object.keys(Ee).length>0&&(fe.TN={...fe.TN||{},...Ee}),Object.keys(W).length>0&&(fe.TP={...fe.TP||{},...W})}else{const Ee={};(ue.processedOcrData||[]).forEach(W=>{W.identifier&&W.value.trim()&&(Ee[W.identifier]={val:W.value,time:W.time})}),Object.keys(Ee).length>0&&(fe[ue.selectedItem]={...fe[ue.selectedItem]||{},...Ee})}}),Z.forEach(ue=>{const Ee=ue.selectedItem==="TU/CL"?["TU","Cl"]:[ue.selectedItem];Ee.forEach(W=>ne.add(W)),Ee.forEach(W=>{fe[W]||(fe[W]={}),(ue.processedOcrData||[]).forEach(ce=>{if(!ce.identifier||ce.identifier.includes("시작")||ce.identifier.includes("완료"))return;let he=W==="TU"?ce.value:ue.selectedItem==="TU/CL"?ce.valueTP:ce.value;ce.identifier&&he&&he.trim()&&(fe[W][ce.identifier]={val:he.trim(),time:ce.time})})})}),K.forEach(ue=>{ne.add(ue.mainItemKey);const Ee=new Date().toISOString();fe[ue.mainItemKey]={_checklistData:{val:JSON.stringify(ue.checklistData),time:Ee},_postInspectionDate:{val:ue.postInspectionDate,time:Ee}}}),ne.size===0){C({type:"error",text:"저장할 데이터가 없습니다."}),g(!1),me();return}await lR({receipt_no:S,site:f,item:Array.from(ne),user_name:t,values:fe}),C({type:"success",text:`'${S}'으로 저장되었습니다.`}),me()}catch(k){C({type:"error",text:`저장 실패: ${k.message}`}),me()}finally{g(!1)}},[oe,t,E,M,_,Y,f]),re=(S,k)=>{const{receipt_no:P,site:Z,values:K}=k,ne=(Z||"").split(" / "),fe=hm.map(se=>{var xe,Be,Ue,De,$e,be,ft,Me;const ue={id:self.crypto.randomUUID(),time:"",value:"",identifier:se};S==="TU/CL"&&(ue.valueTP="");const Ee=K.TU||{},W=K.Cl||{};let ce,he,ge;return S==="TU"?(ce=(xe=Ee[se])==null?void 0:xe.val,ge=(Be=Ee[se])==null?void 0:Be.time):S==="Cl"?(ce=(Ue=W[se])==null?void 0:Ue.val,ge=(De=W[se])==null?void 0:De.time):S==="TU/CL"&&(ce=($e=Ee[se])==null?void 0:$e.val,he=(be=W[se])==null?void 0:be.val,ge=((ft=Ee[se])==null?void 0:ft.time)||((Me=W[se])==null?void 0:Me.time)),ue.value=ce||"",ue.valueTP!==void 0&&(ue.valueTP=he||""),ue.time=ge||"",ue});return{id:self.crypto.randomUUID(),receiptNumber:P,selectedItem:S,details:ne.slice(1).join(" / "),processedOcrData:fe,decimalPlaces:2,photos:[],submissionStatus:"idle",submissionMessage:void 0,...S==="TU/CL"&&{decimalPlacesCl:2}}},V=$.useCallback(async()=>{var k,P,Z,K;const S=ae;if(!S||!S.trim()){C({type:"error",text:"불러오려면 접수번호를 입력하세요."}),me();return}m(!0),C(null);try{const ne=await uR(S),{receipt_no:fe,site:se,item:ue,values:Ee}=ne,W=fe.split("-"),ce=W.pop()||"",he=W.join("-");o(he),c(ce),d(se);const ge=["수질","현장 계수"],xe=ue.filter(_e=>{var Pe;return(Pe=Kn.find(Wt=>ge.includes(Wt.label)))==null?void 0:Pe.items.includes(_e)}),Be=new Set(xe),Ue=[];Be.has("TN")&&Be.has("TP")&&(Ue.push("TN/TP"),Be.delete("TN"),Be.delete("TP")),Be.forEach(_e=>Ue.push(_e));const De=_e=>{const Pe=[];if(_e==="TN/TP"){const Wt=Ee.TN||{},bA=Ee.TP||{},Nt={};Object.entries(Wt).forEach(([Rt,DA])=>{const MA=DA.time||Rt;Nt[MA]||(Nt[MA]={id:self.crypto.randomUUID(),time:DA.time}),Nt[MA].value=DA.val,Nt[MA].identifier=Rt}),Object.entries(bA).forEach(([Rt,DA])=>{const MA=DA.time||Rt;Nt[MA]||(Nt[MA]={id:self.crypto.randomUUID(),time:DA.time}),Nt[MA].valueTP=DA.val,Nt[MA].identifierTP=Rt}),Object.values(Nt).sort((Rt,DA)=>(Rt.time||"").localeCompare(DA.time||"")).forEach(Rt=>{Pe.push({id:Rt.id,time:Rt.time||"",value:Rt.value||"",valueTP:Rt.valueTP,identifier:Rt.identifier,identifierTP:Rt.identifierTP})})}else{const Wt=Ee[_e]||{};Object.entries(Wt).sort(([,bA],[,Nt])=>(bA.time||"").localeCompare(Nt.time||"")).forEach(([bA,Nt])=>{Nt&&Pe.push({id:self.crypto.randomUUID(),time:Nt.time,value:Nt.val,identifier:bA})})}return{id:self.crypto.randomUUID(),receiptNumber:fe,siteLocation:se,selectedItem:_e,photos:[],photoComments:{},processedOcrData:Pe,rangeDifferenceResults:null,concentrationBoundaries:null,decimalPlaces:0,details:"",decimalPlacesCl:void 0,ktlJsonPreview:null,draftJsonPreview:null,submissionStatus:"idle",submissionMessage:void 0}},$e=Ue.map(De),be=Ue.map(De);U(_e=>[..._e.filter(Pe=>Pe.receiptNumber!==fe),...$e]),D(_e=>[..._e.filter(Pe=>Pe.receiptNumber!==fe),...be]),r==="photoLog"&&Q(((k=$e[0])==null?void 0:k.id)||null),r==="fieldCount"&&j(((P=be[0])==null?void 0:P.id)||null);const ft=ue.includes("TU"),Me=ue.includes("Cl"),Ke=ue.includes("TU/CL");let Qe=[];ft&&Me||Ke?Qe.push(re("TU/CL",ne)):(ft&&Qe.push(re("TU",ne)),Me&&Qe.push(re("Cl",ne))),G(_e=>[..._e.filter(Pe=>Pe.receiptNumber!==fe),...Qe]),r==="drinkingWater"&&q(((Z=Qe[0])==null?void 0:Z.id)||null);const Oe=ue.filter(_e=>lt.some(Pe=>Pe.key===_e)).map(_e=>{var Wt;const Pe=Ee[_e];return!Pe||!Pe._checklistData?null:{id:self.crypto.randomUUID(),receiptNumber:fe,mainItemKey:_e,checklistData:JSON.parse(Pe._checklistData.val),postInspectionDate:((Wt=Pe._postInspectionDate)==null?void 0:Wt.val)||"선택 안됨",postInspectionDateConfirmedAt:null,photos:[],photoComments:{},submissionStatus:"idle",submissionMessage:void 0}}).filter(Boolean);J(_e=>[..._e.filter(Pe=>Pe.receiptNumber!==fe),...Oe]),r==="structuralCheck"&&X(((K=Oe[0])==null?void 0:K.id)||null),C({type:"success",text:`'${fe}' 데이터를 모든 관련 페이지에 불러왔습니다.`}),me()}catch(ne){C({type:"error",text:`불러오기 실패: ${ne.message}`}),me()}finally{m(!1)}},[ae,r]),Ae=$.useCallback(()=>{if(!w||!ae||!f.trim()){alert("항목, 접수번호, 현장 위치를 모두 입력해주세요.");return}if(r==="photoLog"||r==="fieldCount"){const k={id:self.crypto.randomUUID(),receiptNumber:ae,siteLocation:f,selectedItem:w,photos:[],photoComments:{},processedOcrData:null,rangeDifferenceResults:null,concentrationBoundaries:null,decimalPlaces:0,details:"",ktlJsonPreview:null,draftJsonPreview:null,submissionStatus:"idle",submissionMessage:void 0};r==="photoLog"?(U(P=>[...P,k]),Q(k.id)):(D(P=>[...P,k]),j(k.id))}else if(r==="drinkingWater"){const k=hm.map(Z=>({id:self.crypto.randomUUID(),time:"",value:"",identifier:Z,isRuleMatched:!1,...w==="TU/CL"&&{valueTP:""}})),P={id:self.crypto.randomUUID(),receiptNumber:ae,selectedItem:w,details:"",processedOcrData:k,decimalPlaces:2,photos:[],submissionStatus:"idle",submissionMessage:void 0,...w==="TU/CL"&&{decimalPlacesCl:2}};G(Z=>[...Z,P]),q(P.id)}else if(r==="structuralCheck"){const k=w,P=Object.fromEntries(Sa[k].map(ne=>{let fe="";if(ne==="정도검사 증명서"&&(fe=JSON.stringify({presence:"not_selected"})),ne==="측정방법확인"){const se=Lw[k];se&&(fe=se)}return[ne,{status:"선택 안됨",notes:fe,confirmedAt:null,specialNotes:""}]}));k==="PH"&&(P.측정범위확인.notes="pH 0-14"),k==="TU"&&(P.측정범위확인.notes="0-10 NTU"),k==="Cl"&&(P.측정범위확인.notes="0-2 mg/L");const Z=k==="PH"||k==="TU"||k==="Cl",K={id:self.crypto.randomUUID(),receiptNumber:ae,mainItemKey:k,checklistData:P,postInspectionDate:Z?"2년 후":"선택 안됨",postInspectionDateConfirmedAt:null,photos:[],photoComments:{},submissionStatus:"idle",submissionMessage:void 0};J(ne=>[...ne,K]),X(K.id)}const S=parseInt(u,10);!isNaN(S)&&u.length>0&&c(String(S+1).padStart(u.length,"0")),y("")},[w,ae,u,r,f]),de=$.useMemo(()=>{var S,k,P;return r==="photoLog"?((S=Kn.find(Z=>Z.label==="수질"))==null?void 0:S.items)||[]:r==="fieldCount"?((k=Kn.find(Z=>Z.label==="현장 계수"))==null?void 0:k.items)||[]:r==="drinkingWater"?((P=Kn.find(Z=>Z.label==="먹는물"))==null?void 0:P.items)||[]:r==="structuralCheck"?Mw:[]},[r]),z="px-3 py-2 rounded-md font-medium transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-sky-500 text-xs sm:text-sm flex-grow sm:flex-grow-0",v="bg-sky-500 text-white",L="bg-slate-700 hover:bg-slate-600 text-slate-300",b=()=>{switch(r){case"photoLog":return h.jsx(u4,{userName:t,jobs:E,setJobs:U,activeJobId:T,setActiveJobId:Q,siteLocation:f,onDeleteJob:H});case"fieldCount":return h.jsx(VL,{userName:t,jobs:M,setJobs:D,activeJobId:R,setActiveJobId:j,siteLocation:f,onDeleteJob:O});case"drinkingWater":return h.jsx(PL,{userName:t,jobs:_,setJobs:G,activeJobId:F,setActiveJobId:q,siteLocation:f,onDeleteJob:N});case"structuralCheck":return h.jsx(XL,{userName:t,jobs:Y,setJobs:J,activeJobId:ee,setActiveJobId:X,siteLocation:f,onDeleteJob:le});case"kakaoTalk":return h.jsx(nR,{userName:t,userContact:A});default:return null}},I=["photoLog","fieldCount","drinkingWater","structuralCheck"].includes(r);return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-slate-100 flex flex-col items-center p-4 sm:p-8 font-[Inter]",children:[h.jsx(rR,{}),h.jsxs("div",{className:"w-full max-w-3xl mb-4 flex flex-col sm:flex-row justify-between items-center bg-slate-800/50 p-3 rounded-lg shadow",children:[h.jsxs("div",{className:"text-sm text-sky-300 mb-2 sm:mb-0",children:["환영합니다, ",h.jsx("span",{className:"font-semibold",children:t}),"님!"]}),h.jsx(He,{onClick:n,variant:"secondary",className:"bg-red-600 hover:bg-red-700 focus:ring-red-500 text-white text-xs px-3 py-1.5 h-auto",icon:h.jsx(cR,{}),children:"로그아웃"})]}),r!=="kakaoTalk"&&h.jsxs("div",{className:"w-full max-w-3xl mb-6 p-4 bg-slate-700/40 rounded-lg border border-slate-600/50 shadow-sm space-y-4",children:[h.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"공통 정보 및 작업 관리"}),h.jsx("div",{className:"space-y-3",children:h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-12 gap-x-3 gap-y-4 items-end",children:[h.jsxs("div",{className:"sm:col-span-3",children:[h.jsxs("label",{htmlFor:"global-receipt-common",className:"block text-sm font-medium text-slate-300 mb-1",children:["접수번호 (공통) ",h.jsx("span",{className:"text-amber-400 font-bold",children:"*"})]}),h.jsx("input",{type:"text",id:"global-receipt-common",value:i,onChange:S=>o(S.target.value),className:"block w-full p-2.5 bg-slate-800 border border-amber-500 rounded-md shadow-sm text-amber-200 text-sm placeholder-slate-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400",placeholder:"예: 25-000000-01"})]}),h.jsxs("div",{className:"sm:col-span-1",children:[h.jsxs("label",{htmlFor:"global-receipt-detail",className:"block text-sm font-medium text-slate-300 mb-1",children:["(세부) ",h.jsx("span",{className:"text-amber-400 font-bold",children:"*"})]}),h.jsx("input",{type:"text",id:"global-receipt-detail",value:u,onChange:S=>c(S.target.value),className:"block w-full p-2.5 bg-slate-800 border border-amber-500 rounded-md shadow-sm text-amber-200 text-sm placeholder-slate-400 focus:ring-2 focus:ring-amber-400 focus:border-amber-400",placeholder:"예: 1"})]}),h.jsxs("div",{className:"sm:col-span-3",children:[h.jsxs("label",{htmlFor:"global-site-location",className:"block text-sm font-medium text-slate-300 mb-1",children:["현장 위치 (공통) ",h.jsx("span",{className:"text-red-400",children:"*"})]}),h.jsx("input",{type:"text",id:"global-site-location",value:f,onChange:S=>d(S.target.value),className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-slate-100 text-sm",placeholder:"예: OO처리장"})]}),I&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"sm:col-span-5",children:[h.jsx("label",{htmlFor:"new-task-item",className:"block text-sm font-medium text-slate-300 mb-1",children:"항목"}),h.jsxs("select",{id:"new-task-item",value:w,onChange:S=>y(S.target.value),className:"block w-full p-2.5 bg-slate-700 border border-slate-500 rounded-md shadow-sm text-slate-100 text-sm h-[42px]",children:[h.jsx("option",{value:"",disabled:!0,children:"선택..."}),Array.isArray(de)&&de.length>0&&typeof de[0]=="object"&&de[0]!==null&&"label"in de[0]?de.map(S=>h.jsx("optgroup",{label:S.label,children:S.items.map(k=>h.jsx("option",{value:k.key,children:k.name},k.key))},S.label)):de.map(S=>h.jsx("option",{value:S,children:S},S))]})]}),h.jsx("div",{className:"sm:col-span-12",children:h.jsx(He,{onClick:Ae,fullWidth:!0,children:"추가"})})]})]})}),h.jsxs("div",{className:"pt-4 border-t border-slate-600 space-y-3",children:[h.jsx("h4",{className:"text-md font-semibold text-slate-200",children:"데이터 관리"}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[h.jsx(He,{onClick:we,variant:"secondary",icon:p?h.jsx(jt,{size:"sm"}):h.jsx(fR,{}),disabled:p||B,children:p?"저장 중...":"임시 저장"}),h.jsx(He,{onClick:V,variant:"secondary",icon:B?h.jsx(jt,{size:"sm"}):h.jsx(dR,{}),disabled:p||B,children:B?"로딩 중...":"불러오기"})]}),x&&h.jsxs("p",{className:`text-xs text-center ${x.type==="success"?"text-green-400":"text-red-400"}`,role:"status",children:[x.type==="success"?"✅":"❌"," ",x.text]}),h.jsx("p",{className:"text-xs text-slate-500 text-center",children:"임시 저장은 현재 활성 작업의 접수번호와 동일한 모든 작업을 함께 저장/불러오기 합니다."})]})]}),h.jsxs("nav",{className:"w-full max-w-4xl mb-6 flex justify-center space-x-1 sm:space-x-2 p-2 bg-slate-800 rounded-lg shadow-md",children:[h.jsx("button",{onClick:()=>s("photoLog"),className:`${z} ${r==="photoLog"?v:L}`,"aria-pressed":r==="photoLog",children:"수질 분석 (P1)"}),h.jsx("button",{onClick:()=>s("fieldCount"),className:`${z} ${r==="fieldCount"?v:L}`,"aria-pressed":r==="fieldCount",children:"현장 계수 (P2)"}),h.jsx("button",{onClick:()=>s("drinkingWater"),className:`${z} ${r==="drinkingWater"?v:L}`,"aria-pressed":r==="drinkingWater",children:"먹는물 분석 (P3)"}),h.jsx("button",{onClick:()=>s("structuralCheck"),className:`${z} ${r==="structuralCheck"?v:L}`,"aria-pressed":r==="structuralCheck",children:"구조 확인 (P4)"}),h.jsx("button",{onClick:()=>s("kakaoTalk"),className:`${z} ${r==="kakaoTalk"?v:L}`,"aria-pressed":r==="kakaoTalk",children:"카톡 전송 (P5)"})]}),b(),e==="admin"&&h.jsx(oR,{adminUserName:t}),h.jsx(sR,{})]})},hR={김종진:{password:"1212",role:"user",contact:"010-8412-8602"},김성대:{password:"3621",role:"user",contact:"010-5325-9074"},정진욱:{password:"2543",role:"user",contact:"010-4480-3262"},권민경:{password:"7315",role:"user",contact:"010-8898-8272"},정슬기:{password:"6357",role:"user",contact:"010-9911-3837"},김수철:{password:"0821",role:"user",contact:"010-9980-0529"},강준:{password:"6969",role:"user",contact:"010-4192-2600"}},mR=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})}),gR=t=>h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})}),BR=({onLoginSuccess:t})=>{const[e,A]=$.useState(""),[n,r]=$.useState(""),[s,i]=$.useState(null),o=$.useCallback(u=>{u.preventDefault();const c=e.trim(),f=n.trim();if(c===""){i("ID을 입력해주세요.");return}if(f===""){i("비밀번호를 입력해주세요.");return}const d=hR[c];d&&d.password===f?(i(null),t(c,d.role,d.contact)):i("ID 또는 비밀번호가 올바르지 않습니다.")},[e,n,t]);return h.jsx("div",{className:"fixed inset-0 bg-slate-900 bg-opacity-95 backdrop-blur-sm flex flex-col items-center justify-center p-4 z-50 font-[Inter]",children:h.jsxs("div",{className:"bg-slate-800 p-6 sm:p-8 rounded-xl shadow-2xl w-full max-w-md text-center",children:[h.jsx("div",{className:"inline-block p-3 bg-sky-500/20 rounded-full mb-4",children:h.jsx(mR,{className:"w-10 h-10 text-sky-400"})}),h.jsx("h1",{className:"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-sky-400 to-cyan-300 mb-3",children:"로그인"}),h.jsx("p",{className:"text-slate-400 mb-6 text-sm",children:"ID와 비밀번호를 입력해주세요."}),h.jsxs("form",{onSubmit:o,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"user-name",className:"sr-only",children:"ID"}),h.jsx("input",{type:"text",id:"user-name",value:e,onChange:u=>{A(u.target.value),s&&i(null)},placeholder:"ID",required:!0,"aria-describedby":s?"login-error":void 0,className:"block w-full p-3 bg-slate-700 border border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-500 text-sm transition-colors"})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"user-password",className:"sr-only",children:"비밀번호"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"password",id:"user-password",value:n,onChange:u=>{r(u.target.value),s&&i(null)},placeholder:"비밀번호",required:!0,"aria-describedby":s?"login-error":void 0,className:"block w-full p-3 pl-10 bg-slate-700 border border-slate-600 rounded-lg shadow-sm focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-100 placeholder-slate-500 text-sm transition-colors"}),h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(gR,{className:"h-5 w-5 text-slate-400"})})]})]}),s&&h.jsx("p",{id:"login-error",className:"text-red-400 text-xs mt-1.5 text-left",children:s}),h.jsx(He,{type:"submit",fullWidth:!0,children:"로그인"})]})]})})},Ts="photoLogAppUserData_CurrentTab",kn="photoLogApp_ActiveSessions",wR=5e3,CR=3e4,vR=()=>{const[t,e]=$.useState(null),[A,n]=$.useState(!0);$.useEffect(()=>{const i=sessionStorage.getItem(Ts);if(i)try{const o=JSON.parse(i);o.name&&o.role&&o.sessionId&&o.contact?e(o):sessionStorage.removeItem(Ts)}catch(o){console.error("Error parsing saved user data for current tab:",o),sessionStorage.removeItem(Ts)}n(!1)},[]);const r=$.useCallback((i,o,u)=>{const c=self.crypto.randomUUID(),f={name:i,role:o,contact:u,sessionId:c};e(f),sessionStorage.setItem(Ts,JSON.stringify(f));const d=localStorage.getItem(kn),p=d?JSON.parse(d):{};p[i]={role:o,sessionId:c,lastSeen:Date.now(),forceLogoutReason:void 0},localStorage.setItem(kn,JSON.stringify(p))},[]),s=$.useCallback((i=!1,o)=>{const u=t==null?void 0:t.name;if(e(null),sessionStorage.removeItem(Ts),u){const c=localStorage.getItem(kn);if(c){const f=JSON.parse(c);i||(delete f[u],localStorage.setItem(kn,JSON.stringify(f)))}}i&&o&&alert(o)},[t==null?void 0:t.name]);return $.useEffect(()=>{let i,o;if(t!=null&&t.sessionId&&t.name){const u=t.sessionId,c=t.name;i=window.setInterval(()=>{const f=localStorage.getItem(kn);if(!f){s(!0,"세션 정보를 찾을 수 없어 로그아웃됩니다.");return}try{const p=JSON.parse(f)[c];p?p.sessionId!==u&&s(!0,p.forceLogoutReason||"다른 위치에서 로그인하여 현재 세션이 종료되었습니다."):s(!0,"세션이 만료되었거나 다른 관리자에 의해 종료되었습니다.")}catch(d){console.error("Error validating session from ACTIVE_SESSIONS_KEY:",d),s(!0,"세션 검증 중 오류가 발생하여 로그아웃됩니다.")}},wR),o=window.setInterval(()=>{const f=localStorage.getItem(kn);if(f)try{const d=JSON.parse(f);d[c]&&(d[c].lastSeen=Date.now(),localStorage.setItem(kn,JSON.stringify(d)))}catch(d){console.error("Error updating lastSeen in heartbeat:",d)}},CR)}return()=>{i&&clearInterval(i),o&&clearInterval(o)}},[t,s]),A?h.jsx("div",{className:"fixed inset-0 bg-slate-900 flex items-center justify-center"}):t?h.jsx(Ux,{children:h.jsx(pR,{userName:t.name,userRole:t.role,userContact:t.contact,onLogout:()=>s(!1)})}):h.jsx(BR,{onLoginSuccess:r})},XC=document.getElementById("root");if(!XC)throw new Error("Could not find root element to mount to");const yR=Iu.createRoot(XC);yR.render(h.jsx(dv.StrictMode,{children:h.jsx(vR,{})}));
